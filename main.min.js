(()=>{var e,t={O09Z:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{LOAD_LOGICAL_DEVICES:()=>le,NOTIFY_ERROR:()=>K,NOTIFY_SUCCESS:()=>G,OPEN_TEXT_DOCUMENT:()=>pe,OS_COPY_FILE:()=>te,OS_FS_GLOB:()=>se,OS_IS_DIR:()=>oe,OS_IS_FILE:()=>ie,OS_LIST_DIR:()=>ne,OS_MAKE_DIRS:()=>re,OS_OPEN_URL:()=>Q,OS_RENAME_FILE:()=>ee,OS_REVEAL_FILE:()=>X,REQUEST_CONTENT:()=>ae,RESET_FS_ITEMS:()=>ce,SHOW_AT_STARTUP:()=>J,TOGGLE_FAVORITE_FOLDER:()=>ue,UPDATE_ROUTE_BADGE:()=>H,loadLogicalDevices:()=>ke,notifyError:()=>de,notifySuccess:()=>me,openTextDocument:()=>Re,osCopyFile:()=>Ee,osFsGlob:()=>Pe,osIsDir:()=>Oe,osIsFile:()=>je,osListDir:()=>we,osMakeDirs:()=>ve,osOpenUrl:()=>ge,osRenameFile:()=>be,osRevealFile:()=>ye,requestContent:()=>Ce,resetFSItems:()=>Se,showAtStartup:()=>he,toggleFavoriteFolder:()=>De,updateRouteBadge:()=>fe});var i={};r.r(i),r.d(i,{FORGOT_ACCOUNT:()=>ze,LOAD_ACCOUNT_INFO:()=>qe,LOGIN_ACCOUNT:()=>_e,LOGIN_WITH_PROVIDER:()=>Fe,LOGOUT_ACCOUNT:()=>Le,PASSWORD_ACCOUNT:()=>Ue,REGISTER_ACCOUNT:()=>Ae,SHOW_ACCOUNT_TOKEN:()=>Ze,UPDATE_PROFILE:()=>Ve,changeAccountPassword:()=>He,forgotAccountPassword:()=>Ge,loadAccountInfo:()=>$e,loginAccount:()=>Be,loginWithProvider:()=>Ye,logoutAccount:()=>Me,registerAccount:()=>We,showAccountToken:()=>Je,updateProfile:()=>Ke});var o={};r.r(o),r.d(o,{LOAD_MDNS_DEVICES:()=>Ht,LOAD_SERIAL_DEVICES:()=>Gt,loadMDNSDevices:()=>Qt,loadSerialDevices:()=>Jt});var s={};r.r(s),r.d(s,{INSTALL_PLATFORM:()=>Fi,LOAD_BOARDS:()=>Ri,LOAD_FRAMEWORK_DATA:()=>Ii,LOAD_INSTALLED_PLATFORMS:()=>qi,LOAD_PLATFORM_DATA:()=>Ni,LOAD_PLATFORM_UPDATES:()=>_i,LOAD_REGISTRY_FRAMEWORKS:()=>xi,LOAD_REGISTRY_PLATFORMS:()=>Ti,UNINSTALL_PLATFORM:()=>Li,UPDATE_PLATFORM:()=>Ai,installPlatform:()=>Yi,loadBoards:()=>zi,loadFrameworkData:()=>$i,loadInstalledPlatforms:()=>Bi,loadPlatformData:()=>Zi,loadPlatformUpdates:()=>Mi,loadRegistryFrameworks:()=>Vi,loadRegistryPlatforms:()=>Ui,uninstallPlatform:()=>Wi,updatePlatform:()=>Ki});var a={};r.r(a),r.d(a,{ADD_PROJECT:()=>to,HIDE_PROJECT:()=>ro,IMPORT_ARDUINO_PROJECT:()=>lo,IMPORT_PROJECT:()=>io,INIT_PROJECT:()=>ao,LOAD_CONFIG_SCHEMA:()=>uo,LOAD_PROJECTS:()=>oo,LOAD_PROJECT_CONFIG:()=>po,LOAD_PROJECT_EXAMPLES:()=>co,LOAD_SERIAL_PORTS:()=>ho,OPEN_PROJECT:()=>no,PROJECTS_LOADED:()=>so,SAVE_PROJECT_CONFIG:()=>mo,UPDATE_CONFIG_DESCRIPTION:()=>fo,addProject:()=>go,hideProject:()=>yo,importArduinoProject:()=>Oo,importProject:()=>Eo,initProject:()=>jo,loadConfigSchema:()=>Co,loadProjectConfig:()=>ko,loadProjectExamples:()=>Po,loadProjects:()=>vo,openProject:()=>bo,projectsLoaded:()=>wo,saveProjectConfig:()=>So,updateConfigDescription:()=>Do});var l=r("8NJ8"),c=r("mM01");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t={}){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e},t)}const m="CONNECT_ROUTER",f="STORE_READY",h="LOAD_STORE",g="UPDATE_STORE",y="RESET_STORE",b="SAVE_STATE",E="STATE_SAVED",v="UPDATE_ENTITY",w="DELETE_ENTITY",j="UPDATE_INPUT_VALUE",O="LAZY_UPDATE_INPUT_VALUE",P="UPDATE_STORAGE_ITEM",C="DELETE_STORAGE_ITEM",k=()=>d(f),S=()=>d(E),D=()=>d(h),R=e=>d(g,{newState:e}),T=()=>d(b),x=(e,t)=>d(v,{key:e,data:t}),N=e=>d(w,{re:e}),I=(e,t)=>d(j,{key:e,value:t}),q=(e,t)=>d(O,{key:e,value:t}),_=(e,t)=>d(P,{key:e,data:t}),F=navigator&&navigator.platform&&navigator.platform.startsWith("Win"),L=300,A="https://api.platformio.org";let z=window.location?window.location.pathname:"/";"/"!==z[z.length-1]&&(z+="/");let U=`ws://127.0.0.1:8008${z}wsrpc`;window.location&&window.location.host&&(U=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}${z}wsrpc`);const V=U;r("tL+A");var Z=r("QpBz"),$=r("IihT"),B=r("YRkV");const M={BACKEND_CONNECTED:"BACKEND_CONNECTED",BACKEND_DISCONNECTED:"BACKEND_DISCONNECTED",BACKEND_ERRORED:"BACKEND_ERRORED",BACKEND_REQUEST:"BACKEND_REQUEST",BACKEND_RESULT_SUCCESS:"BACKEND_RESULT_SUCCESS",BACKEND_RESULT_ERROR:"BACKEND_RESULT_ERROR"};function*Y({query:e,params:t=[]}){const r=Math.random().toString();for(yield(0,$.gz)(M.backendRequest(r,e,t));;){const e=yield(0,$.qn)([M.BACKEND_RESULT_SUCCESS,M.BACKEND_RESULT_ERROR]);if(e.id===r){if(e.type===M.BACKEND_RESULT_ERROR)throw e.error;return e.result}}}function W(e){return t=>{let r=null,n=[];const i={timer:null,loading:null,delay:500,maxDelay:1e4,retries:0};if(r=function e(o){i.timer&&clearTimeout(i.timer);let s=null;try{s=new WebSocket(o)}catch(e){return Z.Z.error("Communication Error: This browser does not support WebSocket protocol",0)}return s.onopen=()=>{i.retries=0,i.loading&&i.loading(),t.dispatch(d(M.BACKEND_CONNECTED));const e=n.slice(0);n=[],e.forEach((e=>s.send(e)))},s.onclose=()=>{t.dispatch(d(M.BACKEND_DISCONNECTED)),i.loading||(i.loading=Z.Z.loading("Reconnecting...",0)),i.retries++,i.interval=setTimeout((()=>r=e(o)),Math.min(i.delay*i.retries,i.maxDelay))},s.onmessage=e=>{try{const r=B.ZP.parse(e.data);switch(r.type){case"success":return t.dispatch(d(M.BACKEND_RESULT_SUCCESS,r.payload));case"error":return t.dispatch(d(M.BACKEND_RESULT_ERROR,r.payload))}}catch(e){t.dispatch(d(M.BACKEND_ERRORED,e))}},s}(e.endpoint),r)return e=>t=>{if(t&&t.type===M.BACKEND_REQUEST){const e=JSON.stringify(B.ZP.request(t.id,t.query,t.params));return 1===r.readyState?r.send(e):n.push(e)}return e(t)}}}M.backendRequest=(e,t,r)=>d(M.BACKEND_REQUEST,{id:e,query:t,params:r});const K="NOTIFY_ERROR",G="NOTIFY_SUCCESS",H="UPDATE_ROUTE_BADGE",J="SHOW_AT_STARTUP",Q="OS_OPEN_URL",X="OS_REVEAL_FILE",ee="OS_RENAME_FILE",te="OS_COPY_FILE",re="OS_MAKE_DIRS",ne="OS_LIST_DIR",ie="OS_IS_FILE",oe="OS_IS_DIR",se="OS_FS_GLOB",ae="REQUEST_CONTENT",le="LOAD_LOGICAL_DEVICES",ce="RESET_FS_ITEMS",ue="TOGGLE_FAVORITE_FOLDER",pe="OPEN_TEXT_DOCUMENT",de=(e,t)=>d(K,{title:e,err:t}),me=(e,t)=>d(G,{title:e,result:t}),fe=(e,t)=>d(H,{path:e,count:t}),he=e=>d(J,{value:e}),ge=e=>d(Q,{url:e}),ye=e=>d(X,{path:e}),be=(e,t)=>d(ee,{src:e,dst:t}),Ee=(e,t)=>d(te,{src:e,dst:t}),ve=e=>d(re,{path:e}),we=e=>d(ne,{path:e}),je=e=>d(ie,{path:e}),Oe=e=>d(oe,{path:e}),Pe=(e,t=void 0)=>d(se,{pathnames:e,rootDir:t}),Ce=({uri:e,data:t,headers:r,cacheValid:n})=>d(ae,{uri:e,data:t,headers:r,cacheValid:n}),ke=(e=!1)=>d(le,{force:e}),Se=()=>d(ce),De=e=>d(ue,{path:e}),Re=(e,t=void 0,r=void 0)=>d(pe,{path:e,line:t,column:r});function Te(e){return t=>r=>{try{return t(r)}catch(t){throw console.error("Internal Store Exception",t),e.dispatch(de("Internal Store Exception",t)),t}}}function xe(e,t){const r=Object.assign({},e);return Object.keys(r).forEach((e=>{t.test(e)&&delete r[e]})),r}const Ne=(0,l.UY)({router:function(e=null,t){return t.type!==m?e:t.router},entities:function(e={},t){switch(t.type){case v:return Object.assign({},e,{[t.key]:t.data});case w:return xe(e,t.re)}return e},inputValues:function(e={},t){if(t.type===j){const r=Object.assign({},e,{[t.key]:t.value});return r[t.key]||delete r[t.key],r}return e},storage:function(e={},t){switch(t.type){case P:return Object.assign({},e,{[t.key]:t.data});case C:return xe(e,t.re)}return e}});const Ie=function(e,t){switch(t.type){case g:return Object.assign({},Ne(e,t),t.newState);case y:return{}}return Ne(e,t)},qe="LOAD_ACCOUNT_INFO",_e="LOGIN_ACCOUNT",Fe="LOGIN_WITH_PROVIDER",Le="LOGOUT_ACCOUNT",Ae="REGISTER_ACCOUNT",ze="FORGOT_ACCOUNT",Ue="PASSWORD_ACCOUNT",Ve="UPDATE_PROFILE",Ze="SHOW_ACCOUNT_TOKEN",$e=(e=!1)=>d(qe,{extended:e}),Be=(e,t,r)=>d(_e,{username:e,password:t,onEnd:r}),Me=()=>d(Le),Ye=e=>d(Fe,{provider:e}),We=(e,t,r,n,i,o)=>d(Ae,{username:e,email:t,firstname:r,lastname:n,password:i,onEnd:o}),Ke=(e,t,r,n,i,o)=>d(Ve,{username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:o}),Ge=(e,t)=>d(ze,{username:e,onEnd:t}),He=(e,t,r)=>d(Ue,{oldPassword:e,newPassword:t,onEnd:r}),Je=(e,t=!1,r)=>d(Ze,{password:e,regenerate:t,onEnd:r});function Qe(e){return e.entities.accountInfo}function Xe(e){const t=Qe(e);return!!(t&&t.profile&&t.profile.username)}function et(e){return e.entities.accountToken}var tt=r("saKI"),rt=r("nFlj");function nt(){try{return window.self!==window.top}catch(e){return!0}}function it(e,t=!1){e instanceof ErrorEvent&&(e=[e.message,`${e.filename}:${e.lineno}`]),e=e.toString().replace(/@/g,"_"),tt.ZP.exception({description:e.substring(0,8192),fatal:t})}function ot(){let e=null;return window.location&&window.location.search&&(e=rt.parse(window.location.search),e=e&&e.start?e.start:null),e||"/"}function st(e,t,r,n=!1){if(e.length){const i=e.entries[e.index];if(n||i.pathname===t&&JSON.stringify(i.state)===JSON.stringify(r))return e.replace(t,r)}e.push(t,r),tt.ZP.ga("send","screenview",{screenName:t})}function at(e){return new Promise((t=>setTimeout(t,e)))}function lt(e,t){return e<t?-1:e>t?1:0}function ct(e,t,r){let n;return n="function"!=typeof r?e=>e[r]:r,e.filter((e=>n(e).toLowerCase().includes(t.toLowerCase())))}const ut="pio-user-api";function pt(e){return e=e.replace(/[\\r\\n]+\'/,"").trim(),Z.Z.error(e)}function dt(){const e=rt.parse(window.location.search||"");e.start="/account";const t=window.location.origin+window.location.pathname+rt.stringify(e,!0);return t+`&piohomeacc_uri=${encodeURIComponent(t)}`}function*mt(e,t,r){try{yield(0,$.RE)(Y,{query:"account.call_client",params:["login_with_code",e,t,r]})}catch(e){return e&&e.data?pt(e.data):yield(0,$.gz)(de("Could not log in Innatera Account",e))}}const ft=[function*(){for(;;){const{extended:e}=yield(0,$.qn)(qe);let t=yield(0,$.Ys)(Qe);if(!t||e&&!t.groups){if(window.location&&window.location.search){const e=rt.parse(window.location.search);e&&e.code&&e.piohomeacc_uri&&(window.history.pushState({},document.title,decodeURIComponent(e.piohomeacc_uri)),yield(0,$.RE)(mt,ut,e.code,dt()))}try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["account","show","--json-output",...e?[]:["--offline"]]]})}catch(e){e instanceof B.ZP.JsonRpcError&&e.data.includes("Error: You are not")||(yield(0,$.gz)(de("Could not load Innatera Account information",e)))}yield(0,$.gz)(x("accountInfo",t||{}))}}},function*(){yield(0,$.Fm)(_e,(function*({username:e,password:t,onEnd:r}){try{yield(0,$.RE)(Y,{query:"core.call",params:[["account","login","--username",e,"--password",t]]}),yield(0,$.gz)(N(/^accountInfo/))}catch(e){return e&&e.data?pt(e.data):yield(0,$.gz)(de("Could not log in Innatera Account",e))}finally{r&&(yield(0,$.RE)(r))}}))},function*(){yield(0,$.Fm)(Fe,(function*({provider:e}){const t=`https://auth.accounts.platformio.org/realms/pioaccount/protocol/openid-connect/auth?client_id=${encodeURIComponent(ut)}&redirect_uri=${encodeURIComponent(dt())}&response_type=code&scope=${encodeURIComponent("openid offline_access email profile")}&kc_idp_hint=${encodeURIComponent(e)}`;nt()?yield(0,$.gz)(ge(t)):window.location=t}))},function*(){yield(0,$.Fm)(Le,(function*(){try{yield(0,$.gz)(x("accountInfo",{})),yield(0,$.RE)(Y,{query:"core.call",params:[["account","logout"]]})}catch(e){return e&&e.data?pt(e.data):yield(0,$.gz)(de("Could not log out Innatera Account",e))}}))},function*(){yield(0,$.Fm)(Ae,(function*({username:e,email:t,firstname:r,lastname:n,password:i,onEnd:o}){let s=null;try{yield(0,$.RE)(Y,{query:"core.call",params:[["account","register","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--password",i]]}),yield(0,$.gz)(me("Congrats!","Please check your email for the further instructions."))}catch(e){return s=e,s&&s.data?pt(s.data):yield(0,$.gz)(de("Could not create Innatera Account",s))}finally{o&&(yield(0,$.RE)(o,s))}}))},function*(){yield(0,$.Fm)(ze,(function*({username:e,onEnd:t}){let r=null;try{yield(0,$.RE)(Y,{query:"core.call",params:[["account","forgot","--username",e]]}),yield(0,$.gz)(me("Congrats!","If this account is registered, we will send the further instructions to your email."))}catch(e){return r=e,r&&r.data?pt(r.data):yield(0,$.gz)(de("Could not forgot password for Innatera Account",r))}finally{t&&(yield(0,$.RE)(t,r))}}))},function*(){yield(0,$.Fm)(Ue,(function*({oldPassword:e,newPassword:t,onEnd:r}){let n=null;try{yield(0,$.RE)(Y,{query:"core.call",params:[["account","password","--old-password",e,"--new-password",t]]}),yield(0,$.gz)(me("Congrats!","Successfully updated password!"))}catch(e){return n=e,n&&n.data?pt(n.data):yield(0,$.gz)(de("Could not change password for Innatera Account",n))}finally{r&&(yield(0,$.RE)(r,n))}}))},function*(){yield(0,$.Fm)(Ze,(function*({password:e,regenerate:t,onEnd:r}){try{const r=["account","token","--json-output","--password",e];t&&r.push("--regenerate");const n=yield(0,$.RE)(Y,{query:"core.call",params:[r]});yield(0,$.gz)(x("accountToken",n.result||null))}catch(e){return e&&e.data?pt(e.data):yield(0,$.gz)(de("Could not fetch Innatera Account token",e))}finally{r&&(yield(0,$.RE)(r))}}))},function*(){yield(0,$.Fm)(Ve,(function*({username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:o}){let s=null;try{const o=yield(0,$.RE)(Y,{query:"core.call",params:[["account","update","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--current-password",i]]});if(yield(0,$.gz)($e(!0)),o.includes("re-login"))return yield(0,$.gz)(x("accountInfo",{})),o.includes("check your mail")?void(yield(0,$.gz)(me("Congrats!","Successfully updated profile! Please check your mail to verify your new email address and re-login."))):void(yield(0,$.gz)(me("Congrats!","Successfully updated profile! Please re-login")));yield(0,$.gz)(me("Congrats!","Successfully updated profile!"))}catch(e){return s=e,s&&s.data?pt(s.data):yield(0,$.gz)(de("Could not update profile of Innatera Account",s))}finally{o&&(yield(0,$.RE)(o,s))}}))}];r("fwXI");var ht=r("CC+v"),gt=(r("MaXC"),r("4IMT")),yt=(r("pjuD"),r("rR1Q"));const bt="userConsents";var Et=r("1EKS"),vt=r.n(Et);function wt(e,t){return(e.entities||{})[t]}function jt(e,t){return(e.inputValues||{})[t]}function Ot(e){return e.storage||{}}function Pt(e,t){return Ot(e)[t]}function Ct(e){const t=Pt(e,"coreCaller");if(!t)return!0;const r=Pt(e,"showOnStartup");return!r||!Object.prototype.hasOwnProperty.call(r,t)||r[t]}function kt(e,t=void 0){return vt()(`${e}-${JSON.stringify(t||"")}`)}function St(e){return e.entities.requestedContents}function Dt(e,t,r=void 0){const n=St(e)||[];for(const e of n)if(e.key===kt(t,r))return e.content;return null}function Rt(e,t=void 0){return vt()(`${e.join()}-${t||""}`)}function Tt(e){return e.entities.osFsGlob}function xt(e,t,r=void 0){const n=Tt(e)||[];for(const e of n)if(e.key===Rt(t,r))return e.items;return null}function Nt(e){return e.entities.logicalDevices}function It(e){return e.entities.osDirItems}function qt(e){return e.entities.osIsFileItems}function _t(e){return e.entities.osIsDirItems}function Ft(e){const t=Pt(e,"routeBadges")||{};return Object.keys(t).map((e=>({path:e,count:t[e]})))}function Lt(e){return Pt(e,bt)||{}}class At extends Error{}var zt=r("q1tI"),Ut=r("GBY4"),Vt=r.n(Ut),Zt=r("24Ii"),$t=r.n(Zt);function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function*Wt(e,t){const r=yield(0,$.Ys)(Lt);if(!r[e]){const n=()=>new Promise(((e,r)=>{ht.Z.confirm(Mt(Mt({title:"Confirm"},t),{},{onOk:()=>{e()},onCancel:()=>{r(new At)}}))}));yield(0,$.RE)(n),yield(0,$.gz)(_(bt,Mt(Mt({},r),{},{[e]:Date.now().valueOf()})))}}const Kt=[function*(){yield(0,$.ib)(J,(function*({value:e}){const t=yield(0,$.Ys)(Pt,"coreCaller");if(!t)return;const r=(yield(0,$.Ys)(Pt,"showOnStartup"))||{};r[t]=e,yield(0,$.gz)(_("showOnStartup",r))}))},function*(){function e(e){return Yo().dispatch(ge(e))}yield(0,$.ib)(K,(function({title:t,err:r}){if(!r)return;console.error(t,r);let n=r.stack||r.toString();r instanceof B.ZP.JsonRpcError&&(n=r.message,r.data&&(n+=": "+JSON.stringify(r.data)));const i=[[/toolchain-gccarmlinuxgnueabi|WiringPi/g,"https://github.com/platformio/platform-linux_arm/issues/2"],[/\[Error 2\]|\[WinError 2\]|\[Errno 13\]/g,"https://github.com/platformio/platformio-core/issues/2321"],[/Please try this solution -> http:\/\/bit.ly\/faq-package-manager/g,"http://bit.ly/faq-package-manager"],[/Please install Git client/g,"https://github.com/platformio/platformio-core/issues/2811"],[/Error: You are not connected to the Internet|HTTPSConnectionPool/g,"https://github.com/platformio/platformio-core/issues/1348"],[/Updating.+VCS.+recurse-submodules/g,"https://github.com/platformio/platformio-home/issues/143"],[/Error: Detected a whitespace character/g,"https://github.com/platformio/platform-espressif32/issues/470"],[/Error: Could not find the package/g,"https://github.com/platformio/platformio-home/issues/2144"],[/Error: Unknown development platform/g,"https://github.com/platformio/platformio-home/issues/2123"],[/Error: Unknown board ID/g,"https://github.com/platformio/platformio-home/issues/1768"],[/Error: Could not find one of .* manifest files/g,"https://github.com/platformio/platformio-home/issues/1785"]];for(const[r,o]of i)if(n.match(r))return yt.Z.warning({message:t,description:n,duration:0,btn:zt.createElement(gt.default,{type:"danger",onClick:()=>e(o)},"Check available solutions")});yt.Z.error({message:t,description:n,duration:0,btn:zt.createElement(gt.default,{type:"danger",onClick:()=>e(`https://github.com/platformio/platformio-home/issues/new?${rt.stringify({title:t,body:n})}`)},"Report a problem")}),it(`${t} => ${n}`)}))},function*(){yield(0,$.ib)(G,(function({title:e,result:t}){t&&(console.info(e,t),t.length>255?ht.Z.success({title:e,content:zt.createElement("div",null,t.split("\n").map(((e,t)=>zt.createElement("div",{key:t},e))))}):yt.Z.success({message:e,description:t}))}))},function*(){const e="routeBadges";yield(0,$.ib)(H,(function*({path:t,count:r}){const n=(yield(0,$.Ys)(Pt,e))||{};n[t]=parseInt(r),0===n[t]&&delete n[t],yield(0,$.gz)(_(e,n))}))},function*(){yield(0,$.ib)([Q,X,ee,re,te],(function*(e){try{switch(e.type){case Q:const t=new(Vt())(e.url,!0);if(t.query.utm_source="platformio",t.query.utm_medium="piohome",e.url.startsWith("http")&&!nt()){window.open(t.toString(),"_blank").location}else yield(0,$.RE)(Y,{query:"os.open_url",params:[t.toString()]});break;case X:yield(0,$.RE)(Y,{query:"os.reveal_file",params:[e.path]});break;case ee:yield(0,$.RE)(Y,{query:"os.rename",params:[e.src,e.dst]});break;case te:yield(0,$.RE)(Y,{query:"os.copy",params:[e.src,e.dst]});break;case re:yield(0,$.RE)(Y,{query:"os.make_dirs",params:[e.path]})}}catch(t){return yield(0,$.gz)(de(e.type,t))}}))},function*(){const e=["api.github.com","raw.githubusercontent.com","platformio.org"];yield(0,$.ib)(ae,(function*({uri:t,data:r,headers:n,cacheValid:i}){let o=yield(0,$.Ys)(Dt,t,r);if(!o)try{t.startsWith("http")&&e.some((e=>t.includes(e)))&&(o=yield(0,$.RE)((()=>{const e=r?$t().post(t).send(r):$t().get(t);return n&&e.set(n),new Promise((t=>{e.end(((e,r)=>e||!r.ok?t(void 0):t(r.text)))}))}))),o||(o=yield(0,$.RE)(Y,{query:"os.request_content",params:[t,r,n,i]}));const s=(yield(0,$.Ys)(St))||[];s.push({key:kt(t,r),content:o}),yield(0,$.gz)(x("requestedContents",s.slice(-50)))}catch(e){return yield(0,$.gz)(de("Error occurred while requesting content from "+t,e))}}))},function*(){yield(0,$.ib)(se,(function*({pathnames:e,rootDir:t}){let r=yield(0,$.Ys)(xt,e,t);if(!r)try{r=yield(0,$.RE)(Y,{query:"os.glob",params:[e,t]});const n=(yield(0,$.Ys)(Tt))||[];n.push({key:Rt(e,t),items:r}),yield(0,$.gz)(x("osFsGlob",n.slice(-50)))}catch(t){return yield(0,$.gz)(de("Error occurred while glob "+JSON.stringify(e),t))}}))},function*(){yield(0,$.Fm)(le,(function*({force:e}){e&&(yield(0,$.gz)(N(/^logicalDevices/)));let t=yield(0,$.Ys)(Nt);if(!t)try{t=yield(0,$.RE)(Y,{query:"os.get_logical_devices"}),yield(0,$.gz)(x("logicalDevices",t))}catch(e){return yield(0,$.gz)(de("Could not load logical devices",e))}}))},function*(){yield(0,$.ib)(ne,(function*({path:e}){let t=yield(0,$.Ys)(It);if(!t||!t[e]){t||(t={});try{const r=yield(0,$.RE)(Y,{query:"os.list_dir",params:[/^[A-Z]:$/.test(e)?e+"\\":e]});yield(0,$.gz)(x("osDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,$.gz)(de("Could not list directory"+e,t))}}}))},function*(){yield(0,$.ib)(ie,(function*({path:e}){let t=yield(0,$.Ys)(qt);if(!t||!t[e]){t||(t={});try{const r=yield(0,$.RE)(Y,{query:"os.is_file",params:[e]});yield(0,$.gz)(x("osIsFileItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,$.gz)(de("Could not check is file "+e,t))}}}))},function*(){yield(0,$.ib)(oe,(function*({path:e}){let t=yield(0,$.Ys)(_t);if(!t||!t[e]){t||(t={});try{const r=yield(0,$.RE)(Y,{query:"os.is_dir",params:[e]});yield(0,$.gz)(x("osIsDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,$.gz)(de("Could not check is directory "+e,t))}}}))},function*(){yield(0,$.Fm)(ce,(function*(){yield(0,$.gz)(x("osDirItems",null)),yield(0,$.gz)(x("osIsFileItems",null)),yield(0,$.gz)(x("osIsDirItems",null))}))},function*(){yield(0,$.ib)(ue,(function*({path:e}){const t=(yield(0,$.Ys)(Pt,"favoriteFolders"))||[];yield(0,$.gz)(_("favoriteFolders",t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}))},function*(){yield(0,$.ib)(pe,(function*({path:e,line:t,column:r}){if(!(yield(0,$.RE)(Y,{query:"os.is_file",params:[e]})))return Z.Z.error(`File does not exist on disk ${e}`);try{return yield(0,$.RE)(Y,{query:"ide.send_command",params:["open_text_document",{path:e,line:t,column:r}]})}catch(t){return console.warn(t),yield(0,$.RE)(Y,{query:"os.open_file",params:[e]})}}))}],Gt="LOAD_SERIAL_DEVICES",Ht="LOAD_MDNS_DEVICES",Jt=(e=!1)=>d(Gt,{force:e}),Qt=(e=!1)=>d(Ht,{force:e});function Xt(e){return e.entities.serialDevices||null}function er(e){const t=Xt(e);if(t)return t.map((e=>({name:e.port,value:e.port})))}function tr(e){return e.entities.mDNSDevices||null}const rr=[function*(){for(;;){const{force:e}=yield(0,$.qn)(Gt);e&&(yield(0,$.gz)(N(/^serialDevices/)));let t=yield(0,$.Ys)(Xt);if(t)return;yield(0,$.RE)((function*(){try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["device","list","--serial","--json-output"]]}),yield(0,$.gz)(x("serialDevices",t))}catch(e){yield(0,$.gz)(de("Could not load serial devices",e))}}))}},function*(){for(;;){const{force:e}=yield(0,$.qn)(Ht);e&&(yield(0,$.gz)(N(/^mDNSDevices/)));let t=yield(0,$.Ys)(tr);if(t)return;yield(0,$.RE)((function*(){try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["device","list","--mdns","--json-output"],{force_subprocess:!0}]}),yield(0,$.gz)(x("mDNSDevices",t))}catch(e){yield(0,$.gz)(de("Could not load mDNS services",e))}}))}}],nr="LOAD_LATEST_TWEETS";function ir(e){return wt(e,"latestTweets")}const or=[function*(){yield(0,$.Fm)(nr,(function*({username:e}){let t=yield(0,$.Ys)(ir);if(!t){try{t=yield(0,$.RE)(Y,{query:"misc.load_latest_tweets",params:[`https://news.platformio.org/liupdates/${e}/data.json`]})}catch(e){t=e,console.error(e)}yield(0,$.gz)(x("latestTweets",t))}}))}],sr=F?"\\":"/";function ar(...e){return e.map(((t,r)=>t.endsWith(sr)||r===e.length-1?t:`${t}${sr}`)).join("")}function lr(e){if(!e||!e.includes(sr)||e===sr)return e;let t=e.substr(0,e.lastIndexOf(sr));for(;t.endsWith(sr);)t=t.substr(0,t.length-1);return t}function cr(e,t=void 0){if(!e)return e;let r=e;if(e.includes(sr)&&e!==sr)for(r=e.substr(e.lastIndexOf(sr));r.startsWith(sr);)r=r.substr(1);return t&&r.endsWith(t)?r.substr(0,r.length-t.length):r}const ur="inspect",pr="configuration",dr="metrics",mr="inspectSizedata",fr=Object.freeze({STT_FUNC:"profile",STT_OBJECT:"tag"}),hr=Object.freeze({STT_FUNC:"Function",STT_OBJECT:"Variable"}),gr=Object.freeze({HIGH:1,MEDIUM:2,LOW:4}),yr={[gr.HIGH]:"High",[gr.MEDIUM]:"Medium",[gr.LOW]:"Low"},br="INSPECT_PROJECT",Er="REINSPECT_PROJECT";function vr(e,t){return d(br,{configuration:e,onEnd:t})}function wr(e){return d(Er,{onEnd:e})}var jr=r("Pmog"),Or=r.n(jr);const Pr="..",Cr=".";function kr(e,t){return e===t||void 0!==e&&void 0!==t&&(Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])))}function Sr(e){return Or().filesize(e,1024,e%1024==0||e<1024?0:1)}function Dr(e){return void 0!==e?Sr(e):""}function Rr(e,t){if("number"!=typeof e)return;const{width:r}=t||{};let n=e.toString(16).toUpperCase();return r&&(n=n.padStart(r,"0")),`0x${n}`}function Tr(...e){return function(t,r){for(let n=0;n<e.length;n++){const i=e[n](t,r);if(0!==i)return i}return 0}}function xr(e,t){return e-t}function Nr(e,t){return String(e).localeCompare(t,void 0,{caseFirst:"upper",numeric:!0})}function Ir(e,t){switch(e){case"string":return function(e,r){return Nr(e[t],r[t])};case"number":return function(e,r){return xr(e[t],r[t])};default:throw new Error("Unsupported column sorter type")}}function qr(e){return e.replace(/\\/g,"/")}function _r(e,t=sr){const r=[];for(const n of e.split(t))if(n!==Cr)if(n!==Pr)r.push(n);else{if(!r.length)throw new Error(`Relative path goes outside of root: ${e}`);r.pop()}return r.join(t)}function Fr(e,t){return[...new Set(e.map((e=>e[t])))].sort().filter((e=>void 0!==e&&""!==e)).map((e=>({value:e,text:e})))}function Lr(e,t){const r=e.length;if(!t||r<=t)return e;t--;const n=Math.max(0,r-t);let i=e.substr(n,t);if(e[n-1]!==sr){const e=i.indexOf(sr);-1!==e&&(i=i.substr(e+1))}return`…${i}`}const Ar=["Hz","kHz","MHz","GHz","THz"];function zr(e,t=1,r=!0){let n=0;for(;e>=1e3&&n<=Ar.length-1;)e/=1e3,++n;let i=e.toFixed(t);return r&&i.includes(".")&&(i=i.replace(/0+$/,"").replace(/\.$/,"")),`${i}${Ar[n]}`}function Ur(e,t){t||(t=[]);for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)?Ur(n,t):t.push(n)}return t}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){$r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e,t){const r=Pt(e,ur)||{};return t?r[t]:r}function Mr(e,t,r,n){const i=[r,n,t].join(":");return function(e){return Br(e,dr)||{}}(e)[i]}function Yr(e){return Br(e,pr)}function Wr(e,t){return!kr(t,Yr(e))}function Kr(e){return wt(e,mr)}function Gr(e){return(wt(e,mr)||{}).error}function Hr(e){return(Kr(e)||{}).memory}function Jr(e){return(Kr(e)||{}).codeChecks}function Qr(e){const t=Jr(e);if(t)return Ur(t.map((({tool:e,defects:t})=>t.map((t=>(t.tool=e,t.level=gr[t.severity.toUpperCase()],t))))))}function Xr(e){let t=((Hr(e)||{}).memory||{}).files;if(t)return t.length||(t=Object.entries(t).map((([e,t])=>Zr(Zr({},t),{},{path:e})))),t.map((e=>({flash:e.flash_size,isDir:!1,path:_r(qr(e.path),"/"),ram:e.ram_size,symbols:(e.symbols||[]).map((e=>Zr(Zr({},e),{},{displayName:void 0!==e.demangled_name?e.demangled_name:e.name})))})))}function en(e){const t=Xr(e);if(t)return Ur(t.map((({symbols:e})=>e)).filter((e=>e&&e.length)))}function tn(e){const t=(Hr(e)||{}).memory;if(!t)return;const r=Xr(e),n=en(e),{total:{ram_size:i,flash_size:o,sections:s=[]}={}}=t;return{ram:i,flash:o,filesCount:r.length,symbolsCount:r.reduce(((e,{symbols:t=[]})=>e+t.length),0),sectionsCount:Object.keys(s).length,topSymbols:n.sort(((e,t)=>t.size-e.size)).slice(0,5),topFiles:r.sort(((e,t)=>t.flash-e.flash)).slice(0,5)}}function rn(e){const t=Jr(e);if(!t||!t.length)return;const r=Qr(e)||[],n={};for(const e of t)for(const[t,r]of Object.entries(e.stats||{})){const e=qr(t);n[e]||(n[e]={high:0,medium:0,low:0}),n[e].low+=r.low||0,n[e].medium+=r.medium||0,n[e].high+=r.high||0}return{defectsCountTotal:r.length,defectsCountBySeverity:{low:r.filter((({severity:e})=>"low"===e)).length,medium:r.filter((({severity:e})=>"medium"===e)).length,high:r.filter((({severity:e})=>"high"===e)).length},stats:Object.entries(n).map((([e,t])=>Zr(Zr({},t),{},{component:e}))).sort(((e,t)=>e.component.localeCompare(t.component))),topDefects:r.sort(((e,t)=>e.level-t.level)).slice(0,5)}}function nn(e){const t=Hr(e);let{memory:{total:{sections:r}={}}={}}=t||{};if(r)return r.length||(r=Object.entries(r).map((([e,t])=>Zr(Zr({},t),{},{name:e})))),r.map((({flags:e,size:t,type:r,start_addr:n,name:i})=>({flags:e,size:t,type:null!=r?r.toString():"",startAddr:n,name:i})))}function on(e){const t=(Hr(e)||{}).device;return t&&t.frequency&&"number"!=typeof t.frequency&&(t.frequency=parseInt(t.frequency,10)),t}const sn="projectConfig",an="projectConfigSchema",ln="string",cn="choice",un="integer",pn="integer range",dn="boolean",mn="file",fn=Object.freeze([ln,cn,un,pn,dn,mn]),hn="platformio",gn="env",yn=Object.freeze([hn,gn]),bn="platformio",En="env",vn="env:",wn="custom",jn=Object.freeze([bn,En,vn,wn]),On=Object.freeze({minRows:1,maxRows:20}),Pn="projectFilter";function Cn(e){return jt(e,Pn)}function kn(e){return wt(e,"projects")}function Sn(e){return wt(e,"projectExamples")}function Dn(e){const t=Cn(e),r=kn(e);return r?t?ct(r,t,(e=>[e.path,JSON.stringify(e.boards)].join(" "))):r.sort(((e,t)=>t.modified-e.modified)):null}function Rn(e,t){return(kn(e)||[]).find((e=>e.path===t))}function Tn(e){return wt(e,an)}function*xn(e,t,r,n){const i=yield(0,$.Ys)(Br);i[dr]||(i[dr]={});const o=[t,r,e].join(":");i[dr][o]=n,yield(0,$.gz)(_(ur,i))}function*Nn({projectDir:e,env:t}){const r=Date.now();yield(0,$.RE)(Y,{query:"core.call",params:[["run","-d",e,"-e",t,"-t","sizedata"],{force_subprocess:!0}]});const n=yield(0,$.RE)(Y,{query:"project.config_call",params:[{path:ar(e,"innaterapluginio.ini")},"get_optional_dir","build"]}),i=ar(n,t,"sizedata.json"),o=yield(0,$.RE)(Y,{query:"os.request_content",params:[i]});if(!o)return;const s=JSON.parse(o);return yield xn("memory",e,t,Date.now()-r),s}function*In({projectDir:e,env:t}){const r=Date.now();let n;try{const n=yield(0,$.RE)(Y,{query:"core.call",params:[["check","-d",e,"-e",t,"--json-output"],{force_subprocess:!0}]});return yield xn("code",e,t,Date.now()-r),n}catch(e){n=e,console.warn("Problem has occured when inspecting a code",e)}try{const r=yield(0,$.RE)(Y,{query:"core.call",params:[["check","-d",e,"-e",t,"--verbose"],{force_subprocess:!0}]});throw new Error(r)}catch(e){if(e.data)throw new Error(e.data.replace("\\n","\n"))}throw n}const qn=[function*(){yield(0,$.Fm)(br,(function*({configuration:e,onEnd:t}){try{if(!(yield(0,$.Ys)(Rn,e.projectDir)))throw new Error(`Can't inspect non-existing project '${e.projectDir}'`);if(!(yield(0,$.Ys)(Wr,e))){const e=yield(0,$.Ys)(Kr);if(e&&!e.error)return void(t&&t(e))}yield(0,$.gz)(N(new RegExp(`^${mr}$`)));const r=yield(0,$.Ys)(Br);r[pr]=e,yield(0,$.gz)(_(ur,r));const n=yield(0,$.Ys)();n.router&&(yield(0,$.RE)(st,n.router.history,"/inspect/processing",void 0,!0));const{memory:i,code:o}=e;let s,a;if(i){if(s=yield(0,$.RE)(Nn,e),!s)throw new Error("Memory inspect returned no result");yield(0,$.gz)(x(mr,{memory:s}))}o&&(a=yield(0,$.RE)(In,e)),yield(0,$.gz)(x(mr,{memory:s,codeChecks:a}));t&&t({memory:s,codeChecks:a}),n.router&&(yield(0,$.RE)(st,n.router.history,"/inspect/result",void 0,!0))}catch(e){console.error("Exception during inspectProject",e);let r="Exception";e instanceof B.ZP.JsonRpcError?(r=e.message,e.data&&(r+=": "+JSON.stringify(e.data))):r=e instanceof SyntaxError?"Bad JSON":e.toString(),t&&t(void 0,r),yield(0,$.gz)(x(mr,{error:r}));const n=yield(0,$.Ys)();n.router&&(yield(0,$.RE)(st,n.router.history,"/inspect",void 0,!0))}}))},function*(){yield(0,$.Fm)(Er,(function*({onEnd:e}){const t=yield(0,$.Ys)(Yr);if(!t)throw new Error("No inspection configuration ro run reinspectProject");yield(0,$.gz)(N(new RegExp(`^${mr}$`))),yield(0,$.gz)(vr(t,e))}))}],_n="LOAD_STATS",Fn="LOAD_SEARCH_RESULT",Ln="LOAD_LIBRARY_DATA",An="LOAD_BUILTIN_LIBS",zn="LOAD_INSTALLED_LIBS",Un="LOAD_LIB_UPDATES",Vn="INSTALL_LIBRARY",Zn="UNINSTALL_LIBRARY",$n="UPDATE_LIBRARY";function Bn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Mn{constructor(e,t=void 0,r=void 0,n=void 0,i=void 0){this.name=e,this.path=t,this.initialPath=t,this._items=r,this._actions=n||Mn.ACTION_REVEAL,this.options=i||{}}get items(){return this._items}set items(e){e&&e.length&&!this.path&&(this.path=lr(e[0].__pkg_dir)),this._items=e}get actions(){return this._actions}set actions(e){"number"==typeof e&&e<=Mn.ACTION_ALL&&(this._actions=e)}}Bn(Mn,"ACTION_REVEAL",1),Bn(Mn,"ACTION_UNINSTALL",2),Bn(Mn,"ACTION_UPDATE",4),Bn(Mn,"ACTION_ALL",8);const Yn="boardsFilter",Wn="frameworksFilter",Kn="platformEmebddedFilter",Gn="platformDesktopFilter",Hn="platformInstalledFilter",Jn="platformUpdatesFilter";function Qn(e){return jt(e,Yn)}function Xn(e){return jt(e,Wn)}function ei(e){return jt(e,Kn)}function ti(e){return jt(e,Gn)}function ri(e){return jt(e,Hn)}function ni(e){return jt(e,Jn)}function ii(e){return e.entities.boards||null}function oi(e){return e.entities.registryPackages||null}function si(e){return e.entities.registryPlatforms||null}function ai(e){return e.entities.registryFrameworks||null}function li(e){return e.entities.installedPlatforms||null}function ci(e){return e.entities.installedPlatformsData||null}function ui(e,t){const r=ci(e);return r?r.find((e=>`${e.name}@${e.version}`===t)):null}function pi(e,t,r){if(!r.length||"string"!=typeof r[0])return r;const n=("platforms"===t?si(e):ai(e))||[];return r.length&&"*"===r[0]?n.map((e=>({name:e.name,title:e.title}))):r.map((e=>{let t=(r=e)[0].toUpperCase()+r.slice(1);var r;for(const r of n)r.name===e&&(t=r.title);return{name:e,title:t}}))}function di(e){const t=ii(e);return t?t.map((t=>{const r=Object.assign({},t);return r.platform=pi(e,"platforms",[r.platform])[0],r.frameworks=pi(e,"frameworks",r.frameworks),r})):null}function mi(e){const t=ei(e);let r=si(e);return r?(r=r.filter((e=>!e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=pi(e,"frameworks",r.frameworks),r})),t?ct(r,t,"name"):r):null}function fi(e){const t=ti(e);let r=si(e);return r?(r=r.filter((e=>e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=pi(e,"frameworks",r.frameworks),r})),t?ct(r,t,"name"):r):null}function hi(e,t){let r=null;if(r=t.includes("@")?ui(e,t):(si(e)||[]).find((e=>e.name===t)),!r)return null;if(r=Object.assign({},r),r.frameworks&&r.frameworks.length&&(r.frameworks=pi(e,"frameworks",r.frameworks)),r.packages&&r.packages.length&&(r.packages=function(e,t){if(!t.length||"string"!=typeof t[0])return t;const r=oi(e);return t.map((e=>r?{name:e,url:r[e].url,description:r[e].description}:{name:e}))}(e,r.packages)),!r.boards){const t=ii(e);t&&(r.boards=t.filter((e=>e.platform===r.name)).map((e=>Object.assign({},e))))}return r.boards&&(r.boards=r.boards.map((t=>(t.platform=pi(e,"platforms",[t.platform])[0],t.frameworks=pi(e,"frameworks",t.frameworks),t)))),r}function gi(e,t){let r=(ai(e)||[]).find((e=>e.name===t));if(!r)return null;r=Object.assign({},r),r.platforms&&r.platforms.length&&(r.platforms=pi(e,"platforms",r.platforms));const n=ii(e);return n&&(r.boards=n.filter((e=>e.frameworks.includes(r.name))).map((e=>Object.assign({},e))),r.boards=r.boards.map((t=>(t.platform=pi(e,"platforms",[t.platform])[0],t.frameworks=pi(e,"frameworks",t.frameworks),t)))),r}function yi(e){const t=ri(e);let r=li(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=pi(e,"frameworks",r.frameworks),r})),t?ct(r,t,"name"):r):null}function bi(e){const t=ni(e);let r=function(e){return e.entities.platformUpdates||null}(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=pi(e,"frameworks",r.frameworks),r})),t?ct(r,t,"name"):r):null}function Ei(e){const t=Xn(e);let r=ai(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.platforms=pi(e,"platforms",r.platforms),r})),t?ct(r,t,"name"):r):null}function vi(e,t=0){return[e,t].join()}function wi(e){return e.entities.libSearch||null}function ji(e,t,r=1){const n=wi(e);if(!n)return null;const i=n.find((e=>e.key===vi(t,r)));return i?i.result:null}function Oi(e){return e.entities.libStats||null}function Pi(e){return e.entities.registryLibs||null}function Ci(e,t){const r=Pi(e);return r&&r.find((e=>e.id===t))||null}function ki(e){return e.entities.builtinLibs||null}function Si(e){const t=kn(e)||[],r=[];return t.forEach((e=>{e.envLibStorages&&e.envLibStorages.forEach((t=>{r.push(new Mn(`Project: ${e.name} > ${t.name}`,t.path,void 0,void 0,{projectDir:e.path,projectEnv:t.name}))})),e.extraLibStorages.forEach((t=>{r.push(new Mn(`Storage: ${t.name}`,t.path,void 0,void 0,{projectDir:e.path}))}))})),r.push(new Mn("Global storage")),r}function Di(e){return Si(e).map((t=>{const r=`installedLibs${t.initialPath}`;return e.entities[r]&&(t.items=e.entities[r]),t.actions=Mn.ACTION_REVEAL|Mn.ACTION_UNINSTALL,t}))}const Ri="LOAD_BOARDS",Ti="LOAD_REGISTRY_PLATFORMS",xi="LOAD_REGISTRY_FRAMEWORKS",Ni="LOAD_PLATFORM_DATA",Ii="LOAD_FRAMEWORK_DATA",qi="LOAD_INSTALLED_PLATFORMS",_i="LOAD_PLATFORM_UPDATES",Fi="INSTALL_PLATFORM",Li="UNINSTALL_PLATFORM",Ai="UPDATE_PLATFORM",zi=()=>d(Ri),Ui=()=>d(Ti),Vi=()=>d(xi),Zi=e=>d(Ni,{name:e}),$i=e=>d(Ii,{name:e}),Bi=()=>d(qi),Mi=()=>d(_i),Yi=(e,t=void 0)=>d(Fi,{platform:e,onEnd:t}),Wi=(e,t=void 0)=>d(Li,{pkgDir:e,onEnd:t}),Ki=(e,t=void 0)=>d(Ai,{pkgDir:e,onEnd:t});function*Gi(e){let t=[];try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","search","--json-output"]]})}catch(t){e?console.error(t):yield(0,$.gz)(de("Platforms: Registry",t))}yield(0,$.gz)(x("registryPlatforms",t))}function*Hi(e){let t=[];try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","frameworks","--json-output"]]})}catch(t){e?console.error(t):yield(0,$.gz)(de("Platforms: Frameworks",t))}yield(0,$.gz)(x("registryFrameworks",t))}function*Ji(e){const t=[];(yield(0,$.Ys)(si))||t.push((0,$.RE)(Gi,e)),(yield(0,$.Ys)(ai))||t.push((0,$.RE)(Hi,e)),yield(0,$.$6)(t)}function*Qi(){if(!(yield(0,$.Ys)(ii)))try{let e=yield(0,$.RE)(Y,{query:"core.call",params:[["boards","--json-output"]]});e=e.map((e=>(e.frameworks=e.frameworks||[],e))),yield(0,$.gz)(x("boards",e))}catch(e){yield(0,$.gz)(de("Could not load boards list",e))}}function*Xi(){if(yield(0,$.Ys)(oi))return;let e=null;try{e=yield(0,$.RE)((()=>{const e=$t().get(`${A}/packages`);return new Promise(((t,r)=>{e.end(((e,n)=>e||!n.ok?r(e):t(n.body)))}))}))}catch(e){}yield(0,$.gz)(x("registryPackages",e))}const eo=[function*(){for(;;)yield(0,$.qn)(Ri),yield(0,$.RE)(Ji,true),yield(0,$.RE)(Qi)},function*(){yield(0,$.ib)([Ti,xi],(function*(){yield(0,$.RE)(Ji)}))},function*(){yield(0,$.Fm)(Ni,(function*({name:e}){const t=e.includes("@");if(yield(0,$.RE)(Ji,t),e.includes("@")){if(yield(0,$.Ys)(ui,e))return;try{const t=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","show",e,"--json-output"]]}),r=(yield(0,$.Ys)(ci))||[];r.push(t),yield(0,$.gz)(x("installedPlatformsData",r.slice(-10)))}catch(e){if(e instanceof B.ZP.JsonRpcError&&e.data.includes("Error: Unknown development platform")){yield(0,$.gz)(N(/^installedPlatforms/));const e=yield(0,$.Ys)();if(e.router)return st(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,$.gz)(de("Could not load platform data",e))}}else yield(0,$.$6)([(0,$.RE)(Qi),(0,$.RE)(Xi)])}))},function*(){yield(0,$.Fm)(Ii,(function*(){yield(0,$.$6)([(0,$.RE)(Ji,!1),(0,$.RE)(Qi)])}))},function*(){yield(0,$.Fm)(qi,(function*(){(yield(0,$.Ys)(li))||(yield(0,$.RE)((function*(){let e,t=0;for(;t<3;){t++;try{const e=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","list","--json-output"]]});return yield(0,$.gz)(x("installedPlatforms",e))}catch(t){e=t}if(e instanceof B.ZP.JsonRpcError&&!e.data.includes("Error: Unknown development platform"))break}yield(0,$.gz)(de("Could not load installed platforms",e))})))}))},function*(){for(;;)yield(0,$.qn)(_i),yield(0,$.gz)(N(/^platformUpdates/)),yield(0,$.gz)(fe("/platforms/updates",0)),yield(0,$.RE)((function*(){try{const e=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,$.gz)(x("platformUpdates",e))}catch(e){yield(0,$.gz)(de("Could not load platform updates",e))}}))},function*(){yield(0,$.qn)(f);const e=yield(0,$.Ys)(Pt,"coreSettings"),t=parseInt(e&&e.check_platforms_interval?e.check_platforms_interval.value:0);if(t<=0)return;const r="lastCheckPlatformUpdates",n=(new Date).getTime();if(!(n<((yield(0,$.Ys)(Pt,r))||0)+86400*t*1e3)){yield(0,$.gz)(_(r,n));try{const e=yield(0,$.RE)(Y,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,$.gz)(fe("/platforms/updates",e.length))}catch(e){console.error("Failed check of PIO Core platform updates",e)}}},function*(){yield(0,$.ib)(Fi,(function*({platform:e,onEnd:t}){let r,n=null;try{const t=(new Date).getTime();n=yield(0,$.RE)(Y,{query:"core.call",params:[["pkg","install","--global","--platform",e],{force_subprocess:!0}]}),tt.ZP.timing({category:"Platform",variable:"install",value:(new Date).getTime()-t,label:e}),yield(0,$.gz)(N(/^installedPlatforms/)),yield(0,$.gz)(me("Platform has been successfully installed",n))}catch(e){r=e,yield(0,$.gz)(de("Could not install platform",r))}finally{t&&(yield(0,$.RE)(t,r,n))}}))},function*(){yield(0,$.ib)([Li,Ai],(function*(e){const{pkgDir:t,onEnd:r}=e;let n=null;try{const r=yield(0,$.RE)(Y,{query:"core.call",params:[["platform",e.type===Li?"uninstall":"update",t],{force_subprocess:!0}]});e.type===Ai&&(yield(0,$.gz)(N(/^installedPlatforms/)));const n=yield(0,$.Ys)();for(const e of Object.keys(n.entities))["installedPlatformsData","installedPlatforms","platformUpdates"].includes(e)&&n.entities[e].find((e=>e.__pkg_dir===t))&&(yield(0,$.gz)(x(e,n.entities[e].filter((e=>e.__pkg_dir!==t)))));yield(0,$.gz)(me("Platform has been successfully "+(e.type===Li?"uninstalled":"updated"),r))}catch(t){if(n=t,n instanceof B.ZP.JsonRpcError&&n.data.includes("Error: Unknown development platform")){yield(0,$.gz)(N(/^installedPlatforms/));const e=yield(0,$.Ys)();if(e.router)return st(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,$.gz)(de("Could not load platform data",n));yield(0,$.gz)(de(`Could not ${e.type===Li?"uninstall":"update"} platform`,n))}finally{r&&(yield(0,$.RE)(r,n))}}))}],to="ADD_PROJECT",ro="HIDE_PROJECT",no="OPEN_PROJECT",io="IMPORT_PROJECT",oo="LOAD_PROJECTS",so="PROJECTS_LOADED",ao="INIT_PROJECT",lo="IMPORT_ARDUINO_PROJECT",co="LOAD_PROJECT_EXAMPLES",uo="LOAD_CONFIG_SCHEMA",po="LOAD_PROJECT_CONFIG",mo="SAVE_PROJECT_CONFIG",fo="UPDATE_CONFIG_DESCRIPTION",ho="LOAD_SERIAL_PORTS",go=(e,t={withOpen:!0,withReload:!0,onEnd:void 0})=>d(to,{projectDir:e,options:t}),yo=e=>d(ro,{projectDir:e}),bo=e=>d(no,{projectDir:e}),Eo=(e,t=void 0)=>d(io,{projectDir:e,onEnd:t}),vo=e=>d(oo,{force:e}),wo=()=>d(so),jo=(e,t,r,n,i,o=void 0)=>d(ao,{board:e,framework:t,projectDir:r,spineDir:n,buildDir:i,onEnd:o}),Oo=(e,t,r,n=void 0)=>d(lo,{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}),Po=()=>d(co),Co=()=>d(uo),ko=e=>d(po,{projectDir:e}),So=(e,t,r,n)=>d(mo,{projectDir:e,data:t,options:r,onEnd:n}),Do=(e,t,r)=>d(fo,{projectDir:e,description:t,onEnd:r});class Ro extends Error{constructor(e){super("Cant override modified config file"),this.loadedAt=e.loadedAt,this.modifiedAt=e.modifiedAt}}function To(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?To(Object(r),!0).forEach((function(t){No(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function No(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Io="recentProjects";function*qo(){yield(0,$.gz)(vo()),yield(0,$.qn)(so)}function*_o(e,t){const r=(yield(0,$.Ys)(kn))||[],n=r.find((t=>t.path===e));if(!n)return;const i=xo(xo({},n),t),o=r.map((e=>e===n?i:e));return yield(0,$.gz)(x("projects",o)),n}const Fo=[function*(){yield(0,$.ib)(to,(function*({projectDir:e,options:t}){const r=ar(e,"innaterapluginio.ini");if(!(yield(0,$.RE)(Y,{query:"os.is_file",params:[r]})))return void(t.onEnd&&(yield(0,$.RE)(t.onEnd,'This is not PlatformIO Project (should contain "innaterapluginio.ini" file).',e)));const n=(yield(0,$.Ys)(Pt,Io))||[];n.includes(e)||(yield(0,$.gz)(_(Io,[...n,e])),yield(0,$.gz)(T())),t.withReload&&(yield(0,$.gz)(N(/^projects/)),yield(0,$.gz)(vo())),t.withOpen&&(yield(0,$.gz)(bo(e))),t.onEnd&&(yield(0,$.RE)(t.onEnd,void 0,e))}))},function*(){yield(0,$.ib)(ro,(function*({projectDir:e}){const t=(yield(0,$.Ys)(Pt,Io))||[],r=(yield(0,$.Ys)(kn))||[];yield(0,$.gz)(_(Io,t.filter((t=>t!==e)))),yield(0,$.gz)(T()),yield(0,$.gz)(x("projects",r.filter((t=>t.path!==e))))}))},function*(){yield(0,$.ib)(ee,(function*({src:e,dst:t}){const r=(yield(0,$.Ys)(Pt,Io))||[];r.includes(e)&&(r.includes(t)||r.push(t),yield(0,$.gz)(_(Io,r.filter((t=>t!==e)))),yield(0,$.gz)(T()),(yield(0,$.Ys)(kn))&&(yield(0,$.gz)(N(/^projects/)),yield(0,$.gz)(vo())))}))},function*(){yield(0,$.ib)(no,(function*({projectDir:e}){try{return yield(0,$.RE)(Y,{query:"ide.send_command",params:["open_project",e]})}catch(t){console.warn(t),yield(0,$.gz)(ye(e))}ht.Z.success({title:"Open Project...",content:zt.createElement("div",{style:{wordBreak:"break-all"}},zt.createElement("div",{className:"block"},"Project has been successfully configured and is located by this path:"," ",zt.createElement("code",null,e),"."),"You can open it with your favourite IDE or process with"," ",zt.createElement("kbd",null,"platformio run")," command.")})}))},function*(){for(;;){const{force:e=!1}=yield(0,$.qn)(oo)||{};let t;if(e||(t=yield(0,$.Ys)(kn),!t)){try{const{ideProjects:e}=yield(0,$.S3)({ideProjects:(0,$.RE)(Y,{query:"ide.send_command",params:["get_pio_project_dirs"]}),timeout:(0,$.gw)(2e3)}),t=(yield(0,$.Ys)(Pt,Io))||[];let r=!1;for(const n of e||[])t.includes(n)||(t.push(n),r=!0);r&&((yield(0,$.Ys)(Pt,"coreVersion"))||(yield(0,$.qn)(f)),yield(0,$.gz)(_(Io,t)),yield(0,$.gz)(T()),yield(0,$.qn)(E))}catch(e){console.warn("Could not fetch projects from IDE",e)}try{t=yield(0,$.RE)(Y,{query:"project.get_projects"}),yield(0,$.gz)(x("projects",t)),yield(0,$.gz)(wo())}catch(e){yield(0,$.gz)(de("Could not load recent projects",e))}}else yield(0,$.gz)(wo())}},function*(){for(;;){yield(0,$.qn)(co);let e=yield(0,$.Ys)(Sn);if(!e)try{e=yield(0,$.RE)(Y,{query:"project.get_project_examples"}),yield(0,$.gz)(x("projectExamples",e))}catch(e){yield(0,$.gz)(de("Could not load project examples",e))}}},function*(){yield(0,$.ib)([Fi,Li,Ai],(function*(){yield(0,$.gz)(N(/^projectExamples/))}))},function*(){for(;;){const{projectDir:e,onEnd:t}=yield(0,$.qn)(io);let r,n=null;try{const t=(new Date).getTime();n=yield(0,$.RE)(Y,{query:"project.import_pio",params:[e]}),tt.ZP.timing({category:"Project",variable:"import",value:(new Date).getTime()-t,label:e}),yield(0,$.gz)(me("Project has been successfully imported",`Location: ${n}`))}catch(e){r=e,yield(0,$.gz)(de("Could not import project",r))}finally{t&&(yield(0,$.RE)(t,r,n))}}},function*(){for(;;){const{board:e,framework:t,projectDir:r,spineDir:n,buildDir:i,onEnd:o}=yield(0,$.qn)(ao);let s,a=null;try{const o=(new Date).getTime();a=yield(0,$.RE)(Y,{query:"project.init",params:[e,t,r,n,i]}),tt.ZP.timing({category:"Project",variable:"init",value:(new Date).getTime()-o,label:e}),yield(0,$.gz)(me("Project has been successfully initialized",`Board: ${e}, framework: ${t}, location: ${a}`))}catch(n){s=n,console.error("Error initializing project:",s),yield(0,$.gz)(de("Could not initialize project",`Board: ${e}, framework: ${t}, spinelocation: ${r}, projectDir: ${r}, result: ${a}`))}finally{o&&(yield(0,$.RE)(o,s,a))}}},function*(){for(;;){const{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}=yield(0,$.qn)(lo);let i,o=null;try{const n=(new Date).getTime();o=yield(0,$.RE)(Y,{query:"project.import_arduino",params:[e,t,r]}),tt.ZP.timing({category:"Project",variable:"import_arduino",value:(new Date).getTime()-n,label:e}),yield(0,$.gz)(me("Project has been successfully imported",`Board: ${e}, new location: ${o}`))}catch(e){i=e,i instanceof B.ZP.JsonRpcError&&i.message.includes("Not an Arduino project")?Z.Z.error(`${i.message} (Project should contain .ino or .pde file with the same name as project folder)`,10):yield(0,$.gz)(de("Could not import Arduino project",i))}finally{n&&(yield(0,$.RE)(n,i,o))}}},function*(){yield(0,$.Fm)(uo,(function*(){try{const e=yield(0,$.RE)(Y,{query:"project.get_config_schema"}),t={};for(const r of e){const{scope:e}=r;t[e]||(t[e]=[]),t[e].push(r)}yield(0,$.gz)(x(an,t))}catch(e){e instanceof B.ZP.JsonRpcError||(yield(0,$.gz)(de("Could not load config schema",e)))}}))},function*(){yield(0,$.Fm)(po,(function*({projectDir:e}){try{yield(0,$.gz)(N(new RegExp(`^${sn}$`)));const t=ar(e,"innaterapluginio.ini"),r=yield(0,$.RE)(Y,{query:"project.config_load",params:[t]}),n=yield(0,$.RE)(Y,{query:"os.get_file_mtime",params:[t]}),i=r.map((([e,t])=>({section:e,items:t.map((([e,t])=>({name:e,value:t})))})));yield(0,$.gz)(x(sn,{config:i,mtime:n}))}catch(e){yield(0,$.gz)(de("Could not load project config",e));const t=yield(0,$.Ys)();t.router&&(yield(0,$.RE)(st,t.router.history,"/projects",void 0,!0))}}))},function*(){yield(0,$.Fm)(mo,(function*({projectDir:e,data:t,options:r,onEnd:n}){const{mtime:i,force:o}=r||{};let s;try{yield(0,$.RE)(Wt,"project-config-save",{content:"Warning!\n          The entire file contents of innaterapluginio.ini will be rewritten with the current\n          configuration defined in this UI.\n          Continue to save the configuration?",okText:"Save"});const r=ar(e,"innaterapluginio.ini");if(!o){const e=yield(0,$.RE)(Y,{query:"os.get_file_mtime",params:[r]});if(e-i>1e-5)throw new Ro({loadedAt:i,modifiedAt:e})}yield(0,$.RE)(Y,{query:"project.config_dump",params:[r,t]}),Z.Z.success("Project configuration saved");const n=yield(0,$.RE)(Y,{query:"os.get_file_mtime",params:[r]}),s=yield(0,$.Ys)(wt,sn);yield(0,$.gz)(x(sn,xo(xo({},s),{},{mtime:n}))),yield(0,$.gz)(vo(!0))}catch(e){s=e,e&&(e instanceof At||e instanceof Ro)||(yield(0,$.gz)(de("Could not save project config",e)))}finally{yield(0,$.RE)(n,s)}}))},function*(){yield(0,$.Fm)(fo,(function*({projectDir:e,description:t,onEnd:r}){let n,i;try{i=yield _o(e,{description:t}),yield(0,$.RE)(Y,{query:"project.config_update_description",params:[ar(e,"innaterapluginio.ini"),t]}),Z.Z.success("Project description is saved into configuration file")}catch(t){n=t,yield(0,$.gz)(de("Could not update project description",t)),i&&(yield _o(e,{description:i.description})),console.error(t)}finally{r&&(yield(0,$.RE)(r,n))}}))}];function Lo(e){return e.replace(/^Library Manager:/gm,"")}function*Ao(e){let t=["lib"];return e.options&&e.options.projectDir&&e.options.projectEnv?t=t.concat(["--storage-dir",e.options.projectDir,"--environment",e.options.projectEnv]):e.path?t=t.concat(["--storage-dir",e.path]):t.push("--global"),t=t.concat(["update","--only-check","--json-output"]),yield(0,$.RE)(Y,{query:"core.call",params:[t,{force_subprocess:!0}]})}const zo=[function*(){function*e(e){yield at(e),yield(0,$.gz)(x("libStats",null))}yield(0,$.Fm)(_n,(function*(){let t=yield(0,$.Ys)(Oi);if(!t){try{t=yield(0,$.RE)(Y,{query:"core.call",params:[["lib","stats","--json-output"]]}),yield(0,$.gz)(x("libStats",t))}catch(e){return yield(0,$.gz)(de("Libraries: Stats",e))}yield(0,$.rM)(e,36e5)}}))},function*(){yield(0,$.Fm)(Fn,(function*({query:e,page:t,onEnd:r}){let n=yield(0,$.Ys)(ji,e,t);if(n)return void(r&&r());try{let r=["lib","search"];e&&r.push(e),r=r.concat(["--page",t,"--json-output"]),n=yield(0,$.RE)(Y,{query:"core.call",params:[r]})}catch(e){return r&&r(e),yield(0,$.gz)(de("Libraries: Search",e))}const i=(yield(0,$.Ys)(wi))||[];i.push({key:vi(e,t),result:n}),yield(0,$.gz)(x("libSearch",i.slice(-10))),r&&r()}))},function*(){yield(0,$.Fm)(Ln,(function*({idOrManifest:e}){switch(typeof e){case"number":if(yield(0,$.Ys)(Ci,parseInt(e)))return;try{const t=yield(0,$.RE)(Y,{query:"core.call",params:[["lib","show",e,"--json-output"]]}),r=(yield(0,$.Ys)(Pi))||[];r.push(t),yield(0,$.gz)(x("registryLibs",r.slice(-10)))}catch(e){return yield(0,$.gz)(de("Libraries: Data",e))}break;case"object":{const e=!0;yield(0,$.RE)(Ji,e);break}}}))},function*(){for(;;){yield(0,$.qn)(An);let e=yield(0,$.Ys)(ki);if(!e)try{e=yield(0,$.RE)(Y,{query:"core.call",params:[["lib","builtin","--json-output"],{force_subprocess:!0}]}),yield(0,$.gz)(x("builtinLibs",e))}catch(e){return yield(0,$.gz)(de("Libraries: Builtin",e))}}},function*(){for(;;){yield(0,$.qn)(zn),yield(0,$.RE)(qo);const e=yield(0,$.Ys)(Di);for(const t of e)t.items||(yield(0,$.rM)((function*(){try{let e=["lib"];t.path?e=e.concat(["--storage-dir",t.path]):e.push("--global"),e=e.concat(["list","--json-output"]);const r=yield(0,$.RE)(Y,{query:"core.call",params:[e,{force_subprocess:!0}]});yield(0,$.gz)(x(`installedLibs${t.initialPath}`,r))}catch(e){return e instanceof B.ZP.JsonRpcError&&e.data.includes("does not exist")?yield(0,$.gz)(x(`installedLibs${t.initialPath}`,[])):yield(0,$.gz)(de("Libraries: Installed",e))}})))}},function*(){for(;;){yield(0,$.qn)(Un),yield(0,$.gz)(N(/^libUpdates/)),yield(0,$.gz)(fe("/libraries/updates",0));const e=yield(0,$.Ys)(Si);for(const t of e)yield(0,$.rM)((function*(){try{yield(0,$.gz)(x(`libUpdates${t.initialPath}`,yield(0,$.RE)(Ao,t)))}catch(e){return yield(0,$.gz)(de("Libraries: Updates",e))}}))}},function*(){yield(0,$.qn)(f);const e=yield(0,$.Ys)(Pt,"coreSettings"),t=parseInt(e&&e.check_libraries_interval?e.check_libraries_interval.value:0);if(t<=0)return;const r="lastCheckLibraryUpdates",n=(new Date).getTime();if(n<((yield(0,$.Ys)(Pt,r))||0)+86400*t*1e3)return;yield(0,$.gz)(_(r,n)),yield(0,$.RE)(qo);let i=0;const o=yield(0,$.Ys)(Si);for(const e of o)try{i+=(yield(0,$.RE)(Ao,e)).length}catch(t){console.error("Failed check of PIO Core library updates for "+e.path,t)}yield(0,$.gz)(fe("/libraries/updates",i))},function*(){yield(0,$.ib)(Vn,(function*({storageDir:e,lib:t,onEnd:r}){yield(0,$.gz)(N(/^installedLibs/));let n,i=null;try{let r=["pkg","install"];const n=!!e&&(yield(0,$.RE)(Y,{query:"os.is_file",params:[ar(e,"innaterapluginio.ini")]}));e&&(r=r.concat([n?"--project-dir":"--storage-dir",e])),n||r.push("--global"),r=r.concat(["--library",t]),i=yield(0,$.RE)(Y,{query:"core.call",params:[r,{force_subprocess:!0}]}),yield(0,$.gz)(me("Congrats!",Lo(i)))}catch(e){n=e,yield(0,$.gz)(de("Libraries: Could not install library",n))}finally{r&&(yield(0,$.RE)(r,n,i))}}))},function*(){yield(0,$.ib)([Zn,$n],(function*(e){const{storage:t,pkg:r,onEnd:n}=e;let i;try{const n=yield(0,$.RE)(Y,{query:"core.call",params:[e.type===Zn&&t.options&&t.options.projectDir&&t.options.projectEnv?["lib","--storage-dir",t.options.projectDir,"--environment",t.options.projectEnv,e.type===Zn?"uninstall":"update",`${r.ownername?`${r.ownername}/`:""}${r.name}@${r.version}`]:["lib","--storage-dir",t.path,e.type===Zn?"uninstall":"update",r.__pkg_dir],{force_subprocess:!0}]});e.type===$n&&(yield(0,$.gz)(N(/^installedLibs/)));const i=yield(0,$.Ys)();for(const e of Object.keys(i.entities))(e.startsWith("installedLibs")||e.startsWith("libUpdates"))&&i.entities[e].find((e=>e.__pkg_dir===r.__pkg_dir))&&(yield(0,$.gz)(x(e,i.entities[e].filter((e=>e.__pkg_dir!==r.__pkg_dir)))));yield(0,$.gz)(me("Congrats!",Lo(n)))}catch(t){if(i=t,i instanceof B.ZP.JsonRpcError&&i.data.includes("Error: Could not find the package")){yield(0,$.gz)(N(/^installedLibs/)),e.type===Zn&&(yield(0,$.gz)(d(zn)));const t=yield(0,$.Ys)();if(t.router)return st(t.router.history,"/libraries/installed",void 0,!0)}else yield(0,$.gz)(de(`Libraries: Could not ${e.type===Zn?"uninstall":"update"} library`,i))}finally{n&&(yield(0,$.RE)(n,i))}}))}];const Uo=[function*(){yield(0,$.Fm)(f,(function*(){const e=yield(0,$.Ys)(Ot);if(!e.cid||e.coreSettings&&e.coreSettings.enable_telemetry&&!e.coreSettings.enable_telemetry.value)return;tt.ZP.initialize("UA-1768265-9",{debug:!1,titleCase:!1,gaOptions:{clientId:e.cid}});let t=`PlatformIO/${e.coreVersion}`;e.coreCaller&&(t+=`Caller/${e.coreCaller}`);const r={appId:"core.home",appVersion:"3.3.3",appName:t,dimension1:e.coreSystype,dimension4:1};e.coreCaller&&(r.dimension5=e.coreCaller),tt.ZP.set(r),tt.ZP.ga("send","screenview",{screenName:ot()})}))},function*(){const e=[Vn,Zn,$n,Fi,Li,Ai];yield(0,$.ib)(e,(function(e){let t="";e.type.endsWith("_LIBRARY")?t=e.lib||(e.pkgDir?cr(e.pkgDir):""):e.type.endsWith("_PLATFORM")&&(t=e.platform||(e.pkgDir?cr(e.pkgDir):"")),tt.ZP.event({category:"Package",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,$.ib)([lo,io,ao,ro,no],(function(e){let t=e.board||void 0;!t&&e.projectDir&&(t=ar(cr(lr(e.projectDir)),cr(e.projectDir))),tt.ZP.event({category:"Project",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,$.ib)(Q,(function({url:e}){tt.ZP.event({category:"Misc",action:"Outbound",label:e})}))},function*(){yield(0,$.ib)(J,(function({value:e}){tt.ZP.event({category:"Misc",action:"ShowAtStartup",label:e?1:0})}))}];function*Vo(){yield(0,$.Fm)(h,(function*(){try{const e=yield(0,$.RE)(Y,{query:"app.get_state"});e.inputValues&&delete e.inputValues,yield(0,$.gz)(R(e)),yield(0,$.gz)(k())}catch(e){return yield(0,$.gz)(de("Could not load lastest application state",e))}}))}function*Zo(){const e=[b,P,C];yield(0,$.Fm)(e,(function*(e){e.type!==b&&(yield(0,$.RE)(at,2e3));try{const e=(yield(0,$.Ys)())||{},t={storage:Object.assign({},e.storage)};t.storage.coreSettings&&delete t.storage.coreSettings;if(!(yield(0,$.RE)(Y,{query:"app.save_state",params:[t]})))throw new Error("Received invalid result after saving application state");yield(0,$.gz)(S())}catch(e){return yield(0,$.gz)(de("Could not save application state",e))}}))}function*$o(){yield(0,$.Fm)(O,(function*({key:e,value:t}){yield(0,$.RE)(at,L),yield(0,$.gz)(I(e,t))}))}function*Bo(){yield(0,$.$6)([Vo,Zo,$o,...Uo,...ft,...Kt,...rr,...or,...zo,...Fo,...eo,...qn].map((e=>e())))}let Mo=null;function Yo(){return Mo||function(e){const t=(0,c.ZP)(),r=[Te,W({endpoint:V}),t];0;const n=(0,l.MT)(Ie,e||{},(0,l.md)(...r));n.close=()=>n.dispatch(c.uR),t.run(Bo),Mo=n,n.dispatch(D())}(),Mo}r("ppZR");var Wo,Ko,Go,Ho=r("d2CI"),Jo=(r("93XW"),r("d1El")),Qo=r("EUne"),Xo=r("Oq/Y"),es=(r("FGdI"),r("Pbn2")),ts=r("17x9"),rs=r.n(ts);class ns extends zt.Component{render(){return zt.createElement("span",{className:"anticon custom-icon"},this.renderIcon())}renderIcon(){return"axis"===this.props.type?this.renderAxis():null}renderAxis(){return zt.createElement("svg",{viewBox:"15 15 171 171",xmlns:"http://www.w3.org/2000/svg",className:"custom-icon-axis"},zt.createElement("g",null,zt.createElement("line",{y2:"110.50676",x2:"93",y1:"36.5",x1:"93",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none"}),zt.createElement("line",{y2:"170.745738",x2:"67.478044",y1:"103.563212",x1:"67.478044",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(47.04828643798828 67.47804260253903,137.15447998046878)"}),zt.createElement("line",{y2:"150.50338",x2:"126",y1:"76.49662",x1:"126",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(-90 126.00000000000001,113.50000000000001)"})))}}Wo=ns,Ko="propTypes",Go={type:rs().string.isRequired},(Ko=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(Ko))in Wo?Object.defineProperty(Wo,Ko,{value:Go,enumerable:!0,configurable:!0,writable:!0}):Wo[Ko]=Go;const is={innatera:r("QNv7").Z},os=is[getQueryVariable("workspace")]||is.innatera;function ss(e,t=void 0){return os[e]||t}function as(e){return os.messages[e]||e}function ls(e,t=void 0){return os.urls[e]||t}var cs=r("sx21");class us extends zt.Component{render(){return zt.createElement(Ho.Z.Footer,null,zt.createElement("center",null,zt.createElement("div",{className:"block"},this.renderQuickLinks()),"innaterapluginio"===ss("name")?this.renderPIOCoreBanner():this.renderPoweredByPlatformIO()))}renderQuickLinks(){const e=ss("footerQuickLinks",[]),t=[];return e.forEach(((r,n)=>{t.push(zt.createElement("a",{onClick:()=>this.props.osOpenUrl(r.url)},r.title)),n<e.length-1&&t.push("·")})),zt.createElement("ul",{className:"list-inline"},t.map(((e,t)=>zt.createElement("li",{key:t},e))))}renderPIOCoreBanner(){return zt.createElement("div",{className:"block"},"If you enjoy using InnateraPluginIO, please star our projects on GitHub!",zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(es.default,{type:"star"})),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-core")},"InnateraPluginIO Core")),zt.createElement("li",null,zt.createElement(es.default,{type:"star"}))))}renderPoweredByPlatformIO(){return zt.createElement("div",{className:"powered-by-platformio"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"Powered by"),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://innatera.com/")},zt.createElement("strong",null,"Innatera")))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(us,"propTypes",{osOpenUrl:rs().func.isRequired});const ps=(0,cs.$j)(null,{osOpenUrl:ge})(us);class ds extends zt.Component{render(){return zt.createElement("img",{src:ss("companyLogoSrc"),height:this.props.height||"200px"})}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ds,"propTypes",{width:rs().string,height:rs().string});class ms extends zt.Component{onDidOpen(){this.props.osOpenUrl(window.location.href)}render(){return nt()?zt.createElement(gt.default,{icon:"arrows-alt",title:"Open in browser",onClick:()=>this.onDidOpen()}):null}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ms,"propTypes",{osOpenUrl:rs().func.isRequired});const fs=(0,cs.$j)(null,{osOpenUrl:ge})(ms);r("CbT5");var hs=r("RWbP"),gs=(r("PFYH"),r("Jv8k"));class ys extends zt.Component{constructor(){super(...arguments),this.state={selectedKeys:[]},this._matchedBadges=[],this.props.connectRouter(this.props.router)}componentDidUpdate(e){this.props.router.route.location.pathname!==e.router.route.location.pathname&&this.setState({selectedKeys:[this.activeRouteKey()]})}componentDidMount(){this.setState({selectedKeys:[this.activeRouteKey()]})}activeRouteKey(){for(const e of this.props.routes.slice(0).reverse())if(e.label&&this.props.router.history.location.pathname.startsWith(e.path))return e.path}getRouteBadgeCount(e){if(!this.props.badges||"/"===e)return 0;for(const t of this.props.badges)if(t.path.startsWith(e)&&!this._matchedBadges.includes(t.path))return this._matchedBadges.push(t.path),t.count;return 0}render(){this._matchedBadges=[];const e=this.props.routes.slice(0).filter((e=>!ss("menuIgnorePatterns",[]).some((t=>t.test(e.path))))).reverse().map((e=>e.label&&this.renderItem(e)));return zt.createElement(gs.default,{theme:this.props.theme,mode:this.props.mode||"inline",defaultSelectedKeys:[this.props.routes[0].path],selectedKeys:this.state.selectedKeys,onClick:e=>st(this.props.router.history,e.key)},e.reverse())}renderItem(e){const t=zt.createElement(es.default,{type:e.icon}),r=zt.createElement("span",{className:"menu-item-label"},e.label),n=e.path?this.getRouteBadgeCount(e.path):0;return n>0?zt.createElement(gs.default.Item,{key:e.path,title:e.label},zt.createElement(hs.Z,{overflowCount:99,count:n},t," ",r)):zt.createElement(gs.default.Item,{key:e.path,title:e.label},t,r)}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ys,"propTypes",{router:rs().object.isRequired,routes:rs().arrayOf(rs().object).isRequired,badges:rs().arrayOf(rs().shape({path:rs().string,count:rs().number})),theme:rs().string,mode:rs().string,connectRouter:rs().func.isRequired});const bs=(0,cs.$j)((function(e){return{badges:Ft(e)}}),{connectRouter:e=>d(m,{router:e})})(ys);function Es(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vs extends zt.Component{render(){return zt.createElement("div",null,!this.props.disableMenu&&zt.createElement(bs,{router:this.context.router,routes:this.props.routes,mode:"horizontal"}),zt.createElement(Qo.Z,null,this.props.routes.slice(0).reverse().map((e=>"function"==typeof e.component?zt.createElement(Xo.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}):zt.createElement(Xo.Z,{path:e.path,key:e.path,exact:e.exact,render:()=>e.component})))))}}Es(vs,"contextTypes",{router:rs().object.isRequired}),Es(vs,"propTypes",{routes:rs().arrayOf(rs().object).isRequired,disableMenu:rs().bool});r("nTym");var ws=r("qu0K"),js=(r("cUip"),r("iJl9"));class Os extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.forgotAccountPassword(t.username,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,zt.createElement("br",null),zt.createElement(ds,null)),zt.createElement(ws.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"user",style:{fontSize:13}}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Send reset email"),zt.createElement("div",null,"Need an Account?"," ",zt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}}function Ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ks(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Os,"propTypes",{form:rs().object.isRequired,forgotAccountPassword:rs().func.isRequired,showLoginPage:rs().func.isRequired,showRegistrationPage:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class Ss extends zt.Component{render(){const e=ws.Z.create()(Os);return zt.createElement("div",{className:"page-container forgot-page text-center"},zt.createElement(e,this.props))}}ks(Ss,"propTypes",{forgotAccountPassword:rs().func.isRequired,showLoginPage:rs().func.isRequired,showRegistrationPage:rs().func.isRequired});const Ds=(0,cs.$j)((function(e,t){return{showLoginPage:()=>st(t.history,"/account/login"),showRegistrationPage:()=>st(t.history,"/account/registration")}}),Cs(Cs({},i),{},{osOpenUrl:ge}))(Ss);r("hr7U");var Rs=r("9xET"),Ts=(r("lSEL"),r("UIqZ")),xs=(r("fv9D"),r("ZPTe"));class Ns extends zt.Component{constructor(){super(...arguments),this.state={loading:!1,providerModalVisible:!1,providerOpenedInExteralBrowser:!1,providerModalOkText:"Continue",providerName:""}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.loginAccount(t.username,t.password,(()=>{this.setState({loading:!1}),this.props.showInformationPage()})))}))}onDidProviderLogin(e){nt()?this.setState({providerModalVisible:!0,providerName:e}):this.props.loginWithProvider(e)}onDidOkProviderModal(){if(this.state.providerOpenedInExteralBrowser)return this.onDidCloseProviderModal(),void this.props.showInformationPage();this.setState({providerOpenedInExteralBrowser:!0,loading:!0,providerModalOkText:"Redirecting..."}),setTimeout((()=>{this.setState({loading:!1,providerModalOkText:"Finish"})}),5e3),this.props.loginWithProvider(this.state.providerName)}onDidCloseProviderModal(){this.setState({providerModalVisible:!1,providerOpenedInExteralBrowser:!1,loading:!1,providerModalOkText:"Continue"})}render(){return zt.createElement("div",null,zt.createElement(ht.Z,{title:`You are being redirected to ${this.state.providerName.toUpperCase()}`,visible:this.state.providerModalVisible,okText:this.state.providerModalOkText,okButtonProps:{loading:this.state.loading,disabled:this.state.loading},onCancel:this.onDidCloseProviderModal.bind(this),onOk:this.onDidOkProviderModal.bind(this)},zt.createElement("p",null,"You will be redirected to the ",zt.createElement("b",null,this.state.providerName.toUpperCase())," ","provider using your default web browser."),zt.createElement("p",null,"Please provide valid credential details for"," ",this.state.providerName.toUpperCase(),". If everything is OK, you will be redirected back to Innatera Home ",zt.createElement("b",null,"in your browser instead of IDE"),"."),zt.createElement("p",null,"The final step is to ",zt.createElement("b",null,"back to IDE")," and close this modal window. You should be logged in automatically now!")),zt.createElement("div",{className:"login-logo"},zt.createElement(ds,null)),zt.createElement(Rs.default,null,zt.createElement(xs.default,{xs:11,className:"login-left-side"},this.renderForm()),zt.createElement(xs.default,{xs:2},zt.createElement(Ts.Z,{type:"vertical"})),zt.createElement(xs.default,{xs:11,className:"login-right-side"},this.renderProviders())))}renderForm(){const{getFieldDecorator:e}=this.props.form;return zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,zt.createElement("h3",null,"Log In with InnateraPluginIO Account")),zt.createElement(ws.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"user"}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock"}),type:"password",placeholder:"Password",size:"large"}))),zt.createElement(ws.Z.Item,null,zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Log in"),zt.createElement("div",null,zt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot Password?")),zt.createElement("div",null,"Need an Account?"," ",zt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}renderProviders(){return zt.createElement(ws.Z,{className:"login-providers"},zt.createElement(ws.Z.Item,null,zt.createElement("h3",null,"Log In with ...")),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"github",size:"large",onClick:()=>this.onDidProviderLogin("github")},"GitHub")),zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"gitlab",size:"large",onClick:()=>this.onDidProviderLogin("gitlab")},"GitLab")))),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"rest",size:"large",onClick:()=>this.onDidProviderLogin("bitbucket")},"BitBucket")),zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"google",size:"large",onClick:()=>this.onDidProviderLogin("google")},"Google")))),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"linkedin",size:"large",onClick:()=>this.onDidProviderLogin("linkedin")},"LinkedIn")),zt.createElement(xs.default,{md:12},zt.createElement(gt.default,{icon:"twitter",size:"large",onClick:()=>this.onDidProviderLogin("twitter")},"Twitter")))))}}function Is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(r),!0).forEach((function(t){_s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ns,"propTypes",{form:rs().object.isRequired,loginAccount:rs().func.isRequired,loginWithProvider:rs().func.isRequired,showInformationPage:rs().func.isRequired,showRegistrationPage:rs().func.isRequired,showForgotPage:rs().func.isRequired});class Fs extends zt.Component{render(){if(this.props.data&&this.props.data.packages)return this.props.showInformationPage(),null;const e=ws.Z.create()(Ns);return zt.createElement("div",{className:"page-container login-page text-center"},zt.createElement(e,this.props))}}_s(Fs,"propTypes",{data:rs().shape({profile:rs().object,packages:rs().array,subscriptions:rs().array}),loginAccount:rs().func.isRequired,loginWithProvider:rs().func.isRequired,showInformationPage:rs().func.isRequired,showRegistrationPage:rs().func.isRequired,showForgotPage:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const Ls=(0,cs.$j)((function(e,t){return{data:Qe(e),showInformationPage:()=>st(t.history,"/account",null,!0),showRegistrationPage:()=>st(t.history,"/account/registration"),showForgotPage:()=>st(t.history,"/account/forgot")}}),qs(qs({},i),{},{osOpenUrl:ge}))(Fs);r("nT0F");var As=r("MM9K"),zs=(r("zmYW"),r("DtFj")),Us=(r("PAYn"),r("EQeY"));class Vs extends zt.Component{render(){return zt.createElement("div",null,zt.createElement("div",null,zt.createElement("h1",null,"General"),zt.createElement("dl",{className:"dl-horizontal"},zt.createElement("dt",null,"Logged in as"),zt.createElement("dd",null,this.props.data.profile.username," ("," ",zt.createElement("a",{onClick:()=>this.props.logoutAccount()},"Log out")," )"),zt.createElement("dt",null,"Email"),zt.createElement("dd",null,this.props.data.profile.email),zt.createElement("dt",null,"Full Name"),zt.createElement("dd",null,this.props.data.profile.firstname," ",this.props.data.profile.lastname))),this.renderSubscriptions(),this.renderPackages())}renderSubscriptions(){if(!this.props.data.subscriptions||!this.props.data.subscriptions.length)return;const e=[{title:"Plan",dataIndex:"product_name",key:"product_name"},{title:"Start Date",dataIndex:"begin_at",key:"begin_at",render:e=>zt.createElement(Jo.default,{title:new Date(e).toString()},Or().date("F j, Y",new Date(e)))},{title:"End Date",dataIndex:"end_at",key:"end_at",render:e=>zt.createElement(Jo.default,{title:parseInt(e)?new Date(1e3*parseInt(e)).toString():""},parseInt(e)?Or().date("F j, Y",parseInt(e)):"-")},{title:"Next Payment",dataIndex:"next_bill_at",key:"next_bill_at",render:e=>zt.createElement(Jo.default,{title:new Date(e).toString()},Or().date("F j, Y",new Date(e)))},{title:"State",dataIndex:"status",key:"status",render:e=>zt.createElement(Us.Z,{color:"active"==e?"#87d068":"#f5222d"},e)},{title:"Action",key:"action",render:(e,t)=>"active"===t.status&&zt.createElement("span",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.update_url)},"Edit")," ",zt.createElement(Ts.Z,{type:"vertical"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.cancel_url)},"Cancel"))}];return zt.createElement("div",null,zt.createElement("h1",null,"Subscriptions"),zt.createElement(zs.Z,{columns:e,dataSource:this.props.data.subscriptions,pagination:!1}),zt.createElement("br",null))}renderPackages(){return zt.createElement("div",null,zt.createElement("h1",null,"Packages"),this.props.data.packages&&this.props.data.packages.map((e=>zt.createElement("dl",{key:e.name,className:"dl-horizontal"},zt.createElement("dt",null,"Name"),zt.createElement("dd",null,e.name),zt.createElement("dt",null,"Expires"),zt.createElement("dd",null,zt.createElement(Jo.default,{title:e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?new Date(e.subscription.end_at||e.subscription.next_bill_at).toString():""},e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?Or().date("F j, Y",new Date(e.subscription.end_at||e.subscription.next_bill_at)):"never")),zt.createElement("dt",null,"Services"),zt.createElement("dd",null,zt.createElement("ul",null,Object.keys(e).map((t=>t.startsWith("service.")?zt.createElement("li",{key:t},zt.createElement(es.default,{type:"check"})," "+(e[t]instanceof Object?e[t].title:e[t])):null))))))))}}function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Vs,"propTypes",{data:rs().shape({profile:rs().shape({username:rs().string.isRequired,email:rs().string.isRequired,firstname:rs().string,lastname:rs().string}).isRequired,packages:rs().array,subscriptions:rs().array}).isRequired,logoutAccount:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class Ms extends zt.Component{constructor(){super(...arguments),this.props.loadAccountInfo(!0)}render(){return this.props.data&&!this.props.data.packages?(this.props.showLoginPage(),null):zt.createElement("div",{className:"page-container information-page"},this.props.data&&this.props.data.packages?zt.createElement(Vs,this.props):zt.createElement("div",{className:"text-center",style:{paddingTop:"15px"}},zt.createElement(As.default,{tip:"Loading...",size:"large"})))}}Bs(Ms,"propTypes",{data:rs().shape({profile:rs().shape({username:rs().string.isRequired,email:rs().string.isRequired,firstname:rs().string,lastname:rs().string}).isRequired,packages:rs().array,subscriptions:rs().array}).isRequired,loadAccountInfo:rs().func.isRequired,logoutAccount:rs().func.isRequired,showLoginPage:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const Ys=(0,cs.$j)((function(e,t){return{data:Qe(e),showLoginPage:()=>st(t.history,"/account/login",null,!0)}}),$s($s({},i),{},{osOpenUrl:ge}))(Ms);class Ws extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.registerAccount(t.username,t.email,t.firstname,t.lastname,t.password,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e,getFieldValue:t}=this.props.form;return zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,zt.createElement("br",null),zt.createElement(ds,null)),zt.createElement(ws.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("password",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid password. Must contain at least 8 characters including a number and a lowercase letter"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),zt.createElement(ws.Z.Item,null,e("confirmPassword",{rules:[{required:!0,message:"Please confirm password"},(e,r)=>r&&t("password")!==r?Promise.reject("The two passwords that you entered do not match"):Promise.resolve()]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Confirm Password"}))),zt.createElement(ws.Z.Item,null,zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Create Your Innatera Account"),zt.createElement("div",null,"Already have an account?"," ",zt.createElement("a",{onClick:()=>this.props.showLoginPage()},"Log in."))))}}function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach((function(t){Hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ws,"propTypes",{form:rs().object.isRequired,registerAccount:rs().func.isRequired,showLoginPage:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class Js extends zt.Component{render(){const e=ws.Z.create()(Ws);return zt.createElement("div",{className:"page-container registration-page text-center"},zt.createElement(e,this.props))}}Hs(Js,"propTypes",{registerAccount:rs().func.isRequired,showLoginPage:rs().func.isRequired});const Qs=(0,cs.$j)((function(e,t){return{showLoginPage:()=>st(t.history,"/account/login")}}),Gs(Gs({},i),{},{osOpenUrl:ge}))(Js);class Xs extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.changeAccountPassword(t.passwordOld,t.passwordNew,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement("div",{className:"lead"},"Change your password or recover your current one."),zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,e("passwordOld",{rules:[{required:!0,message:"Please input your current password"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),zt.createElement(ws.Z.Item,null,e("passwordNew",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid new password. Must contain at least 8 characters including a number and a lowercase letter"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"New Password"}))),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,{xs:12,className:"text-left"},zt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot your password?")),zt.createElement(xs.default,{xs:12},zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Xs,"propTypes",{form:rs().object.isRequired,changeAccountPassword:rs().func.isRequired,showForgotPage:rs().func.isRequired});class ea extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=ws.Z.create()(Xs);return zt.createElement("div",{className:"page-container password-page"},zt.createElement(e,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ea,"propTypes",{userLogged:rs().bool,changeAccountPassword:rs().func.isRequired,showLoginPage:rs().func.isRequired});const ta=(0,cs.$j)((function(e,t){return{userLogged:Xe(e),showLoginPage:()=>st(t.history,"/account/login",null,!0),showForgotPage:()=>st(t.history,"/account/forgot")}}),i)(ea);class ra extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}componentDidMount(){this.props.form.setFieldsValue({username:this.props.data.profile.username,email:this.props.data.profile.email,firstname:this.props.data.profile.firstname,lastname:this.props.data.profile.lastname})}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.updateProfile(t.username,t.email,t.firstname,t.lastname,t.currentPassword,(()=>{this.setState({loading:!1}),this.props.form.resetFields("currentPassword")})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement("div",{className:"lead"},"Update your profile."),zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),zt.createElement(ws.Z.Item,null,e("currentPassword",{rules:[{required:!0,message:"Please input your current password"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,null,zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ra,"propTypes",{data:rs().shape({profile:rs().shape({username:rs().string.isRequired,email:rs().string.isRequired,firstname:rs().string,lastname:rs().string}).isRequired}).isRequired,form:rs().object.isRequired,updateProfile:rs().func.isRequired});class na extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=ws.Z.create()(ra);return zt.createElement("div",{className:"page-container profile-page"},zt.createElement(e,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(na,"propTypes",{data:rs().shape({profile:rs().shape({username:rs().string.isRequired,email:rs().string.isRequired,firstname:rs().string,lastname:rs().string}).isRequired}),userLogged:rs().bool,updateProfile:rs().func.isRequired,showLoginPage:rs().func.isRequired});const ia=(0,cs.$j)((function(e,t){return{data:Qe(e),userLogged:Xe(e),showLoginPage:()=>st(t.history,"/account/login",null,!0)}}),i)(na);r("pJsf");var oa=r("g4D/"),sa=(r("8YFG"),r("ATwu")),aa=r("sxGJ"),la=r.n(aa);class ca extends zt.Component{constructor(){super(...arguments),this.state={loading:!1},this._clipboard=null}componentDidMount(){this._clipboard=new(la())(".copy-token"),this._clipboard.on("success",(()=>Z.Z.success("Token has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.showAccountToken(t.password,t.regenerate,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement(sa.Z,{showIcon:!0,message:"Personal Authentication Token",className:"block",description:zt.createElement("div",null,"It is intended for"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/ci/index.html")},"Continuous Integration")," ","systems,"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/pio-remote.html")},"Remote Development")," ","operations when you can not authenticate manually.",zt.createElement("div",null,"InnateraPluginIO handles ",zt.createElement("b",null,"Personal Authentication Token")," from an environment variable"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/envvars.html#envvar-PLATFORMIO_AUTH_TOKEN")},"InnateraPlugin IO_AUTH_TOKEN"),"."))}),zt.createElement(ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(ws.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(zt.createElement(js.default,{prefix:zt.createElement(es.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),zt.createElement(ws.Z.Item,null,zt.createElement(Rs.default,null,zt.createElement(xs.default,{xs:8,className:"text-left"},e("regenerate")(zt.createElement(oa.default,null,"Regenerate"))),zt.createElement(xs.default,{xs:16},zt.createElement(gt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Show Token")))),zt.createElement(ws.Z.Item,null,this.props.token&&this.renderToken())))}renderToken(){return zt.createElement("div",null,zt.createElement(Ts.Z,null,"Token"),zt.createElement(js.default,{disabled:!0,size:"large",style:{width:"100%"},addonAfter:zt.createElement("a",{className:"copy-token","data-clipboard-text":this.props.token},zt.createElement(es.default,{type:"copy"})),defaultValue:this.props.token}))}}function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){da(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function da(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ca,"propTypes",{form:rs().object.isRequired,token:rs().string,showAccountToken:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class ma extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=ws.Z.create()(ca);return zt.createElement("div",{className:"page-container token-page"},zt.createElement(e,this.props))}}da(ma,"propTypes",{userLogged:rs().bool,token:rs().string,showAccountToken:rs().func.isRequired,showLoginPage:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const fa=[{path:"/account",icon:"info-circle-o",label:"Information",component:Ys},{path:"/account/login",component:Ls},{path:"/account/registration",component:Qs},{path:"/account/forgot",component:Ds},{path:"/account/profile",icon:"user",label:"Profile",component:ia},{path:"/account/password",icon:"lock",label:"Password",component:ta},{path:"/account/token",icon:"key",label:"Token",component:(0,cs.$j)((function(e,t){return{userLogged:Xe(e),token:et(e),showLoginPage:()=>st(t.history,"/account/login",null,!0)}}),pa(pa({},i),{},{osOpenUrl:ge}))(ma)}];class ha extends zt.Component{render(){return zt.createElement("section",{className:"account-module"},zt.createElement(vs,{routes:fa,disableMenu:!this.props.userLogged}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ha,"propTypes",{userLogged:rs().bool});const ga=(0,cs.$j)((function(e){return{userLogged:Xe(e)}}))(ha);function ya(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ba extends zt.Component{constructor(){super(...arguments),this.state={data:null,filterValue:this.props.defaultFilter,dataFilters:null,dataSorters:null},this.props.items&&(this.state.data=this.normalizeTableData(this.props.items))}componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidExpand(){this._clipboard=new(la())(".copy-board-id"),this._clipboard.on("success",(()=>Z.Z.success("Board ID has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}componentDidUpdate(){!this.state.data&&this.props.items&&this.setState({data:this.normalizeTableData(this.props.items)})}isCertified(e){return!(!(t=e).platform||"aceinna_imu"!==t.platform.name)||["riscv_gap","sifive"].includes(e.platform.name);var t}normalizeTableData(e){if(!e)return e;let t=e.slice(0);return this.state.filterValue&&(e=ct(e,this.state.filterValue,(e=>[e.vendor,e.id,e.name,e.mcu,JSON.stringify(e.platforms),JSON.stringify(e.frameworks)].join(" ")))),t=e.map((e=>(e.frameworks=e.frameworks.sort(((e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()))),e.extra=["test"],this.isCertified(e)&&e.extra.push("certified"),e.debug&&(e.extra.push("debug-external"),this.hasOnboardDebug(e.debug)&&e.extra.push("debug-onboard")),(e.connectivity||[]).some((e=>ba.IoTConnectivity.includes(e)))&&e.extra.push("iot"),e))),this.state.filterValue?t:t.sort(((e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()))).sort(((e,t)=>{const r=e.extra.includes("certified"),n=t.extra.includes("certified");return r&&!n?-1:!r&&n?1:0}))}onFilterChange(e){this.setState({filterValue:e})}onDidFilter(){this.setState({data:this.normalizeTableData(this.props.items)}),this.props.onFilter&&this.props.onFilter(this.state.filterValue)}onDidTableChange(e,t,r){this.setState({dataFilters:t,dataSorters:r})}onDidClearDataFiltersAndSorters(){this.setState({dataFilters:null,dataSorters:null}),this.onDidFilter()}onToggleExtraFilter(e){const t=this.state.dataFilters||{};t.extra=t.extra||[];const r=t.extra.indexOf(e);-1!==r?t.extra.splice(r,1):t.extra.push(e),this.setState({dataFilters:t})}humanizeMemorySize(e){return Or().filesize(e,1024,e%1024==0||e<1024?0:1)}hasOnboardDebug(e){if(!e||!e.tools)return!1;for(const t of Object.keys(e.tools))if(e.tools[t].onboard)return!0;return!1}getVendorFilters(e){let t=[];return e.forEach((e=>{t.includes(e.vendor)||t.push(e.vendor)})),t=t.map((e=>({value:e,text:e}))),t.sort(((e,t)=>lt(e.value.toUpperCase(),t.value.toUpperCase())))}getPlatformFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>r.set(e.platform.name,e.platform.title))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>lt(e.value.toUpperCase(),t.value.toUpperCase())))}getFrameworkFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>e.frameworks.map((e=>r.set(e.name,e.title))))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>lt(e.value.toUpperCase(),t.value.toUpperCase())))}isExtraFilterEnabled(e){const t=this.state.dataFilters||{};return t&&t.extra&&t.extra.includes(e)}getDataTotal(e){if(!e)return;let t=0,r=null;const n=this.state.dataFilters||{};return e.forEach((e=>{for(const t of Object.keys(n))if(n[t]&&n[t].length)switch(t){case"frameworks":if(r=e.frameworks.map((e=>e.name)),!n[t].find((e=>r.includes(e))))return;break;case"extra":if(!n[t].every((t=>e.extra.includes(t))))return;break;case"platform":if(!n[t].includes(e.platform.name))return;break;case"name":if(!n[t].includes(e.vendor))return;break;default:if(!n[t].includes(e[t]))return}t++})),t}getTableColumns(e){const t=this.state.dataFilters||{},r=this.state.dataSorters||{},n=[{title:"Name",dataIndex:"name",filteredValue:t.name||null,filters:this.getVendorFilters(e),onFilter:(e,t)=>t.vendor===e,sorter:(e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()),sortOrder:"name"===r.columnKey&&r.order,render:(e,t)=>zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/boards/${t.platform.name}/${t.id}.html`)},t.name)},{title:"Platform",key:"platform",filteredValue:t.platform||null,filters:this.getPlatformFilters(e),onFilter:(e,t)=>t.platform.name===e,render:(e,t)=>zt.createElement("a",{onClick:()=>this.props.showPlatform(t.platform.name)},t.platform.title)},{title:"Frameworks",key:"frameworks",filteredValue:t.frameworks||null,filters:this.getFrameworkFilters(e),onFilter:(e,t)=>t.frameworks.map((e=>e.name)).includes(e),render:(e,t)=>zt.createElement("span",null,t.frameworks.map(((e,r)=>zt.createElement("span",{key:e.title},zt.createElement("a",{onClick:()=>this.props.showFramework(e.name)},e.title),t.frameworks.length>r+1?", ":""))))},{title:"MCU",dataIndex:"mcu",sorter:(e,t)=>lt(e.mcu.toUpperCase(),t.mcu.toUpperCase()),sortOrder:"mcu"===r.columnKey&&r.order},{title:"FRQ",key:"fcpu",className:"text-nowrap",sorter:(e,t)=>lt(e.fcpu,t.fcpu),sortOrder:"fcpu"===r.columnKey&&r.order,render:(e,t)=>zt.createElement("span",null,Math.round(t.fcpu/1e6)," Mhz")},{title:"ROM",key:"rom",className:"text-nowrap",sorter:(e,t)=>lt(e.rom,t.rom),sortOrder:"rom"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.rom)},{title:"RAM",key:"ram",className:"text-nowrap",sorter:(e,t)=>lt(e.ram,t.ram),sortOrder:"ram"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.ram)},{title:"Extra",key:"extra",className:"board-extra-column",filters:[{text:"Certified Board",value:"certified"},{text:"IoT-enabled",value:"iot"},{text:"Unit Testing",value:"test"},{text:"Debug: On-board",value:"debug-onboard"},{text:"Debug: External",value:"debug-external"}],filteredValue:t.extra||null,onFilter:(e,t)=>((this.state.dataFilters||{}).extra||[]).every((e=>t.extra.includes(e))),render:(e,t)=>this.renderExtraFeatures(t)}];return this.props.excludeColumns?n.filter((e=>!this.props.excludeColumns.includes(e.title))):n}render(){const e=this.state.data;return zt.createElement("div",{className:"board-explorer"},!this.props.noHeader&&this.renderHeader(e),zt.createElement(js.default.Search,{className:"block",enterButton:!0,placeholder:as("Search board..."),defaultValue:this.state.filterValue||this.props.defaultFilter,size:"large",onChange:e=>this.onFilterChange(e.target.value),onSearch:this.onDidFilter.bind(this),ref:e=>this._searchInputElement=e}),!e&&zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),e&&e.length>0&&zt.createElement("div",null,this.renderTable(e)))}renderHeader(e){const t=this.getDataTotal(e);return zt.createElement("div",null,zt.createElement("h1",null,"Board Explorer ",zt.createElement(hs.Z,{overflowCount:1e5,count:t})),zt.createElement(sa.Z,{className:"block",showIcon:!0,message:this.renderNotifications()}))}renderNotifications(){return zt.createElement("div",null,"Innatera currently supports the Spiking Neural Processor (SNP) family of ultra-low power processors enables high-performance pattern recognition at the sensor edge, and we are constantly adding new ones.")}renderTable(e){return zt.createElement(zs.Z,{size:"middle",rowKey:"id",pagination:{defaultPageSize:10,pageSizeOptions:["10","15","30","50","100","1000"],size:"default",showSizeChanger:!0,hideOnSinglePage:!0},expandedRowRender:this.renderExpandedRow.bind(this),columns:this.getTableColumns(e),dataSource:e,onExpand:this.onDidExpand.bind(this),onChange:this.onDidTableChange.bind(this)})}renderExpandedRow(e){return zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"ID:"," ",zt.createElement("a",{className:"copy-board-id","data-clipboard-text":e.id},zt.createElement(Jo.default,{title:"Click for copy Board ID to clipboard"},zt.createElement("code",null,e.id)," ",zt.createElement(es.default,{type:"copy"})))),e.connectivity&&zt.createElement("li",null,"·"),e.connectivity&&zt.createElement("li",null,zt.createElement(es.default,{type:"global"})," Connectivity:"," ",(e.connectivity||["-"]).map((e=>e.toLowerCase())).join(", ")))}renderExtraFeatures(e){return zt.createElement("span",null,e.extra.includes("test")&&zt.createElement(Jo.default,{title:"Unit Testing"}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/unit-testing.html")}," ",zt.createElement(es.default,{type:"api"})," ")," "),e.extra.some((e=>e.startsWith("debug-")))&&zt.createElement(Jo.default,{title:"Debug: "+(e.extra.some((e=>"debug-onboard"===e))?"On-board":"External")}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://docs.platformio.org/page/boards/${e.platform.name}/${e.id}.html#debugging`)}," ",zt.createElement(es.default,{type:"tool"})," ")," "),e.extra.includes("iot")&&zt.createElement(Jo.default,{title:"IoT-enabled"}," ",zt.createElement("a",null,zt.createElement(es.default,{type:"cloud-o"}))," "),e.extra.includes("certified")&&zt.createElement(Jo.default,{title:"Certified"}," ",zt.createElement("a",null," ",zt.createElement(es.default,{type:"safety"})," ")," "),zt.createElement(Jo.default,{title:"Get Now!"}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(e.url)}," ",zt.createElement(es.default,{type:"shopping-cart"})," ")," "))}}ya(ba,"IoTConnectivity",["wifi","bluetooth","ethernet","cellular"]),ya(ba,"propTypes",{items:rs().arrayOf(rs().shape({id:rs().string.isRequired,name:rs().string.isRequired,url:rs().string.isRequired,vendor:rs().string.isRequired,platform:rs().shape({name:rs().string.isRequired,title:rs().string.isRequired}).isRequired,frameworks:rs().arrayOf(rs().shape({name:rs().string.isRequired,title:rs().string.isRequired})).isRequired,mcu:rs().string.isRequired,fcpu:rs().number.isRequired,rom:rs().number.isRequired,ram:rs().number.isRequired})),noHeader:rs().bool,excludeColumns:rs().arrayOf(rs().string),defaultFilter:rs().string,onFilter:rs().func,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class Ea extends zt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}render(){return zt.createElement("section",{className:"page-container"},zt.createElement(ba,{items:this.props.items,defaultFilter:this.props.filterValue,onFilter:this.props.setFilter,showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ea,"propTypes",{items:rs().arrayOf(rs().object),filterValue:rs().string,setFilter:rs().func.isRequired,loadBoards:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const va=(0,cs.$j)((function(e,t){return{items:di(e),filterValue:Qn(e),showPlatform:e=>st(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,l.DE)(Object.assign({},s,{osOpenUrl:ge,setFilter:t=>e(q(Yn,t))}),e)}))(Ea);class wa extends zt.Component{constructor(){super(...arguments),this.props.loadLogicalDevices()}componentDidMount(){this._clipboard=new(la())(".copy-path"),this._clipboard.on("success",(()=>Z.Z.success("Device path has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Path",dataIndex:"path",className:"text-nowrap",sorter:(e,t)=>lt(e.path.toUpperCase(),t.path.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.path," ",zt.createElement(Jo.default,{title:"Click for copy a device path to clipboard"},zt.createElement("a",{className:"copy-path","data-clipboard-text":t.path},zt.createElement(es.default,{type:"copy"}))))},{title:"Name",dataIndex:"name",sorter:(e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase())}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement("div",{className:"block text-right"},zt.createElement(gt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadLogicalDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement(zs.Z,{rowKey:"path",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(wa,"propTypes",{items:rs().arrayOf(rs().object.isRequired),loadLogicalDevices:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const ja=(0,cs.$j)((function(e){return{items:Nt(e)}}),{loadLogicalDevices:ke,osOpenUrl:ge})(wa);function Oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(r),!0).forEach((function(t){Ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ca(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ka extends zt.Component{constructor(){super(...arguments),this.props.loadMDNSDevices()}componentDidMount(){this._clipboard=new(la())(".copy-name"),this._clipboard.on("success",(()=>Z.Z.success("A name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}ip2int(e){return e.split(".").reduce(((e,t)=>(e<<8)+parseInt(t,10)),0)>>>0}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-nowrap",sorter:(e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.name," ",zt.createElement(Jo.default,{title:"Click for copy a name to clipboard"},zt.createElement("a",{className:"copy-name","data-clipboard-text":t.name},zt.createElement(es.default,{type:"copy"}))))},{title:"Type",dataIndex:"type",className:"text-word-break",sorter:(e,t)=>lt(e.type.toUpperCase(),t.type.toUpperCase())},{title:"IP",dataIndex:"ip",sorter:(e,t)=>this.ip2int(e.ip)>this.ip2int(t.ip)},{title:"Port",dataIndex:"port",sorter:(e,t)=>e.port>t.port}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement("div",{className:"block text-right"},zt.createElement(gt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadMDNSDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("div",null,zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")),zt.createElement("div",{className:"text-center"},zt.createElement("br",null),"If you have Network Firewall, please enable incoming connections for InnateraPluginIO Core (mDNS discovery service)")):zt.createElement(zs.Z,{rowKey:"name",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}}Ca(ka,"propTypes",{items:rs().arrayOf(rs().object.isRequired),loadMDNSDevices:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const Sa=(0,cs.$j)((function(e){return{items:tr(e)}}),Pa(Pa({},o),{},{osOpenUrl:ge}))(ka);function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(r),!0).forEach((function(t){Ta(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ta(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class xa extends zt.Component{constructor(){super(...arguments),this.props.loadSerialDevices()}componentDidMount(){this._clipboard=new(la())(".copy-port"),this._clipboard.on("success",(()=>Z.Z.success("Port name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Port",dataIndex:"port",className:"text-nowrap",sorter:(e,t)=>lt(e.port.toUpperCase(),t.port.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.port," ",zt.createElement(Jo.default,{title:"Click for copy a port name to clipboard"},zt.createElement("a",{className:"copy-port","data-clipboard-text":t.port},zt.createElement(es.default,{type:"copy"}))))},{title:"Description",dataIndex:"description",className:"text-word-break",sorter:(e,t)=>lt(e.description.toUpperCase(),t.description.toUpperCase())},{title:"Hardware",dataIndex:"hwid",className:"text-nowrap",sorter:(e,t)=>lt(e.hwid.toUpperCase(),t.hwid.toUpperCase())}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(sa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"Innatera automatically detects upload port by default. You can configure a custom port using ",zt.createElement("code",null,"upload_port")," option in"," ",zt.createElement("b",null,"innaterapluginio.ini"),"."," ")}),zt.createElement("div",{className:"block text-right"},zt.createElement(gt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadSerialDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement(zs.Z,{rowKey:"port",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}}Ta(xa,"propTypes",{items:rs().arrayOf(rs().object.isRequired),loadSerialDevices:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const Na=[{path:"/device",icon:"usb",label:"Serial",component:(0,cs.$j)((function(e){return{items:Xt(e)}}),Ra(Ra({},o),{},{osOpenUrl:ge}))(xa)},{path:"/device/logical",icon:"hdd",label:"Logical",component:ja},{path:"/device/mdns",icon:"wifi",label:"Multicast DNS",component:Sa}];class Ia extends zt.Component{render(){return zt.createElement("section",{className:"device-module"},zt.createElement(vs,{routes:Na}))}}class qa extends zt.Component{renderCoreVersion(){return this.props.coreVersion?zt.createElement("code",null,this.props.coreVersion):zt.createElement(As.default,{size:"small"})}render(){return zt.createElement("div",{className:"versions"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"Core"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/history.html")},"1.0.0")),zt.createElement("li",null,"·"),zt.createElement("li",null,"Home"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/Ineshmcw/Innatera_home/releases")},zt.createElement("code",null,"1.0.0")))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(qa,"propTypes",{coreVersion:rs().string,osOpenUrl:rs().func.isRequired});const _a=(0,cs.$j)((function(e){return{coreVersion:Pt(e,"coreVersion")}}),{osOpenUrl:ge})(qa);r("ek7I");var Fa=r("FAat"),La=(r("8DDU"),r("a3Uq"));class Aa extends zt.Component{render(){return zt.createElement(La.Z,{className:"project-init-carousel",autoplay:!0,autoplaySpeed:3e3},zt.createElement("div",null,zt.createElement(sa.Z,{showIcon:!0,message:"Please wait...",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"The first initialization requires Internet connection and"," ",zt.createElement("b",null,"may take a while")," (need to install dependent toolchains, frameworks, SDKs)."),zt.createElement("div",null,"Please be patient and let the initialization complete."))})),zt.createElement("div",null,zt.createElement(sa.Z,{showIcon:!0,message:"Project Structure",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"Innatera project consists of 3 main items:"),zt.createElement("ul",null,zt.createElement("li",null,zt.createElement(es.default,{type:"folder"})," ",zt.createElement("code",null,"lib")," - put here project specific (private) libraries"),zt.createElement("li",null,zt.createElement(es.default,{type:"folder"})," ",zt.createElement("code",null,"src")," - put your source files in this folder"),zt.createElement("li",null,zt.createElement(es.default,{type:"file"})," ",zt.createElement("code",null,"innaterapluginio.ini")," - project configuration file")))})),zt.createElement("div",null,zt.createElement(sa.Z,{showIcon:!0,message:"innaterapluginio.ini",description:zt.createElement("div",null,zt.createElement("div",null,"Innatera Project Configuration File:"),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"Generic options")," - development platforms, boards, frameworks"),zt.createElement("li",null,zt.createElement("code",null,"Build options")," - build flags, source filter, extra scripting"),zt.createElement("li",null,zt.createElement("code",null,"Upload options")," - custom port, speed and extra flags"),zt.createElement("li",null,zt.createElement("code",null,"Library options")," - dependencies, extra library storages")),zt.createElement("div",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},zt.createElement(es.default,{type:"link"})," Please visit documentation")," ","for the other options and examples."))})),zt.createElement("div",null,zt.createElement(sa.Z,{showIcon:!0,message:"Upload Port",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"Innatera automatically detects upload port by default. You can configure a custom port using ",zt.createElement("code",null,"upload_port")," option in"," ",zt.createElement("b",null,"innaterapluginio.ini"),":"),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"upload_port = COM1")," - particular port"),zt.createElement("li",null,zt.createElement("code",null,"upload_port = /dev/ttyUSB*")," - any port that starts with /dev/ttyUSB"),zt.createElement("li",null,zt.createElement("code",null,"upload_port = COM[13]")," - COM1 or COM3.")))})))}}function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?za(Object(r),!0).forEach((function(t){Va(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Va(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Aa,"propTypes",{osOpenUrl:rs().func.isRequired});class Za extends zt.Component{constructor(){super(...arguments),this.state={examplePath:null,inProgress:!1}}componentDidUpdate(e){this.props.visible&&!e.items&&this.props.loadProjectExamples()}onDidExample(e){this.setState({examplePath:e})}onDidFinish(){if(!this.state.examplePath)return Z.Z.error("Please select an example");this.setState({inProgress:!0}),this.props.importProject(this.state.examplePath,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return zt.createElement(ht.Z,{visible:this.props.visible,className:"project-examples-modal",confirmLoading:this.state.inProgress,width:600,title:"Import Project Example",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return zt.createElement(Aa,{osOpenUrl:this.props.osOpenUrl});if(!this.props.items)return zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}));if(0===this.props.items.length)return this.renderNoExamples();const e=[],t=[];return this.props.items.forEach((r=>{e.includes(r.platform.title)?t.push(r.platform.title):e.push(r.platform.title)})),zt.createElement("div",null,!ss("singleDevPlatform")&&zt.createElement("div",{className:"block"},zt.createElement("p",null,"We use examples provided by"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed development platforms"),". Please install more platforms to see the new examples."),"Examples already contain pre-configured build environments (boards, flags, etc.). You can edit them later in"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},'Project Configuration File "innaterapluginio.ini"')," ","located in the root of your project."),zt.createElement(Fa.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:"Select an example...",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onChange:this.onDidExample.bind(this)},this.props.items.filter((e=>ss("filterProjectExample",(()=>!0))(e))).map((e=>zt.createElement(Fa.default.OptGroup,{key:`${e.platform.title}-${e.platform.version}`,label:zt.createElement("span",null,zt.createElement(es.default,{type:"appstore"})," ",e.platform.title," ",t.includes(e.platform.title)?`[#${e.platform.version}]`:"")},e.items.map((t=>zt.createElement(Fa.default.Option,{key:`${e.platform.title}-${e.platform.version}-${t.name}-${t.description}`,value:t.path},t.name,t.description&&zt.createElement("div",{className:"select-option-extra project-example-description"},t.description)))))))))}renderNoExamples(){return zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"block background-message text-center"},zt.createElement("li",null,"No Examples")),zt.createElement("br",null),zt.createElement("div",{className:"block"},"We use examples from installed development platforms. Please install the one of them."),zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform"))))}}Va(Za,"propTypes",{router:rs().object.isRequired,visible:rs().bool.isRequired,onCancel:rs().func.isRequired,items:rs().array,loadProjectExamples:rs().func.isRequired,addProject:rs().func.isRequired,openProject:rs().func.isRequired,importProject:rs().func.isRequired,osOpenUrl:rs().func.isRequired,showInstalledPlatforms:rs().func.isRequired,showEmbeddedPlatforms:rs().func.isRequired,showDesktopPlatforms:rs().func.isRequired});(0,cs.$j)((function(e,t){return{items:Sn(e),showInstalledPlatforms:()=>st(t.router.history,"/platforms/installed"),showEmbeddedPlatforms:()=>st(t.router.history,"/platforms/embedded"),showDesktopPlatforms:()=>st(t.router.history,"/platforms/desktop")}}),Ua(Ua({},a),{},{osOpenUrl:ge}))(Za);class $a extends zt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}onDidChange(e){this.props.onChange(this.props.items.find((t=>t.id===e)))}render(){if(!this.props.items)return zt.createElement(As.default,{size:"small"});const e={};return this.props.items.sort(((e,t)=>lt(e.platform.title.toUpperCase(),t.platform.title.toUpperCase()))).forEach((t=>{const r=t.platform.title,n=e[r]||[];n.push(t),e[r]=n})),zt.createElement(Fa.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:`Select a board (${this.props.items.length} available)`,optionFilterProp:"children",filterOption:(e,t)=>"string"==typeof t.props.children&&t.props.children.toLowerCase().includes(e.toLocaleLowerCase()),onChange:this.onDidChange.bind(this)},Object.keys(e).map((t=>zt.createElement(Fa.default.OptGroup,{key:t,label:zt.createElement("span",null,zt.createElement(es.default,{type:"appstore"})," ",t)},e[t].sort(((e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()))).map((e=>zt.createElement(Fa.default.Option,{key:e.id,value:e.id},e.name.includes(e.vendor)?e.name:`${e.name} (${e.vendor})`)))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}($a,"propTypes",{items:rs().arrayOf(rs().object),onChange:rs().func.isRequired,loadBoards:rs().func.isRequired});const Ba=(0,cs.$j)((function(e){return{items:di(e)}}),{loadBoards:zi})($a);r("JT+3");var Ma=r("Y/VR");function Ya(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Wa extends zt.Component{constructor(){super(...arguments),this.state={showHidden:!1,pendingMakeDirs:!1,pendingRenameFile:!1,rootDir:null},this.props.loadLogicalDevices()}onDidRefresh(){this.props.resetFSItems(),this.state.rootDir&&this.onDidChangeRoot(this.state.rootDir)}onDidToggleHidden(){this.setState({showHidden:!this.state.showHidden})}onDidToggleFavorite(){this.props.toggleFavoriteFolder(this.state.rootDir)}onRequestCreateFolder(){this.setState({pendingMakeDirs:!this.state.pendingMakeDirs,pendingRenameFile:!1})}onRequestRenameFile(){this.setState({pendingRenameFile:!this.state.pendingRenameFile,pendingMakeDirs:!1})}onDidMakeDirs(e){const t=ar(this.state.rootDir,e.target.value);this.props.osMakeDirs(t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidRenameFile(e){const t=ar(lr(this.state.rootDir),e.target.value);this.props.osRenameFile(this.state.rootDir,t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidDuplicate(){const e=this.state.rootDir+" copy";this.props.osCopyFile(this.state.rootDir,e),this.props.resetFSItems(),this.onDidChangeRoot(e)}onDidChangeRoot(e){this.setState({rootDir:e,pendingMakeDirs:!1,pendingRenameFile:!1}),this.props.osListDir(e),"directory"===this.props.ask&&this.onDidSelectItem(e)}onDidSelectItem(e){return this.props.onSelect(e)}getRootItems(){return this.props.devices&&(!this.state.rootDir||this.props.osDirItems&&this.props.osDirItems[this.state.rootDir])?this.state.rootDir?this.props.osDirItems[this.state.rootDir].map((([e,t])=>({name:e,isDir:t,path:ar(this.state.rootDir,e)}))):this.props.devices.map((e=>({name:e.name||e.path,path:e.path,isDir:!0}))):null}filterHidden(e){return this.state.showHidden||!e.startsWith(".")}render(){return this.props.devices?zt.createElement("div",{className:"file-explorer"},this.renderToolbar(),zt.createElement(Rs.default,null,zt.createElement(xs.default,{xs:6,className:"fe-sidebar"},this.renderSidebar()),zt.createElement(xs.default,{xs:18,className:"fe-tree"},this.renderBreadcrumb(),this.renderRootItems())),(this.state.pendingMakeDirs||this.state.pendingRenameFile)&&zt.createElement(Rs.default,null,zt.createElement(xs.default,{xs:6}),zt.createElement(xs.default,{xs:18},zt.createElement(Jo.default,{title:"Press Enter to finish..."},this.state.pendingMakeDirs?zt.createElement(js.default,{placeholder:"Folder Name",onPressEnter:this.onDidMakeDirs.bind(this),ref:e=>e?e.focus():""}):zt.createElement(js.default,{defaultValue:cr(this.state.rootDir),onPressEnter:this.onDidRenameFile.bind(this),ref:e=>e?e.focus():""}))))):zt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}renderToolbar(){return zt.createElement("div",{className:"fe-toolbar"},zt.createElement(gt.default.Group,{className:"inline-block"},zt.createElement(gt.default,{icon:"reload",title:"Refresh",onClick:this.onDidRefresh.bind(this)}),zt.createElement(gt.default,{icon:this.state.rootDir&&(this.props.favoriteFolders||[]).includes(this.state.rootDir)?"star":"star-o",title:"Toggle favorite folder",disabled:!this.state.rootDir,onClick:this.onDidToggleFavorite.bind(this)}),zt.createElement(gt.default,{icon:"eye",title:"Show hidden files",ghost:this.state.showHidden,type:this.state.showHidden?"primary":"default",onClick:this.onDidToggleHidden.bind(this)})),zt.createElement(gt.default.Group,{className:"inline-block"},zt.createElement(gt.default,{icon:"folder-add",title:"New folder",disabled:!this.state.rootDir,type:this.state.pendingMakeDirs?"danger":"default",onClick:this.onRequestCreateFolder.bind(this)},this.state.pendingMakeDirs?"Cancel":"New"),zt.createElement(gt.default,{icon:"edit",disabled:!this.state.rootDir,type:this.state.pendingRenameFile?"danger":"default",onClick:this.onRequestRenameFile.bind(this)},this.state.pendingRenameFile?"Cancel":"Rename")),zt.createElement(gt.default.Group,{className:"inline-block"},zt.createElement(gt.default,{icon:"copy",disabled:!this.state.rootDir,onClick:this.onDidDuplicate.bind(this)},"Duplicate"),zt.createElement(gt.default,{icon:"folder-open",disabled:!this.state.rootDir,onClick:()=>this.props.osRevealFile(this.state.rootDir)},"Reveal")))}renderBreadcrumb(){if(!this.state.rootDir)return;const e=[];let t=this.state.rootDir;for(;t;){e.push({path:t,name:cr(t)});const r=lr(t);if(!r||r===t)break;t=r&&r!==t?r:null}return zt.createElement("div",null,zt.createElement(Ma.Z,{itemRender:(e,t,r)=>r[r.length-1].path===e.path?zt.createElement("span",null,e.name):zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name),routes:e.reverse()}),zt.createElement(Ts.Z,null))}renderSidebar(){return zt.createElement("div",null,this.renderSiderbarFavorites(),zt.createElement("b",null,"Places"),zt.createElement("ul",{className:"block"},zt.createElement("li",null,zt.createElement(es.default,{type:"home"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.homeDir),title:this.props.homeDir},cr(this.props.homeDir))),zt.createElement("li",null,zt.createElement(es.default,{type:"book"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.projectsDir),title:this.props.projectsDir},"Projects"))),zt.createElement("b",null,"Devices"),zt.createElement("ul",null,this.props.devices.map((e=>zt.createElement("li",{key:e.path},zt.createElement(es.default,{type:"hdd"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path),title:e.name},!F&&e.name?e.name:e.path))))))}renderSiderbarFavorites(){const e=this.props.favoriteFolders||[];let t="";return t=e&&e.length?zt.createElement("ul",null,e.map((e=>zt.createElement("li",{key:e},zt.createElement(es.default,{type:"star-o"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e),title:e},cr(e)))))):zt.createElement("div",null,zt.createElement("small",null,"Use ",zt.createElement(es.default,{type:"star-o"})," to add folder")),zt.createElement("div",{className:"block"},zt.createElement("b",null,"Favorites"),t)}renderRootItems(){const e=this.getRootItems();return e?e.length?zt.createElement("div",{className:"fe-root-items"},zt.createElement("ul",null,e.filter((e=>this.filterHidden(e.name))).map((e=>zt.createElement("li",{key:e.path},this.renderRootItem(e)))))):zt.createElement("ul",{className:"background-message text-center",style:{marginTop:"25px"}},zt.createElement("li",null,"No Items")):zt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}renderRootItem(e){const t=zt.createElement(es.default,{type:e.isDir?"folder":"file"});return e.isDir?zt.createElement("span",null,t," ",zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name)):"directory"!==this.props.ask?zt.createElement("span",null,t," ",zt.createElement("a",{onClick:()=>this.onDidSelectItem(e.path)},e.name)):zt.createElement("span",null,t," ",e.name)}}Ya(Wa,"propTypes",{ask:rs().string,onSelect:rs().func,devices:rs().arrayOf(rs().shape({path:rs().string,name:rs().string})),osDirItems:rs().object,homeDir:rs().string,projectsDir:rs().string,favoriteFolders:rs().arrayOf(rs().string),loadLogicalDevices:rs().func.isRequired,osListDir:rs().func.isRequired,osMakeDirs:rs().func.isRequired,osRevealFile:rs().func.isRequired,osCopyFile:rs().func.isRequired,osRenameFile:rs().func.isRequired,resetFSItems:rs().func.isRequired,toggleFavoriteFolder:rs().func.isRequired}),Ya(Wa,"defaultProps",{ask:"directory",onSelect:()=>{}});const Ka=(0,cs.$j)((function(e){return{devices:Nt(e),osDirItems:It(e),homeDir:Pt(e,"homeDir"),projectsDir:Pt(e,"projectsDir"),favoriteFolders:Pt(e,"favoriteFolders")}}),n)(Wa);function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ja(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qa extends zt.Component{constructor(){super(...arguments),this.state={selectedBoard:null,useArduinoLibs:!1,arduinoProjectDir:null,inProgress:!1}}onDidBoard(e){if(!e.frameworks||!e.frameworks.map((e=>e.name)).includes("arduino"))return this.setState({selectedBoard:null}),Z.Z.error(`Board ${e.name} is not compatible with Arduino framework`);this.setState({selectedBoard:e.id})}onDidUseArduinoLibs(e){this.setState({useArduinoLibs:e.target.checked})}onDidArduinoProjectDir(e){this.setState({arduinoProjectDir:e})}onDidFinish(){return this.state.selectedBoard?this.state.arduinoProjectDir?(this.setState({inProgress:!0}),void this.props.importArduinoProject(this.state.selectedBoard,this.state.useArduinoLibs,this.state.arduinoProjectDir,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))):Z.Z.error("Please select a folder with Arduino project"):Z.Z.error("Please select a board")}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return zt.createElement(ht.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Import Arduino Project",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){return this.state.inProgress?zt.createElement(Aa,{osOpenUrl:this.props.osOpenUrl}):zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Please select a board to initialize a project. You can change it later in"," ",zt.createElement("code",null,"innaterapluginio.ini")," file which will be created in a project directory:"),zt.createElement("div",{className:"block"},zt.createElement(Ba,{onChange:this.onDidBoard.bind(this)})),zt.createElement("div",{className:"block"},zt.createElement(oa.default,{onChange:this.onDidUseArduinoLibs.bind(this),checked:this.state.useArduinoLibs},"Use libraries installed by Arduino IDE",zt.createElement(Jo.default,{title:"We highly recommend to use PlatformIO Library Manager"},zt.createElement(es.default,{type:"question-circle",style:{marginLeft:"5px"}})))),zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a directory with existing Arduino IDE project:"),zt.createElement(Ka,{ask:"directory",onSelect:this.onDidArduinoProjectDir.bind(this)}))}}Ja(Qa,"propTypes",{visible:rs().bool.isRequired,onCancel:rs().func.isRequired,boards:rs().array,addProject:rs().func.isRequired,openProject:rs().func.isRequired,importArduinoProject:rs().func.isRequired,osOpenUrl:rs().func.isRequired});(0,cs.$j)(null,Ha(Ha({},a),{},{osOpenUrl:ge}))(Qa);function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach((function(t){tl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class rl extends zt.Component{constructor(){super(...arguments),this.state={selectedFramework:null,useDefaultLocation:!0,useDefaultSpineLocation:!0,useDefaultBuildLocation:!0,frameworks:[],projectLocation:null,spineLocation:"",inProgress:!1,BuildLocation:null}}onDidBoard(e){const t=e.frameworks||[];this.setState({selectedFramework:t.length?t[0].name:null,frameworks:t})}onDidFramework(e){this.setState({selectedFramework:e})}onDidUseDefaultLocation(e){this.setState({useDefaultLocation:e.target.checked})}onDidUseDefaultSpineLocation(e){this.setState({useDefaultSpineLocation:e.target.checked})}onDidUseDefaultBuildLocation(e){this.setState({useDefaultBuildLocation:e.target.checked})}onDidProjectLocation(e){this.props.form.resetFields(["isCustomLocation"]),this.setState({projectLocation:e})}onDidSpineLocation(e){this.props.form.resetFields(["isCustomSpineLocation"]),this.setState({spineLocation:e})}onDidBuildLocation(e){this.props.form.resetFields(["isBuildLocation"]),this.setState({BuildLocation:e})}onDidFinish(){this.props.form.resetFields(["isCustomLocation"]),this.props.form.validateFields(((e,t)=>{if(e)return;this.setState({inProgress:!0});const r=this.state.useDefaultLocation?this.props.projectsDir:this.state.projectLocation,n=this.state.useDefaultSpineLocation?this.props.spineDir:this.state.spineLocation,i=this.state.useDefaultBuildLocation?ar(r,t.name,"build"):ar(this.state.BuildLocation,"build");this.props.initProject(t.board.id,this.state.selectedFramework,ar(r,t.name),n,i,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel(t))}))}))}onDidCancel(e){this.setState({inProgress:!1}),this.props.onCancel(e)}render(){return zt.createElement(ht.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Project Wizard",okText:this.state.inProgress?"Please wait...":"Finish",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return zt.createElement(Aa,{osOpenUrl:this.props.osOpenUrl});const{getFieldDecorator:e}=this.props.form;return zt.createElement(ws.Z,{hideRequiredMark:!0},zt.createElement("div",{className:"block"},"This wizard allows you to ",zt.createElement("b",null,"create new")," Innatera project or"," ",zt.createElement("b",null,"update existing"),'. In the last case, you need to uncheck "Use default location" and specify path to existing project.'),zt.createElement(ws.Z.Item,{colon:!1,label:"Name",labelCol:{span:4},wrapperCol:{span:20}},e("name",{rules:[{required:!0,whitespace:!0,pattern:/^[a-z\d\_\-\. ]+$/i,message:"Please input a valid name for project folder! [a-z0-9_-. ]"}]})(zt.createElement(js.default,{placeholder:"Project name"}))),zt.createElement(ws.Z.Item,{colon:!1,label:"Board",labelCol:{span:4},wrapperCol:{span:20}},e("board",{rules:[{required:!0,message:"Please select a board!"}]})(zt.createElement(Ba,{onChange:this.onDidBoard.bind(this)}))),this.state.selectedFramework&&zt.createElement(ws.Z.Item,{colon:!1,label:"Framework",labelCol:{span:4},wrapperCol:{span:20}},zt.createElement(Fa.default,{value:this.state.selectedFramework,style:{width:"100%"},size:"large",onChange:this.onDidFramework.bind(this)},this.state.frameworks.map((e=>zt.createElement(Fa.default.Option,{key:e.name,value:e.name,title:e.title},e.title))))),zt.createElement(ws.Z.Item,{colon:!1,label:"Location",labelCol:{span:4},wrapperCol:{span:20}},e("isCustomLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultLocation&&!this.state.projectLocation||void 0)),200),message:"Please select a custom project location!"}]})(zt.createElement(oa.default,{onChange:this.onDidUseDefaultLocation.bind(this),checked:this.state.useDefaultLocation},"Use default location",zt.createElement(Jo.default,{title:`Default location for PlatformIO Projects is: "${this.props.projectsDir}"`,overlayStyle:{wordBreak:"break-all"}},zt.createElement(es.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultLocation&&this.renderExplorer(),this.state.selectedFramework&&("spine"===this.state.selectedFramework||"combine"===this.state.selectedFramework)&&zt.createElement(ws.Z.Item,{colon:!1,label:"Spine",labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:"-10px"}},e("isCustomSpineLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultSpineLocation&&!this.state.spineLocation||void 0)),200),message:"Please select a custom spine folder location!"}]})(zt.createElement(oa.default,{onChange:this.onDidUseDefaultSpineLocation.bind(this),checked:this.state.useDefaultSpineLocation},"Use default spine location",zt.createElement(Jo.default,{title:`Default location for Spine folder is: "${this.props.spineDir}"`,overlayStyle:{wordBreak:"break-all"}},zt.createElement(es.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultSpineLocation&&this.renderSpineExplorer(),"combine"===this.state.selectedFramework&&zt.createElement(ws.Z.Item,{colon:!1,label:"Build Dir",labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:"-10px"}},e("isBuildLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultBuildLocation&&!this.state.BuildLocation||void 0)),200),message:"Please select a Build Directory location!"}]})(zt.createElement(oa.default,{onChange:this.onDidUseDefaultBuildLocation.bind(this),checked:this.state.useDefaultBuildLocation},"Use default Build Directory location",zt.createElement(Jo.default,{title:`Default location for Build Directory is: "${ar(this.props.projectsDir,this.props.form.getFieldValue("name")||"project","build")}"`,overlayStyle:{wordBreak:"break-all"}},zt.createElement(es.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultBuildLocation&&this.renderBuildExplorer())}renderExplorer(){return zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location where we will create project folder:"),zt.createElement(Ka,{ask:"directory",onSelect:this.onDidProjectLocation.bind(this)}))}renderSpineExplorer(){return zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location for the Spine folder:"),zt.createElement(Ka,{ask:"directory",onSelect:this.onDidSpineLocation.bind(this)}))}renderBuildExplorer(){return zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location for the Build folder:"),zt.createElement(Ka,{ask:"directory",onSelect:this.onDidBuildLocation.bind(this)}))}}tl(rl,"propTypes",{form:rs().object.isRequired,visible:rs().bool.isRequired,onCancel:rs().func.isRequired,projectsDir:rs().string,spineDir:rs().string,addProject:rs().func.isRequired,openProject:rs().func.isRequired,initProject:rs().func.isRequired,osOpenUrl:rs().func.isRequired,buildDir:rs().string});const nl=(0,cs.$j)((function(e){return{projectsDir:Pt(e,"projectsDir"),spineDir:Pt(e,"spineDir"),buildDir:Pt(e,"buildDir")}}),el(el({},a),{},{osOpenUrl:ge}))(ws.Z.create()(rl));class il extends zt.Component{constructor(){super(...arguments),this.state={projectDir:null,checking:!1}}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}onDidOpen(){if(!this.state.projectDir)return Z.Z.error("Please select Project Folder");this.setState({checking:!0}),this.props.addProject(this.state.projectDir,{withOpen:!this.props.skipOpenProject,onEnd:(e,t)=>{if(this._mounted){if(this.setState({checking:!1}),e)return Z.Z.error(e);this.props.onCancel(t)}}})}onDidCancel(){this.props.onCancel()}onDidSelect(e){this.setState({projectDir:e})}render(){return zt.createElement(ht.Z,{visible:this.props.visible,className:"project-open-modal",width:600,title:"Open PlatformIO Project",onOk:this.onDidOpen.bind(this),onCancel:this.onDidCancel.bind(this),footer:this.renderFooter()},zt.createElement(Ka,{ask:"directory",onSelect:this.onDidSelect.bind(this)}))}renderFooter(){return[zt.createElement(gt.default,{key:"cancel",size:"large",onClick:this.onDidCancel.bind(this)},"Cancel"),zt.createElement(gt.default,{key:"submit",type:"primary",size:"large",disabled:!this.state.projectDir||this.state.checking,loading:this.state.checking,onClick:this.onDidOpen.bind(this)},"Open"+(this.state.projectDir?` "${cr(this.state.projectDir)}"`:""))]}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(il,"propTypes",{skipOpenProject:rs().bool,visible:rs().bool,onCancel:rs().func.isRequired,addProject:rs().func.isRequired});const ol=(0,cs.$j)(void 0,{addProject:go})(il);class sl extends zt.Component{constructor(){super(...arguments),this.props.loadProjects()}onDidShowBoard(e){this.props.updateInputValue(Yn,e),this.props.showBoards()}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-word-break",sorter:(e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase())},{title:as("Boards"),key:"boards",className:"text-word-break",render:(e,t)=>{const r=[];return zt.createElement("span",null,t.boards.filter((e=>!r.includes(e.id)&&(r.push(e.id),!0))).map(((e,r)=>zt.createElement("span",{key:e.id},zt.createElement("a",{onClick:()=>this.onDidShowBoard(e.name)},e.name)," ",t.boards.length>r+1?", ":""))))}},{title:"Modified",key:"modified",className:"text-nowrap",sorter:(e,t)=>lt(t.modified,e.modified),render:(e,t)=>zt.createElement(Jo.default,{title:new Date(1e3*t.modified).toString()},Or().relativeTime(t.modified))},{title:"Action",key:"action",className:"text-nowrap",width:100,render:(e,t)=>zt.createElement("span",null,zt.createElement("a",{onClick:()=>this.props.hideProject(t.path)},"Hide")," ",zt.createElement("span",{className:"ant-divider"})," ",zt.createElement("a",{onClick:()=>this.props.openProject(t.path)},"Open"))}]}render(){return zt.createElement("div",{className:"block"},zt.createElement(Ts.Z,null,"Recent Projects"),this.renderProjects())}renderProjects(){return this.props.items?this.props.items.length||this.props.filterValue?zt.createElement("div",null,zt.createElement(js.default,{className:"block",defaultValue:this.props.filterValue,placeholder:"Search project...",onChange:e=>this.props.setFilter(e.target.value)}),zt.createElement(zs.Z,{rowKey:"path",className:"block",dataSource:this.props.items,columns:this.getTableColumns(),expandedRowRender:this.renderExpandedRow.bind(this),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}})):zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",onClick:()=>this.props.showProjectExamplesModal()},"Open Project Examples")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",onClick:()=>this.props.showOpenProjectModal()},"Open Existing Project")))):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading..."}))}renderExpandedRow(e){return zt.createElement("div",null,zt.createElement(es.default,{type:"folder",className:"inline-block-tight"}),zt.createElement("a",{onClick:()=>this.props.osRevealFile(e.path)},e.path))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sl,"propTypes",{router:rs().object.isRequired,showProjectExamplesModal:rs().func.isRequired,showOpenProjectModal:rs().func.isRequired,items:rs().arrayOf(rs().shape({name:rs().string.isRequired,path:rs().string.isRequired,modified:rs().number.isRequired,boards:rs().arrayOf(rs().shape({id:rs().string.isRequired,name:rs().string.isRequired}))})),filterValue:rs().string,setFilter:rs().func.isRequired,updateInputValue:rs().func.isRequired,openProject:rs().func.isRequired,hideProject:rs().func.isRequired,loadProjects:rs().func.isRequired,osRevealFile:rs().func.isRequired,showBoards:rs().func.isRequired});const al=(0,cs.$j)((function(e,t){return{items:Dn(e),filterValue:Cn(e),showBoards:()=>st(t.router.history,"/boards")}}),(function(e){return(0,l.DE)(Object.assign({},a,{osRevealFile:ye,updateInputValue:I,setFilter:t=>e(q(Pn,t))}),e)}))(sl);function ll(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class cl extends zt.Component{constructor(){super(...arguments),this.state={newProjectVisible:!1,importArduinoProjectVisible:!1,openProjectVisible:!1,projectExamplesVisible:!1}}onDidShowOnStartup(e){this.props.showAtStartup(e.target.checked)}onDidNewProject(){this.setState({newProjectVisible:!0})}onDidCancelNewProject(){this.setState({newProjectVisible:!1})}onDidImportArduinoProject(){this.setState({importArduinoProjectVisible:!0})}onDidCancelImportArduinoProject(){this.setState({importArduinoProjectVisible:!1})}onDidOpenProject(){this.setState({openProjectVisible:!0})}onDidCancelOpenProject(){this.setState({openProjectVisible:!1})}onDidProjectExamples(){this.setState({projectExamplesVisible:!0})}onDidCancelProjectExamples(){this.setState({projectExamplesVisible:!1})}render(){return zt.createElement("section",{className:"page-container"},zt.createElement("div",{className:"home-page"},zt.createElement("h1",null,"Welcome to"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(ls("welcome",ls("home")))},ss("title"))," ",zt.createElement("small",{className:"pull-right",style:{marginTop:"15px"}},this.renderShowAtStartup())),zt.createElement(Rs.default,{className:"text-center"},zt.createElement(xs.default,{span:12,className:"company-logo-versions"},zt.createElement("a",{onClick:()=>this.props.osOpenUrl(ls("home"))},zt.createElement(ds,{height:ss("companyLogoHomeHeight")})),ss("showPIOVersions",!1)&&zt.createElement(_a,null)),zt.createElement(xs.default,{span:12},this.renderQuickAccess())),zt.createElement(al,{router:this.context.router,showProjectExamplesModal:this.onDidProjectExamples.bind(this),showOpenProjectModal:this.onDidOpenProject.bind(this)})))}renderQuickAccess(){return zt.createElement("div",{className:"quick-buttons"},zt.createElement("h2",null,"Quick Access"),zt.createElement("ul",null,!ss("ignoreQuickAccessButtons",[]).includes("new-project")&&zt.createElement("li",null,zt.createElement(nl,{visible:this.state.newProjectVisible,onCancel:this.onDidCancelNewProject.bind(this)}),zt.createElement(gt.default,{size:"large",icon:"plus",disabled:this.state.newProjectVisible,onClick:this.onDidNewProject.bind(this)},"New Project")),zt.createElement("li",null,zt.createElement(ol,{visible:this.state.openProjectVisible,onCancel:this.onDidCancelOpenProject.bind(this)}),zt.createElement(gt.default,{size:"large",icon:"folder",disabled:this.state.openProjectVisible,onClick:this.onDidOpenProject.bind(this)},"Open Project"))))}renderShowAtStartup(){return this.props.caller?zt.createElement("div",{className:"block text-center"},zt.createElement(oa.default,{defaultChecked:this.props.showOnStartupState,onChange:this.onDidShowOnStartup.bind(this)},"Show at startup")):null}}ll(cl,"contextTypes",{router:rs().object.isRequired}),ll(cl,"propTypes",{caller:rs().string,showOnStartupState:rs().bool,osOpenUrl:rs().func.isRequired,showAtStartup:rs().func.isRequired});const ul=(0,cs.$j)((function(e){return{caller:Pt(e,"coreCaller"),showOnStartupState:Ct(e)}}),{osOpenUrl:ge,showAtStartup:he})(cl);r("LGkk");var pl=r("rVaU");class dl extends zt.Component{constructor(...e){super(...e),this.state={}}componentDidMount(){this._isMounted=!0;this.props.loadProjects(!0),this.props.form.setFieldsValue(this.props.savedConfiguration||{memory:!0,code:!0})}componentDidUpdate(e){if(this.props.savedConfiguration&&!kr(e.savedConfiguration,this.props.savedConfiguration)&&this.props.form.setFieldsValue(this.props.savedConfiguration),this.props.projects&&e.projects!==this.props.projects){const e=this.props.form.getFieldValue("projectDir");e&&!this.props.projects.find((t=>t.path===e))&&this.props.form.setFieldsValue({projectDir:void 0})}}componentWillUnmount(){this._isMounted=!1}isValid(){const{projectDir:e,env:t,memory:r,code:n}=this.props.form.getFieldsValue();return e&&e.length&&t&&t.length&&(r||n)}handleSubmit(e){if(e.preventDefault(),!this.isValid())return;const{projectDir:t,env:r,memory:n,code:i}=this.props.form.getFieldsValue(),o={projectDir:t,env:r,memory:n,code:i};this.setState({running:!0,error:void 0}),this.props.inspectProject(o,(()=>{this._isMounted&&this.setState({running:!1})}))}handleProjectChange(e){const t=this._getProjectEnvs(e);this.props.form.setFieldsValue({env:1===t.length?t[0]:void 0})}handleOpenProjectCancel(e){this.setState({openProjectVisible:!1}),e&&this.props.form.setFieldsValue({projectDir:e,env:void 0})}handleOpenProjectClick(){this.setState({openProjectVisible:!0})}handleFilterOption(e,t){t.props.children.toLowerCase().includes(e.toLocaleLowerCase())}renderProjectSelect(){return this.props.form.getFieldDecorator("projectDir")(zt.createElement(Fa.default,{loading:!this.props.projects,showSearch:!0,style:{width:"100%"},size:"large",placeholder:this.props.projects?"Select a project":"Loading…",optionFilterProp:"children",filterOption:this.handleFilterOption.bind(this),onChange:this.handleProjectChange.bind(this)},(this.props.projects||[]).sort(((e,t)=>e.name.localeCompare(t.name))).map((({name:e,path:t})=>zt.createElement(Fa.default.Option,{key:t,value:t},e)))))}_getProjectByPath(e){return(this.props.projects||[]).find((t=>t.path===e))}_getProjectEnvs(e){const t=this._getProjectByPath(e);return(t&&t.envs||[]).sort(((e,t)=>e.localeCompare(t)))}renderEnvSelect(){const e=this.props.form.getFieldValue("projectDir"),t=this._getProjectEnvs(e);return this.props.form.getFieldDecorator("env")(zt.createElement(Fa.default,{loading:!this.props.projects,disabled:!e,style:{width:"100%"},size:"large",placeholder:e&&t?"Select environment":""},t.map((e=>zt.createElement(Fa.default.Option,{key:e,value:e},e)))))}render(){return zt.createElement("div",{className:"inspect-configuration-page"},zt.createElement(ol,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel.bind(this)}),zt.createElement("h1",{style:{marginTop:12}},"Project Inspection"),zt.createElement("p",null,"A report after inspection includes memory use information with a detailed visual view of memory utilization, helps locate and improve parts of the application like symbols or functions which have a significant memory footprint. A static code analysis report helps spot and fix software defects before debugging."),zt.createElement("p",null,zt.createElement(es.default,{type:"bulb"})," Building a project in"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/build_configurations.html")},"debug mode")," ","before an inspection can significantly reduce the processing time."),zt.createElement(ws.Z,{layout:"vertical",onSubmit:this.handleSubmit.bind(this)},zt.createElement(ws.Z.Item,{label:"Project"},zt.createElement(Rs.default,{gutter:8},zt.createElement(xs.default,{xs:24,sm:17,md:19,lg:20},this.renderProjectSelect()),zt.createElement(xs.default,{xs:24,sm:7,md:5,lg:4},zt.createElement(gt.default,{icon:"folder",size:"large",style:{width:"100%"},onClick:this.handleOpenProjectClick.bind(this)},"Browse")))),zt.createElement(ws.Z.Item,{label:"Environment"},this.renderEnvSelect()),zt.createElement(ws.Z.Item,null,zt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("memory",{valuePropName:"checked",initialValue:!0})(zt.createElement(pl.Z,null))," ","Inspect Memory"),zt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("code",{valuePropName:"checked",initialValue:!0})(zt.createElement(pl.Z,null))," ","Check Code")),zt.createElement(ws.Z.Item,null,zt.createElement(gt.default,{htmlType:"submit",disabled:!this.isValid(),loading:this.state.running,size:"large",icon:"caret-right",type:"primary"},"Inspect"))),this.props.error&&zt.createElement("div",null,zt.createElement("div",{className:"ant-form-item-label"},zt.createElement("label",null,"Errors")),zt.createElement("div",{className:"inspect-config-console"},this.props.error.replace(/\\\\n/g,"\n"))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(dl,"propTypes",{error:rs().string,form:rs().object.isRequired,history:rs().object.isRequired,projects:rs().arrayOf(rs().shape({name:rs().string.isRequired,path:rs().string.isRequired})),savedConfiguration:rs().object,inspectProject:rs().func.isRequired,loadProjects:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const ml={inspectProject:vr,loadProjects:vo,osOpenUrl:ge},fl=(0,cs.$j)((function(e){return{error:Gr(e),projects:kn(e),savedConfiguration:Yr(e)}}),ml)(dl),hl=ws.Z.create()(fl),gl=rs().shape({code:rs().bool,env:rs().string.isRequired,memory:rs().bool,projectDir:rs().string.isRequired}),yl=rs().shape({category:rs().string.isRequired,column:rs().number.isRequired,file:rs().string.isRequired,id:rs().string.isRequired,line:rs().number.isRequired,message:rs().string.isRequired,severity:rs().string.isRequired,tool:rs().string.isRequired}),bl=rs().shape({addr:rs().number.isRequired,bind:rs().string.isRequired,displayName:rs().string.isRequired,demangled_name:rs().string,name:rs().string.isRequired,section:rs().string.isRequired,size:rs().number.isRequired,type:rs().string.isRequired,file:rs().string,line:rs().number}),El=rs().arrayOf(rs().shape({name:rs().string,flags:rs().string,size:rs().number,startAddr:rs().number,type:rs().string})),vl=rs().shape({cpu:rs().string,flash:rs().number,frequency:rs().number,mcu:rs().string,ram:rs().number});r("5Nzg");var wl=r("CgBw");const jl=.9;class Ol extends zt.PureComponent{static getCurrentStep(e){return e.steps.find((e=>!e.done))}constructor(...e){super(...e);const t=Date.now().valueOf(),r=Ol.getCurrentStep(this.props);this.state=r?{mode:1,stepStartedAt:t,stepDuration:0}:{}}componentDidMount(){this.timer=setInterval(this.handleTimer.bind(this),200)}componentDidUpdate(e){const t=Ol.getCurrentStep(e),r=Ol.getCurrentStep(this.props);t&&r&&t.name!==r.name&&this.setState({mode:1,stepStartedAt:Date.now().valueOf(),stepDuration:0})}componentWillUnmount(){clearInterval(this.timer)}getExpProgress(e){return jl+(1-jl)*(1-1/Math.exp(e/1e5))}handleTimer(){this.setState((e=>{const t=Ol.getCurrentStep(this.props);if(!t||!e.stepStartedAt)return void clearInterval(this.timer);const r=Date.now()-e.stepStartedAt,n={stepDuration:r};return r/t.expectedDuration>=jl&&2!==e.mode&&(n.mode=2),n}))}render(){let e,t=0,r=0;if(this.props.steps.every((e=>e.done)))e="Complete",t=r=1;else{const n=Ol.getCurrentStep(this.props),i=this.props.steps.length,o=this.props.steps.indexOf(n)/i;let s;1===this.state.mode?s=this.state.stepDuration/n.expectedDuration:2===this.state.mode&&(s=this.getExpProgress(this.state.stepDuration-n.expectedDuration*jl)),r=o+s/i;const a=this.props.steps.filter((e=>e.done)).length;i>1&&(t=a/i),e=`Inspecting… ${n.name}`}return zt.createElement("div",null,zt.createElement("center",null,e,": ",(100*r).toFixed(0),"%"),zt.createElement(wl.Z,{format:e=>`${e.toFixed(0)}%`,successPercent:100*t,percent:100*r}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ol,"propTypes",{steps:rs().arrayOf(rs().shape({done:rs().bool.isRequired,expectedDuration:rs().number.isRequired,name:rs().string.isRequired})).isRequired});class Pl extends zt.PureComponent{componentDidUpdate(){this.props.project||this.props.showConfiguration()}render(){if(!this.props.project)return null;const e=[];return this.props.configuration.memory&&e.push({done:this.props.memoryDone,expectedDuration:this.props.memoryDuration||2e4,name:"Memory"}),this.props.configuration.code&&e.push({done:this.props.codeDone,expectedDuration:this.props.codeDuration||2e4,name:"Code"}),zt.createElement("div",{className:"inspect-processing-page"},zt.createElement("h1",{style:{marginTop:10,marginBottom:0}},zt.createElement(Jo.default,{title:this.props.project.path},this.props.project.name),zt.createElement("small",null," ",zt.createElement("b",null,"env:",this.props.configuration.env))),(!this.props.data||!this.props.data.error)&&zt.createElement(Ol,{steps:e}),this.props.data&&this.props.data.error&&zt.createElement(sa.Z,{type:"error",showIcon:!0,message:"Sorry, error occurred during inspection",description:zt.createElement("div",{className:"inspect-config-console"},this.props.data.error)}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Pl,"propTypes",{configuration:gl,data:rs().object,memoryDone:rs().bool,memoryDuration:rs().number,codeDone:rs().bool,codeDuration:rs().number,project:rs().shape({name:rs().string.isRequired,path:rs().string.isRequired}),showConfiguration:rs().func.isRequired});const Cl=(0,cs.$j)((function(e){const t=Yr(e);return{configuration:t,codeDuration:Mr(e,"code",t.projectDir,t.env),memoryDuration:Mr(e,"memory",t.projectDir,t.env),data:Kr(e),codeDone:!!rn(e),memoryDone:!!tn(e),project:Rn(e,t.projectDir)}}),(function(e,t){return{showConfiguration:()=>st(t.history,"/inspect")}}))(Pl);function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(r),!0).forEach((function(t){Dl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Rl extends zt.PureComponent{constructor(...e){super(...e),this.state={search:""}}static renderSeverityLevel(e){const t=yr[e];return zt.createElement(Us.Z,{className:`severity-tag severity-${t.toLowerCase()}`},t.toUpperCase())}renderMessage(e,t){return zt.createElement("span",null,t.cwe&&zt.createElement("a",{style:{marginRight:5},onClick:()=>this.props.osOpenUrl(`https://cwe.mitre.org/data/definitions/${t.cwe}.html`)},"CWE-",t.cwe,":"),t.id?zt.createElement(Jo.default,{title:`${t.tool} defect ID: ${t.id}`},e):e)}getTableColumns(e){return[{title:"Tool",dataIndex:"tool",filters:Fr(e,"tool"),onFilter:(e,t)=>t.tool===e,sorter:Ir("string","tool"),align:"center"},{title:"Level",dataIndex:"level",defaultSortOrder:"ascend",filters:Object.entries(yr).map((([e,t])=>({text:t,value:parseInt(e)}))),onFilter:(e,t)=>t.level===e,render:Rl.renderSeverityLevel,sorter:Ir("number","level"),align:"center"},{title:"Category",dataIndex:"category",filters:Fr(e,"category"),onFilter:(e,t)=>t.category===e,render:e=>zt.createElement(Us.Z,null,e.toUpperCase()),sorter:Ir("string","category"),align:"center"},{title:"Message",dataIndex:"message",sorter:Ir("string","message"),render:this.renderMessage.bind(this)},{title:"Location",dataIndex:"file",render:(e,{line:t,column:r})=>zt.createElement("a",{onClick:()=>this.props.openTextDocument(e,t,r)},zt.createElement(Jo.default,{title:e},Lr(e,25),":",t,":",r)),sorter:Tr(Ir("string","file"),Ir("number","line"),Ir("number","column"))}]}render(){const{defects:e}=this.props,t=e.map(((e,t)=>Sl(Sl({},e),{},{idx:t})));return zt.createElement("div",{className:"page-container"},zt.createElement(zs.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}Dl(Rl,"propTypes",{defects:rs().arrayOf(yl),osOpenUrl:rs().func.isRequired,openTextDocument:rs().func.isRequired});class Tl extends zt.PureComponent{render(){const{defects:e}=this.props;return zt.createElement("div",{className:"inspect-code-page"},!e&&zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Defects")),e&&0!==e.length&&zt.createElement(Rl,{defects:e,osOpenUrl:this.props.osOpenUrl,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Tl,"propTypes",{defects:rs().arrayOf(yl),osOpenUrl:rs().func.isRequired,openTextDocument:rs().func.isRequired});const xl={osOpenUrl:ge,openTextDocument:Re},Nl=(0,cs.$j)((function(e){return{defects:Qr(e)}}),xl)(Tl);function Il(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ql extends zt.PureComponent{constructor(...e){super(...e),Il(this,"handleItemClick",(e=>{e.preventDefault();const t=e.target.closest("a");if(!t)return;const r=parseInt(t.dataset.idx),n=(this.props.path||"").split("/").slice(0,r).join("/");this.props.onChange(n.length?n:void 0)}))}render(){const{path:e}=this.props,t=(e||"").split("/");let r;return t.length&&(r=t.pop()),zt.createElement(Ma.Z,{className:"block",separator:"/"},zt.createElement(Ma.Z.Item,{key:0},zt.createElement("a",{"data-idx":0,onClick:this.handleItemClick},zt.createElement(es.default,{type:"book"}))),t.map(((e,t)=>0!==e.length&&zt.createElement(Ma.Z.Item,{key:t+1},zt.createElement("a",{"data-idx":t+1,onClick:this.handleItemClick},e)))),void 0!==r&&zt.createElement(Ma.Z.Item,{key:-1},r))}}function _l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(r),!0).forEach((function(t){Ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ll(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Il(ql,"propTypes",{path:rs().string,onChange:rs().func});const Al=Object.freeze({idx:-1,isDir:!0,relativePath:Pr}),zl=rs().shape({relativePath:rs().string.isRequired,isDir:rs().bool,ram:rs().int,flash:rs().int}),Ul=rs().arrayOf(zl);function Vl(e,t){return function(e,t){return e-t}(t.isDir,e.isDir)}class Zl extends zt.PureComponent{renderIcon(e){return zt.createElement(es.default,{type:e?"folder-open":"file-text"})}getTableColumns(){return[{title:"Name",dataIndex:"relativePath",defaultSortOrder:"ascend",render:(e,t)=>zt.createElement("a",null,this.renderIcon(t.isDir)," ",e.replace(/^\//,"")),sorter:Tr(Vl,((e,t)=>Nr(e.relativePath,t.relativePath))),width:"100%"},{title:"Flash",dataIndex:"flash",render:e=>zt.createElement("div",{className:"text-nowrap"},Dr(e)),sorter:Tr(Vl,((e,t)=>xr(e.flash,t.flash))),align:"right"},{title:"RAM",dataIndex:"ram",render:e=>zt.createElement("div",{className:"text-nowrap"},Dr(e)),sorter:Tr(Vl,((e,t)=>xr(e.ram,t.ram))),align:"right"}]}handleRowClick(e){e.preventDefault();const t=e.target.closest("tr");if(!t)return;const{onDirChange:r,items:n,dir:i=""}=this.props,o=parseInt(t.dataset.rowKey);let s;if(-1===o){const e=i.split("/");e.pop(),s=e.join("/"),""===s&&(s=void 0)}else{const e=n[o];if(s=i.length?`${i}/${e.relativePath}`:e.relativePath,!e.isDir)return void this.props.onFileClick(s)}r(s)}handleBreadcrumbChange(e){this.props.onDirChange(e)}render(){const{items:e,dir:t}=this.props;return 0===e.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement("div",null,zt.createElement(ql,{path:t,onChange:this.handleBreadcrumbChange.bind(this)}),this.renderList())}renderFooter(e){const t=e.reduce(((e,{ram:t,flash:r})=>(e.ram+=0|t,e.flash+=0|r,e)),{ram:0,flash:0});return zt.createElement("div",{className:"text-right"},`Total: ${Sr(t.flash)} Flash, ${Sr(t.ram)} RAM`)}renderList(){const{dir:e=""}=this.props,t=this.props.items.map(((e,t)=>Fl(Fl({},e),{},{idx:t}))),r=e.length?[Al,...t]:t;return zt.createElement(zs.Z,{childrenColumnName:"_",columns:this.getTableColumns(),dataSource:r,footer:this.renderFooter.bind(this),onRow:()=>({onClick:this.handleRowClick.bind(this)}),pagination:!1,rowKey:"idx",size:"middle"})}}function $l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(r),!0).forEach((function(t){Ml(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ml(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ll(Zl,"propTypes",{dir:rs().string,items:Ul,onDirChange:rs().func.isRequired,onFileClick:rs().func});const Yl={STT_FUNC:1,STT_OBJECT:2};function Wl(e,t){return xr(Yl[e.type]||0,Yl[t.type]||0)}class Kl extends zt.PureComponent{constructor(...e){super(...e),Ml(this,"renderAddress",(e=>zt.createElement("code",null,Rr(e,{width:this.addressWidth})))),Ml(this,"handleBreadcrumbChange",(e=>{this.props.onDirChange(e)})),Ml(this,"handleSearch",(e=>{this.setState({search:e})})),Ml(this,"renderFooter",(e=>{const t=e.reduce(((e,{size:t=0})=>e+t),0);return zt.createElement("div",{className:"text-right"},`Total Size on Page: ${Sr(t)}`)})),this.state={search:""}}componentDidMount(){this.searchEl&&this.searchEl.focus()}renderIcon(e){const t=fr[e];return t&&zt.createElement(es.default,{type:t})}renderDisplayName(e,t){return t.file?zt.createElement("span",null,this.renderIcon(t.type)," ",e," ",zt.createElement(Jo.default,{placement:"right",title:`at ${t.file}:${t.line}`,overlayStyle:{maxWidth:400}},zt.createElement("a",{onClick:()=>this.props.openTextDocument(t.file,t.line)},zt.createElement(es.default,{type:"search",className:"open-document-icon"})))):zt.createElement("span",null,this.renderIcon(t.type)," ",e)}getTableColumns(e){return[{title:"Name",dataIndex:"displayName",render:this.renderDisplayName.bind(this),sorter:Tr(Wl,((e,t)=>Nr(e.displayName,t.displayName))),width:"100%"},{title:"Type",align:"center",dataIndex:"type",render:e=>zt.createElement(Us.Z,null,e),filters:Fr(e,"type"),onFilter:(e,t)=>t.type.includes(e),sorter:(e,t)=>Nr(e.type,t.type)},{title:"Bind",align:"center",dataIndex:"bind",render:e=>zt.createElement(Us.Z,null,e),filters:Fr(e,"bind"),onFilter:(e,t)=>t.bind.includes(e),sorter:(e,t)=>Nr(e.bind,t.bind)},{title:"Address",dataIndex:"addr",render:this.renderAddress,sorter:(e,t)=>xr(e.addr,t.addr),align:"center"},{title:"Section",dataIndex:"section",render:e=>zt.createElement(Us.Z,null,e),filters:Fr(e,"section"),onFilter:(e,t)=>t.section===e,sorter:(e,t)=>Nr(e.section,t.section),align:"center"},{title:"Size",dataIndex:"size",render:e=>zt.createElement("div",{className:"text-nowrap"},Sr(e)),sorter:(e,t)=>xr(e.size,t.size),align:"right"}]}getMaxAddressWidth(e){let t=e.length,r=0;for(;t--;){const{addr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}getSearchResults(){const{symbols:e}=this.props,{search:t}=this.state;if(!t.length)return e;const r=["0","0x"],n=["name","demangled_name","section"],i=t.match(/\S+/g).filter((e=>!r.includes(e))).map((e=>isNaN(e)?e:e.toLowerCase()));return e.filter((e=>{for(const t of i){let r=!1;if(isNaN(t)){for(const i of n)if(e[i]&&e[i].includes(t)){r=!0;break}}else{const n=Rr(e.addr).toLowerCase();(n.startsWith(t)||n.endsWith(t.replace("0x","")))&&(r=!0)}if(!r)return!1}return!0}))}render(){const{file:e}=this.props,t=this.getSearchResults().map(((e,t)=>Bl(Bl({},e),{},{idx:t}))).sort(Wl);return this.addressWidth=this.getMaxAddressWidth(t),zt.createElement("div",{className:"inspect-mem-symbols"},zt.createElement("div",{className:"block"},zt.createElement(js.default.Search,{allowClear:!0,enterButton:!0,onSearch:this.handleSearch,placeholder:'Search, for ex. "init 0x80 bss"',ref:e=>{this.searchEl=e},size:"large",title:"Looks inside name, section; start/end of address"})),e&&zt.createElement(ql,{path:e,onChange:this.handleBreadcrumbChange}),zt.createElement(zs.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}function Gl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ml(Kl,"propTypes",{symbols:rs().arrayOf(bl),openTextDocument:rs().func.isRequired,file:rs().string,onDirChange:rs().func});class Hl{constructor(){Gl(this,"children",new Map)}remember(e,t){const r=e.split("/");let n="";for(let e=0;e<r.length;e++){this.children.has(n)||this.children.set(n,{dirs:new Set,files:new Set});const{files:i,dirs:o}=this.children.get(n),s=r.slice(0,e+1).join("/");e+1!==r.length||t?o.add(s):i.add(s),n=s}}unfold(e){let t,r=e;for(;(t=this.children.get(r))&&1==t.dirs.size&&0==t.files.size;)r=t.dirs.values().next().value;return r}}class Jl{constructor(){Gl(this,"map",new Map)}increment(e,t){if(!this.map.has(e))return void this.map.set(e,t);const r=this.map.get(e);Object.entries(t).forEach((([e,t])=>r[e]+=t))}assign(e,t){return Object.assign(e,this.map.get(t))}}class Ql{constructor(){Gl(this,"values",new Set)}filter(e){return!this.values.has(e)&&(this.values.add(e),!0)}}class Xl extends zt.PureComponent{constructor(...e){super(...e),Gl(this,"handlePathChange",(e=>{this.setState({path:e})})),this.state={}}listDir(e){const{files:t}=this.props;if(void 0===t)return;const r=new Ql,n=new Jl,i=new Hl;return(this.props.files||[]).filter((t=>!e||e&&t.path.startsWith(`${e}/`))).map((({path:t,isDir:r,ram:o,flash:s})=>{const a=t.substring(e?e.length+1:0),l=a.split("/");let c=l[0];return e||c.length||(c=`/${l[1]}`),i.remember(a),n.increment(c,{flash:s,ram:o}),{isDir:1!==l.length||r,flash:s,ram:o,relativePath:c}})).filter((({relativePath:e})=>r.filter(e))).map((e=>(n.assign(e,e.relativePath),e.relativePath=i.unfold(e.relativePath),e)))}getFileByPath(e){const{files:t}=this.props;if(void 0===e||!t)return;const r=t.filter((t=>t.path===e))[0];return r&&!r.isDir?r:void 0}render(){const{path:e}=this.state,t=this.getFileByPath(e),r=t?[]:this.listDir(e);return zt.createElement("div",null,!r&&zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})),r&&!t&&zt.createElement(Zl,{dir:e,items:r,onDirChange:this.handlePathChange,onFileClick:this.handlePathChange}),t&&zt.createElement(Kl,{file:t.path,symbols:t.symbols,openTextDocument:this.props.openTextDocument,onDirChange:this.handlePathChange}))}}Gl(Xl,"propTypes",{files:rs().arrayOf(rs().shape({flash:rs().number.isRequired,isDir:rs().bool.isRequired,path:rs().string.isRequired,ram:rs().number.isRequired})),openTextDocument:rs().func.isRequired});const ec={openTextDocument:Re},tc=(0,cs.$j)((function(e){return{files:Xr(e)}}),ec)(Xl);function rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(r),!0).forEach((function(t){ic(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ic(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class oc extends zt.PureComponent{constructor(...e){super(...e),ic(this,"renderAddress",(e=>zt.createElement("code",null,Rr(e,{width:this.addressWidth})))),this.state={search:""}}getTableColumns(e){return[{title:"Name",dataIndex:"name",defaultSortOrder:"ascend",sorter:(e,t)=>Nr(e.name,t.name),width:"100%"},{title:"Type",dataIndex:"type",filters:Fr(e,"type"),onFilter:(e,t)=>t.type===e,render:e=>zt.createElement(Us.Z,null,e),sorter:(e,t)=>Nr(e.type,t.type),align:"center"},{title:"Flags",dataIndex:"flags",filters:Fr(e,"flags"),onFilter:(e,t)=>t.flags===e,render:e=>0!==e.length&&zt.createElement(Us.Z,null,e),sorter:(e,t)=>Nr(e.flags,t.flags),align:"center"},{title:"Address",dataIndex:"startAddr",render:this.renderAddress,sorter:(e,t)=>xr(e.startAddr,t.startAddr),align:"center"},{title:"Size",dataIndex:"size",render:e=>zt.createElement("div",{className:"text-nowrap"},Sr(e)),sorter:(e,t)=>xr(e.size,t.size),align:"right"}]}getMaxStartAddressWidth(e){let t=e.length,r=0;for(;t--;){const{startAddr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}render(){const{sections:e}=this.props,t=e.map(((e,t)=>nc(nc({},e),{},{idx:t})));return this.addressWidth=this.getMaxStartAddressWidth(t),zt.createElement("div",null,zt.createElement(zs.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter.bind(this),pagination:{defaultPageSize:20,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}renderFooter(e){const t=e.reduce(((e,{size:t=0})=>e+t),0);return zt.createElement("div",{className:"text-right"},`Total Size on Page: ${Sr(t)}`)}}ic(oc,"propTypes",{sections:El});class sc extends zt.PureComponent{render(){const{sections:e}=this.props;return zt.createElement("div",null,!e&&zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})),e&&zt.createElement(oc,{sections:e}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sc,"propTypes",{sections:El});const ac=(0,cs.$j)((function(e){return{sections:nn(e)}}))(sc);r("mN36");var lc=r("N9UN");function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(r),!0).forEach((function(t){pc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dc extends zt.PureComponent{formatMemoryProgress(e,t){return zt.createElement("span",null,e.toFixed(0)+"%",zt.createElement("div",null,zt.createElement("small",null,Sr(t))))}getDefectsTooltip(){return[`${this.props.code.defectsCountBySeverity.high} High`,`${this.props.code.defectsCountBySeverity.medium} Medium`,`${this.props.code.defectsCountBySeverity.low} Low`].join(" / ")}getDefectsCls(){const{high:e,medium:t}=this.props.code.defectsCountBySeverity;return e?"progress-error-stroke":t?"progress-warning-stroke":void 0}getGaugeCls(e){return e>=90?"progress-error-stroke":e>=75?"progress-warning-stroke":void 0}handleMemoryClick(){this.props.onMemoryClick()}handleCodeClick(){this.props.onCodeClick()}handleSymbolsClick(){this.props.onSymbolsClick()}renderLoader(){return zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}renderDashboards(){let e,t;return this.props.memory&&this.props.device&&(e=this.props.memory.ram/this.props.device.ram*100,t=this.props.memory.flash/this.props.device.flash*100),zt.createElement(Rs.default,{gutter:16,className:"block text-center inspect-dashboard"},void 0!==e&&zt.createElement(xs.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(e)},zt.createElement(Jo.default,{title:`${Sr(this.props.memory.ram)} of ${Sr(this.props.device.ram)}`},zt.createElement(wl.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.ram),onClick:this.handleMemoryClick.bind(this),percent:e,width:120})),zt.createElement("h4",null,"RAM")),void 0!==t&&zt.createElement(xs.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(t)},zt.createElement(Jo.default,{title:`${Sr(this.props.memory.flash)} of ${Sr(this.props.device.flash)}`},zt.createElement(wl.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.flash),onClick:this.handleMemoryClick.bind(this),percent:t,width:120})),zt.createElement("h4",null,"Flash")),this.props.code&&zt.createElement(xs.default,{xs:12,sm:8,lg:4,className:this.getDefectsCls()},zt.createElement(Jo.default,{title:this.getDefectsTooltip()},zt.createElement(wl.Z,{type:"dashboard",format:()=>this.props.code.defectsCountTotal,onClick:this.handleCodeClick.bind(this),percent:0===this.props.code.defectsCountTotal?0:100,successPercent:0,width:120})),zt.createElement("h4",null,"Defects")))}renderTopFiles(){return zt.createElement(lc.Z,{title:"Top 5 Files",className:"inspect-stats-block"},this.props.memory.topFiles.map((({flash:e,path:t})=>zt.createElement(Rs.default,{gutter:10,key:t,onClick:this.handleMemoryClick.bind(this)},zt.createElement(xs.default,{xs:6,lg:4,className:"text-right text-nowrap"},zt.createElement("b",null,Sr(e))),zt.createElement(xs.default,{xs:18,lg:20,className:"text-truncate"},zt.createElement(Jo.default,{title:t,overlayStyle:{maxWidth:400}},Lr(t,35)))))))}renderTopSymbols(){return zt.createElement(lc.Z,{title:"Top 5 Symbols",className:"inspect-stats-block"},this.props.memory.topSymbols.map((e=>zt.createElement(Rs.default,{gutter:10,key:e.displayName,onClick:this.handleSymbolsClick.bind(this)},zt.createElement(xs.default,{xs:6,lg:4,className:"text-right text-nowrap"},zt.createElement("b",null,Sr(e.size))),zt.createElement(xs.default,{xs:18,lg:20,className:"text-truncate"},zt.createElement(Jo.default,{title:`${e.type} -> ${e.file?`${e.file}:${e.line}`:"unknown"}`,overlayStyle:{maxWidth:400}},zt.createElement(es.default,{title:hr[e.type],type:fr[e.type]})," ",e.displayName+e.displayName))))))}renderDefectsStats(){if(!this.props.code.stats.length)return;const e=[{title:"Component",dataIndex:"component",render:e=>zt.createElement(Jo.default,{title:e},zt.createElement("b",null,Lr(e||"",40)))},{align:"center",title:"High",dataIndex:"high"},{align:"center",title:"Medium",dataIndex:"medium"},{align:"center",title:"Low",dataIndex:"low"}],t=[...this.props.code.stats,{component:" "},uc({component:"Total"},this.props.code.defectsCountBySeverity)];return zt.createElement(lc.Z,{title:"Defects Summary",className:"block defects-stats-block"},zt.createElement(zs.Z,{className:"inspect-stats-table",columns:e,dataSource:t,onRow:({component:e})=>({className:" "===e?"empty-row":"",onClick:this.handleCodeClick.bind(this)}),rowKey:"component",pagination:!1,size:"small"}))}renderTopDefects(){if(!this.props.code.topDefects.length)return;const e=[{title:"Level",dataIndex:"level",render:Rl.renderSeverityLevel},{title:"Message",dataIndex:"message",render:(e,{file:t,line:r,column:n})=>zt.createElement(Jo.default,{title:`${Lr(t||"",40)}:${r}:${n}`},e),width:"100%"}];return zt.createElement(lc.Z,{title:"Top Defects",className:"block defects-stats-block"},zt.createElement(zs.Z,{className:"inspect-stats-table",columns:e,dataSource:this.props.code.topDefects.map(((e,t)=>uc(uc({},e),{},{idx:t}))),onRow:()=>({onClick:this.handleCodeClick.bind(this)}),rowKey:"idx",pagination:!1,size:"small"}))}render(){return this.props.memory||this.props.code?zt.createElement("div",{className:"inspect-stats-page"},this.renderDashboards(),this.props.memory&&zt.createElement(Rs.default,{gutter:12},zt.createElement(xs.default,{md:12},this.renderTopFiles()),zt.createElement(xs.default,{md:12},this.renderTopSymbols())),this.props.code&&zt.createElement(Rs.default,{gutter:12},zt.createElement(xs.default,{md:12},this.renderDefectsStats()),zt.createElement(xs.default,{md:12},this.renderTopDefects()))):this.renderLoader()}}pc(dc,"propTypes",{memory:rs().shape({filesCount:rs().number.isRequired,symbolsCount:rs().number.isRequired,sectionsCount:rs().number.isRequired,ram:rs().number.isRequired,flash:rs().number.isRequired,topFiles:rs().arrayOf(rs().shape({path:rs().string.isRequired,flash:rs().number.isRequired})).isRequired,topSymbols:rs().arrayOf(rs().shape({displayName:rs().string.isRequired,type:rs().string.isRequired,size:rs().number.isRequired})).isRequired}),code:rs().shape({defectsCountTotal:rs().number,defectsCountBySeverity:rs().shape({low:rs().number,medium:rs().number,high:rs().number}),stats:rs().arrayOf(rs().shape({component:rs().string.isRequired,high:rs().number.isRequired,medium:rs().number.isRequired,low:rs().number.isRequired})),topDefects:rs().arrayOf(yl)}),device:vl,onMemoryClick:rs().func.isRequired,onCodeClick:rs().func.isRequired,onSymbolsClick:rs().func.isRequired});const mc=(0,cs.$j)((function(e,{history:t}){return{code:rn(e),device:on(e),memory:tn(e),onMemoryClick:()=>st(t,"/inspect/result/files"),onCodeClick:()=>st(t,"/inspect/result/defects"),onSymbolsClick:()=>st(t,"/inspect/result/symbols")}}))(dc);class fc extends zt.PureComponent{render(){return zt.createElement("div",null,!this.props.symbols&&zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})),this.props.symbols&&zt.createElement(Kl,{symbols:this.props.symbols,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(fc,"propTypes",{symbols:rs().arrayOf(bl),openTextDocument:rs().func.isRequired});const hc={openTextDocument:Re},gc={common:[{path:"/inspect/result",icon:"line-chart",label:"Statistics",component:mc}],memory:[{path:"/inspect/result/files",icon:"cluster",label:"Explorer",component:tc},{path:"/inspect/result/symbols",icon:"tags",label:"Symbols",component:(0,cs.$j)((function(e){return{symbols:en(e)}}),hc)(fc)},{path:"/inspect/result/sections",icon:"database",label:"Sections",component:ac}],code:[{path:"/inspect/result/defects",icon:"bug",label:"Defects",component:Nl}]};function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(r),!0).forEach((function(t){Ec(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ec(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vc extends zt.Component{constructor(...e){super(...e),Ec(this,"handleRevealClick",(()=>{this.props.osRevealFile(this.props.configuration.projectDir)})),Ec(this,"handleRefreshClick",(()=>{this.setState({loading:!0}),this.props.reinspectProject((()=>{this._isMounted&&this.setState({loading:!1})}))})),this.state={}}componentDidMount(){this._isMounted=!0}componentDidUpdate(){this.props.project||this.props.showConfiguration()}componentWillUnmount(){this._isMounted=!1}renderDeviceInfo(){return zt.createElement("small",null,this.props.device.mcu.toUpperCase()," ",[zr(this.props.device.frequency),`${Sr(this.props.device.ram)} RAM`,`${Sr(this.props.device.flash)} Flash`].join(", ")," ")}render(){if(!this.props.project)return null;const e=[...gc.common];return this.props.configuration.memory&&e.push(...gc.memory),this.props.configuration.code&&e.push(...gc.code),zt.createElement("div",null,zt.createElement("h1",{style:{marginTop:10,marginBottom:0}},zt.createElement(Jo.default,{title:this.props.project.path},this.props.project.name),zt.createElement("small",null," ",zt.createElement("b",null,"env:",this.props.configuration.env)),zt.createElement("div",{className:"pull-right"},zt.createElement(gt.default.Group,null,zt.createElement(gt.default,{icon:"folder-open",onClick:this.handleRevealClick},"Reveal"),zt.createElement(gt.default,{icon:"reload",loading:this.state.loading,onClick:this.handleRefreshClick},"Refresh")))),this.props.device&&this.renderDeviceInfo(),zt.createElement(vs,{routes:e}))}}Ec(vc,"propTypes",{configuration:gl,device:vl,project:rs().shape({name:rs().string.isRequired,path:rs().string.isRequired}),osRevealFile:rs().func.isRequired,reinspectProject:rs().func.isRequired,showConfiguration:rs().func.isRequired});const wc=[{path:"/inspect",component:hl},{path:"/inspect/result",component:(0,cs.$j)((function(e){const t=Yr(e);return{project:Rn(e,t.projectDir),configuration:t,device:on(e)}}),(function(e,t){return bc(bc({},(0,l.DE)({osRevealFile:ye,reinspectProject:wr},e)),{},{showConfiguration:()=>st(t.history,"/inspect")})}))(vc)},{path:"/inspect/processing",component:Cl}];class jc extends zt.Component{componentWillUnmount(){this.props.deleteEntity(new RegExp(`^${mr}:`))}render(){return zt.createElement("section",{className:"page-container inspect-module"},zt.createElement(vs,{routes:wc,disableMenu:!0}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(jc,"propTypes",{deleteEntity:rs().func.isRequired});const Oc={deleteEntity:N},Pc=(0,cs.$j)(void 0,Oc)(jc);r("Z8Mf");var Cc=r("j7zX");class kc extends zt.Component{render(){return this.props.data?zt.createElement("div",null,zt.createElement("h1",null,this.props.data.title),zt.createElement("div",{className:"lead"},this.props.data.description),zt.createElement(Rs.default,null,zt.createElement(xs.default,{sm:20,className:"tabs-block"},zt.createElement(Cc.default,{type:"card"},zt.createElement(Cc.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(es.default,{type:"calculator"}),"Boards"),key:"boards"},zt.createElement(ba,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Frameworks"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})))),zt.createElement(xs.default,{sm:4},zt.createElement("h2",null,"Platforms"),zt.createElement("ul",{className:"resources-list"},this.props.data.platforms.map((e=>zt.createElement("li",{key:e.name},zt.createElement(gt.default,{icon:"appstore",size:"small",onClick:()=>this.props.showPlatform(e.name)},e.title))))),zt.createElement("h2",null,"Resources"),zt.createElement("ul",{className:"resources-list"},zt.createElement("li",null,zt.createElement("kbd",null,"framework = ",this.props.data.name)),zt.createElement("li",null,zt.createElement(es.default,{type:"home"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),zt.createElement("li",null,zt.createElement(es.default,{type:"info-circle-o"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/frameworks/${this.props.data.name}.html`)},"Documentation")),zt.createElement("li",null,zt.createElement(es.default,{type:"link"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")))))):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}}function Sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(kc,"propTypes",{data:rs().shape({name:rs().string.isRequired,title:rs().string.isRequired,description:rs().string.isRequired,homepage:rs().string.isRequired,url:rs().string,platforms:rs().arrayOf(rs().object),boards:rs().arrayOf(rs().object)}),showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class Tc extends zt.Component{constructor(){super(...arguments),this.props.loadFrameworkData(this.props.name)}render(){return zt.createElement("div",{className:"page-container pf-detail"},zt.createElement(kc,this.props))}}Rc(Tc,"propTypes",{name:rs().string.isRequired,data:rs().object,loadFrameworkData:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const xc=(0,cs.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:gi(e,r),showPlatform:e=>st(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),Dc(Dc({},s),{},{osOpenUrl:ge}))(Tc);class Nc extends zt.Component{componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidFilter(e){this.props.setFilter(e)}onDidShow(e,t){e.stopPropagation(),this.props.showFramework(t)}onDidPlatform(e,t){e.stopPropagation(),this.props.showPlatform(t)}render(){return this.props.items?zt.createElement("div",null,zt.createElement(js.default.Search,{allowClear:!0,className:"block",placeholder:"Filter frameworks by name",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>this._searchInputElement=e}),this.props.items&&0===this.props.items.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),this.props.items.map((e=>this.renderItem(e)))):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}renderItem(e){const t=zt.createElement("a",{onClick:t=>this.onDidShow(t,e.name)},e.title);return zt.createElement(lc.Z,{hoverable:!0,key:e.name,title:t,onClick:t=>this.onDidShow(t,e.name),className:"list-item-card"},zt.createElement("div",{className:"block"},e.description),zt.createElement("div",{className:"inline-buttons"},(e.platforms||[]).map((e=>zt.createElement(gt.default,{key:e.title,icon:"appstore",size:"small",onClick:t=>this.onDidPlatform(t,e.name)},e.title)))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Nc,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired});class Ic extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryFrameworks()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(Nc,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ic,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,loadRegistryFrameworks:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired});const qc=(0,cs.$j)((function(e,t){return{items:Ei(e),filterValue:Xn(e),showPlatform:e=>st(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,l.DE)(Object.assign({},s,{setFilter:t=>e(q(Wn,t))}),e)}))(Ic);r("eOfH");var _c=r("h0/l");class Fc extends zt.Component{constructor(){super(...arguments),this.state={actionInProgress:!1,componentMounted:!1}}componentDidMount(){this.setState({componentMounted:!0})}componentWillUnmount(){this.setState({componentMounted:!1})}onDidReveal(e){e.stopPropagation(),this.props.item.__pkg_dir&&this.props.osRevealFile(this.props.item.__pkg_dir)}onDidShow(e){e.stopPropagation(),this.props.showPlatform(this.props.item.version?`${this.props.item.name}@${this.props.item.version}`:this.props.item.name)}onDidInstall(e){e.stopPropagation();const t=e.target;t.classList.add("btn-inprogress","disabled"),this.props.installPlatform(this.props.item.name,(()=>t.classList.remove("btn-inprogress","disabled")))}onDidUninstallOrUpdate(e,t){e.stopPropagation(),this.setState({actionInProgress:!0}),("uninstall"===t?this.props.uninstallPlatform:this.props.updatePlatform)(this.props.item.__pkg_dir,(()=>this.state.componentMounted?this.setState({actionInProgress:!1}):{}))}onDidFramework(e,t){e.stopPropagation(),this.props.showFramework(t)}render(){const e=zt.createElement("a",{onClick:this.onDidShow.bind(this)},this.props.item.title);let t;return this.props.item.version&&(t=zt.createElement("span",null,zt.createElement(Jo.default,{title:"Version"}," ",zt.createElement(es.default,{type:this.props.item.__src_url?"fork":"environment-o"})," ",this.props.item.version," "))),zt.createElement(lc.Z,{hoverable:!0,title:e,extra:t,onClick:this.onDidShow.bind(this),className:"list-item-card"},zt.createElement("div",{className:"block"},this.props.item.description),zt.createElement(Rs.default,null,zt.createElement(xs.default,{sm:16},zt.createElement("div",{className:"inline-buttons"},(this.props.item.frameworks||[]).map((e=>zt.createElement(gt.default,{key:e.title,icon:"setting",size:"small",onClick:t=>this.onDidFramework(t,e.name)},e.title))))),zt.createElement(xs.default,{sm:8,className:"text-right text-nowrap"},zt.createElement(gt.default.Group,null,this.props.actions&&this.props.actions.includes("uninstall")&&zt.createElement(_c.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onCancel:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onConfirm:e=>this.onDidUninstallOrUpdate(e,"uninstall")},zt.createElement(gt.default,{type:"primary",icon:"delete",loading:this.state.actionInProgress,disabled:this.state.actionInProgress},"Uninstall")),this.props.actions&&this.props.actions.includes("update")&&zt.createElement(gt.default,{type:"primary",icon:"cloud-download-o",loading:this.state.actionInProgress,disabled:this.state.actionInProgress,onClick:e=>this.onDidUninstallOrUpdate(e,"update")},this.props.item.versionLatest?`Update to ${this.props.item.versionLatest}`:"Update")))))}}function Lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(r),!0).forEach((function(t){zc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fc,"propTypes",{item:rs().shape({name:rs().string.isRequired,title:rs().string.isRequired,description:rs().string.isRequired,version:rs().string,versionLatest:rs().object,frameworks:rs().array,__src_url:rs().string,__pkg_dir:rs().string}),actions:rs().arrayOf(rs().string),showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,installPlatform:rs().func.isRequired,uninstallPlatform:rs().func.isRequired,updatePlatform:rs().func.isRequired,osRevealFile:rs().func.isRequired});class Uc extends zt.Component{constructor(){super(...arguments),this.state={value:null,installing:!1}}componentDidUpdate(){setTimeout((()=>this.focus()),200)}focus(){this._inputElement&&this._inputElement.focus()}onDidValue(e){this.setState({value:e})}onDidInstall(){this.state.value?(this.setState({installing:!0}),this.props.installPlatform(this.state.value,(e=>{this.setState({installing:!1}),e||(this.props.loadInstalledPlatforms(),this.onDidCancel())}))):this.focus()}onDidCancel(){this.setState({value:null,installing:!1}),this.props.onCancel()}render(){return zt.createElement(ht.Z,{visible:this.props.visible,confirmLoading:this.state.installing,title:"Advanced platform installation",okText:"Install",onOk:this.onDidInstall.bind(this),onCancel:this.onDidCancel.bind(this)},zt.createElement(js.default,{className:"block",placeholder:"Platform name, repository, requirements...",size:"large",value:this.state.value,onChange:e=>this.onDidValue(e.target.value),onPressEnter:this.onDidInstall.bind(this),ref:e=>this._inputElement=e}),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"<name>")," - Foo"),zt.createElement("li",null,zt.createElement("code",null,"<name>@<version>")," - Foo@1.2.3 or Foo@~1.2.3"),zt.createElement("li",null,zt.createElement("code",null,"<name>@<version range>")," - Foo@!=1.2.0"),zt.createElement("li",null,zt.createElement("code",null,"<zip or tarball url>")),zt.createElement("li",null,zt.createElement("code",null,"file://<zip or tarball file>")),zt.createElement("li",null,zt.createElement("code",null,"file://<folder>")),zt.createElement("li",null,zt.createElement("code",null,"<repository>")),zt.createElement("li",null,zt.createElement("code",null,"<name>=<repository>")," (name it should have locally)"),zt.createElement("li",null,zt.createElement("code",null,"<repository#tag>"),' ("tag" can be commit, branch or tag)'),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/userguide/platforms/cmd_install.html")},"more (docs)..."))),zt.createElement("div",{className:"block"},"Project can depend on a specific version of development platform, please use"," ",zt.createElement("code",null,"platform = name@x.y.z")," option in ",zt.createElement("b",null,"innaterapluginio.ini")," in this case."," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_general.html#platform")},"More details...")))}}zc(Uc,"propTypes",{visible:rs().bool.isRequired,onCancel:rs().func.isRequired,installPlatform:rs().func.isRequired,loadInstalledPlatforms:rs().func.isRequired,osOpenUrl:rs().func.isRequired});const Vc=(0,cs.$j)(null,Ac(Ac({},s),{},{osOpenUrl:ge}))(Uc);function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}class $c extends zt.Component{constructor(){super(...arguments),this.state={advancedVisible:!1}}onDidFilter(e){this.props.setFilter(e)}onDidAdvanced(){this.setState({advancedVisible:!0})}onDidCancelAdvanced(){this.setState({advancedVisible:!1})}render(){return this.props.items?zt.createElement("div",null,!ss("singleDevPlatform")&&this.renderAdvanced(),this.props.items&&0===this.props.items.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),this.props.items.filter((e=>ss("filterPlatformCard",(()=>!0))(e))).map((e=>zt.createElement(Fc,Zc({key:e.__pkg_dir||e.name,item:e},this.props))))):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}renderAdvanced(){return zt.createElement("div",null,zt.createElement(Vc,{visible:this.state.advancedVisible,onCancel:this.onDidCancelAdvanced.bind(this)}),zt.createElement(js.default.Search,{allowClear:!0,className:"block",placeholder:"Filter platforms by name...",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>e?e.focus():null}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}($c,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,actions:rs().arrayOf(rs().string),showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,installPlatform:rs().func.isRequired,uninstallPlatform:rs().func.isRequired,updatePlatform:rs().func.isRequired,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired});class Bc extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(sa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"Native development platform depends on a system ",zt.createElement("kbd",null,"gcc"),". Please install it before and check ",zt.createElement("kbd",null,"gcc --version")," command.")}),zt.createElement($c,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Bc,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,loadRegistryPlatforms:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired});const Mc=(0,cs.$j)((function(e,t){return{items:fi(e),filterValue:ti(e),showPlatform:e=>st(t.history,"/platforms/desktop/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,l.DE)(Object.assign({},s,{osOpenUrl:ge,osRevealFile:ye,setFilter:t=>e(q(Gn,t))}),e)}))(Bc);class Yc extends zt.Component{getTableColumns(e){let t=[{title:"Name",key:"name",render:(e,t)=>zt.createElement("span",null,t.url?zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.url)},t.name):t.name)}];return e?(t=t.concat([{title:"Type",dataIndex:"type"},{title:"Optional",key:"optional",render:(e,t)=>zt.createElement(es.default,{type:t.optional?"check":""})},{title:"Requirements",dataIndex:"requirements"},{title:"Installed",key:"installed",render:(e,t)=>zt.createElement("span",null,t.version," ",t.originalVersion&&zt.createElement("span",null," (",t.originalVersion,")"))}]),t):(t=t.concat([{title:"Description",dataIndex:"description"}]),t)}render(){if(!this.props.items||0===this.props.items.length)return null;const e=!!this.props.items[0].requirements;return zt.createElement("div",null,zt.createElement(sa.Z,{className:"block",showIcon:!0,message:this.renderNotifications(e)}),this.renderTable(e))}renderNotifications(e){return zt.createElement("div",null,e?zt.createElement("div",null,"Optional packages will be installed automatically depending on a build environment."):zt.createElement("div",null,"More detailed information about package requirements and installed versions is available for the"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),"."))}renderTable(e){let t=this.props.items;return t=t.sort(((e,t)=>lt(e.name.toUpperCase(),t.name.toUpperCase()))),e?zt.createElement(zs.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e),expandedRowRender:this.renderExpandedRow.bind(this)}):zt.createElement(zs.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e)})}renderExpandedRow(e){return zt.createElement("div",null,e.description)}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Yc,"propTypes",{items:rs().arrayOf(rs().shape({name:rs().string.isRequired,description:rs().string,type:rs().string,requirements:rs().string,version:rs().string,originalVersion:rs().string,url:rs().string,optional:rs().bool})),osOpenUrl:rs().func.isRequired,showInstalledPlatforms:rs().func.isRequired});var Wc=r("3T4h");Wc.Z.registerLanguage("plaintext",r("nUx5")),Wc.Z.registerLanguage("cpp",r("mZwv")),Wc.Z.registerLanguage("json",r("4bZF")),Wc.Z.registerLanguage("ini",r("QgqY"));class Kc extends zt.Component{constructor(){super(...arguments),this._codeElement=null,this._codeTogglePlaceholder=null,!this.props.content&&this.props.uri&&this.props.requestContent({uri:this.props.uri,cacheValid:"7d"})}componentDidMount(){this.highlightCode()}componentDidUpdate(){this.highlightCode()}highlightCode(){this._codeElement&&Wc.Z.highlightElement(this._codeElement)}onDidToggle(e){e.target.classList.toggle("anticon-up-circle-o"),e.target.classList.toggle("anticon-down-circle-o"),this._codeTogglePlaceholder.classList.toggle("hide")}renderToggler(){return zt.createElement(es.default,{type:"up-circle-o",className:"source-code-toggler",title:"Show/Hide source code",onClick:e=>this.onDidToggle(e)})}renderFileContent(){return this.props.content?zt.createElement("pre",null,zt.createElement("code",{ref:e=>this._codeElement=e,className:this.props.language||"c"},this.props.content)):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading..."}))}render(){return this.props.toggle?zt.createElement("div",{className:this.props.className},zt.createElement("h3",null,zt.createElement(es.default,{type:"file"})," ",this.props.title||cr(this.props.uri)," ",this.renderToggler()),zt.createElement("div",{ref:e=>this._codeTogglePlaceholder=e},this.renderFileContent())):zt.createElement("div",{className:this.props.className},this.renderFileContent())}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Kc,"propTypes",{title:rs().string,uri:rs().string,content:rs().string,language:rs().string,className:rs().string,toggle:rs().bool,requestContent:rs().func.isRequired});const Gc=(0,cs.$j)((function(e,t){return!t.uri||t.content?{}:{content:Dt(e,t.uri)}}),{requestContent:Ce})(Kc);class Hc{constructor(e,t=void 0){this.name=e,this.projectPath=t,this._sources=[]}addSource(e,t=void 0){t||(t=cr(e)),this._sources.push({uri:e,title:t})}getSources(){return this._sources.sort(((e,t)=>lt(e.title.toUpperCase(),t.title.toUpperCase())))}}class Jc extends zt.Component{constructor(){super(...arguments),this.state={selectedItem:null,importInProgress:!1},this.props.items.length&&(this.state.selectedItem=this.props.items[0])}onDidChange(e){this.setState({selectedItem:this.props.items.find((t=>t.name===e))})}onDidFilter(e,t){return!e||t.props.value.toLowerCase().includes(e)}onDidImport(){this.setState({importInProgress:!0}),this.props.importProject(this.state.selectedItem.projectPath,((e,t)=>{this.setState({importInProgress:!1}),e||this.props.addProject(t)}))}render(){return this.props.items.length?zt.createElement("div",null,this.renderExamplesBar(),this.renderProjectSources()):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No items"))}renderExamplesBar(){return this.state.selectedItem&&this.state.selectedItem.projectPath?zt.createElement(Rs.default,{gutter:8,className:"block"},zt.createElement(xs.default,{span:19},this.renderExamplesSelect()),zt.createElement(xs.default,{span:5},zt.createElement(gt.default,{ghost:!0,type:"primary",icon:"folder-add",style:{width:"100%"},loading:this.state.importInProgress,onClick:this.onDidImport.bind(this)},this.state.importInProgress?"Please wait...":"Import"))):zt.createElement("div",{className:"block"},this.renderExamplesSelect())}renderExamplesSelect(){return zt.createElement(Fa.default,{showSearch:!0,defaultValue:this.props.items[0].name,filterOption:this.onDidFilter.bind(this),onChange:this.onDidChange.bind(this),style:{width:"100%"}},this.props.items.map((e=>zt.createElement(Fa.default.Option,{key:e.name,value:e.name},e.name))))}renderProjectSources(){if(!this.state.selectedItem)return;const e=this.state.selectedItem.getSources();return zt.createElement("div",null,e.map(((t,r)=>zt.createElement(Gc,{key:t.uri,className:"block",title:(e.length>1?`${r+1}. `:"")+t.title,uri:t.uri,language:t.uri.endsWith(".ini")?"ini":"c",toggle:!0}))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jc,"propTypes",{items:rs().arrayOf(rs().instanceOf(Hc).isRequired),addProject:rs().func.isRequired,openProject:rs().func.isRequired,importProject:rs().func.isRequired});const Qc=(0,cs.$j)(null,a)(Jc);class Xc extends zt.Component{static getGlobPatterns(){const e=[];return["*",ar("*","*"),ar("*","*","*")].forEach((t=>{e.push(ar("examples",t,"innaterapluginio.ini")),e.push(ar("examples",t,"src","*.c")),e.push(ar("examples",t,"src","*.cpp")),e.push(ar("examples",t,"src","*.h")),e.push(ar("examples",t,"src","*.hpp")),e.push(ar("examples",t,"src","*.ino"))})),e}constructor(){super(...arguments),this.props.uris||this.props.osFsGlob(Xc.getGlobPatterns(),this.props.pkgDir)}getItems(){return this.props.uris.length?this.props.uris.filter((e=>e.endsWith("innaterapluginio.ini"))).sort().map((e=>{const t=lr(e),r=t.split(sr).filter((e=>e.length));let n=cr(t);const i=r.lastIndexOf("examples");-1!==i&&(n=r.slice(i+1).join("/"));const o=new Hc(n,t);return this.props.uris.forEach((e=>{e.startsWith(t)&&o.addSource(e,e.substr(t.length+1))})),o})):[]}render(){return this.props.uris?zt.createElement(Qc,{items:this.getItems()}):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Xc,"propTypes",{pkgDir:rs().string.isRequired,uris:rs().arrayOf(rs().string),osFsGlob:rs().func.isRequired});const eu=(0,cs.$j)((function(e,t){return{uris:xt(e,Xc.getGlobPatterns(),t.pkgDir)}}),{osFsGlob:Pe})(Xc);var tu=r("DlQD"),ru=r.n(tu);function nu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class iu extends zt.Component{static prepareAPI(e){if(!e)return null;const t=new(Vt())(e);if("github.com"!==t.hostname)return null;var[,r,n]=t.pathname.split("/",3);return n.endsWith(".git")&&(n=n.substr(0,n.length-4)),{provider:t.hostname,requestEndpoint:`https://api.github.com/repos/${r}/${n}/releases`}}constructor(){super(...arguments);const e=iu.prepareAPI(this.props.uri);e&&this.props.requestContent({uri:e.requestEndpoint,cacheValid:"1h"})}render(){const e=iu.prepareAPI(this.props.uri);return!this.props.uri||!e||this.props.items&&0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Information")):zt.createElement("div",null,this.props.items?zt.createElement(ou,{items:this.props.items}):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})))}}nu(iu,"propTypes",{uri:rs().string.isRequired,items:rs().arrayOf(rs().object),requestContent:rs().func.isRequired});class ou extends zt.Component{render(){const e=new(ru().Renderer);return e.link=function(e,t,r){return ru().Renderer.prototype.link.call(this,e,t,r).replace("<a",'<a target="_blank" ')},ru().setOptions({renderer:e}),zt.createElement("div",{className:"release-notes"},zt.createElement("h2",null,"Release Notes"),this.props.items.map((e=>zt.createElement("div",{key:e.id},zt.createElement("h3",null,zt.createElement(Jo.default,{title:e.tag_name},e.name||e.tag_name)," ",zt.createElement("small",null,"released"," ",zt.createElement(Jo.default,{title:e.created_at},Or().relativeTime(new Date(e.created_at).getTime()/1e3)))),zt.createElement("div",{dangerouslySetInnerHTML:{__html:ru()(e.body||"")}})))))}}nu(ou,"propTypes",{items:rs().array.isRequired});const su=(0,cs.$j)((function(e,t){const r=iu.prepareAPI(t.uri);if(!r)return{};const n=Dt(e,r.requestEndpoint);return{items:n?JSON.parse(n):null}}),{requestContent:Ce})(iu);class au extends zt.Component{constructor(){super(...arguments),this.state={installing:!1,uninstalling:!1,versionForInstall:null}}onDidReveal(e){this.props.osRevealFile(e)}onDidVersionChange(e){this.setState({versionForInstall:e})}onDidInstall(){this.setState({installing:!0}),this.props.installPlatform(this.state.versionForInstall?`${this.props.data.name}@${this.state.versionForInstall}`:this.props.data.name,(()=>this.setState({installing:!1})))}onDidUninstall(){this.setState({uninstalling:!0}),this.props.uninstallPlatform(this.props.data.__pkg_dir,(e=>{this.setState({uninstalling:!1}),e||this.props.showInstalledPlatforms()}))}renderQuickInstallation(e){return zt.createElement("div",null,zt.createElement("h3",null,"Installation"),zt.createElement("ul",{className:"block list-inline"},zt.createElement("li",null,zt.createElement(Fa.default,{defaultValue:e[0],dropdownMatchSelectWidth:!1,onChange:this.onDidVersionChange.bind(this)},e.map((e=>zt.createElement(Fa.default.Option,{key:e,value:e},e))))),zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",type:"primary",loading:this.state.installing,disabled:this.state.installing,onClick:this.onDidInstall.bind(this)},"Install"))))}renderExtra(){return this.props.data.__pkg_dir?zt.createElement("ul",{className:"list-inline",style:{marginTop:"9px"}},zt.createElement("li",null,zt.createElement(Jo.default,{title:"Version"},zt.createElement(es.default,{type:this.props.data.__src_url?"fork":"environment-o",className:"inline-block-tight"}),this.props.data.version)),zt.createElement("li",null,zt.createElement(gt.default.Group,null,zt.createElement(gt.default,{type:"primary",icon:"folder",onClick:()=>this.props.osRevealFile(this.props.data.__pkg_dir)},"Reveal"),zt.createElement(_c.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onConfirm:this.onDidUninstall.bind(this)},zt.createElement(gt.default,{type:"primary",icon:"delete",loading:this.state.uninstalling,disabled:this.state.uninstalling},"Uninstall"))))):null}render(){return zt.createElement("div",null,zt.createElement("h1",null,this.props.data.title," ",zt.createElement("small",{className:"pull-right"},this.renderExtra())),zt.createElement("div",{className:"lead"},this.props.data.description),this.props.data.versions&&this.renderQuickInstallation(this.props.data.versions.slice(0)),zt.createElement(Rs.default,null,zt.createElement(xs.default,{sm:20,className:"tabs-block"},zt.createElement(Cc.default,{type:"card"},zt.createElement(Cc.default.TabPane,{tab:zt.createElement("span",null,(e="calculator",os.remapCustomIcons&&os.remapCustomIcons[e]?zt.createElement(ns,{type:os.remapCustomIcons[e]}):zt.createElement(es.default,{type:e})),as("Boards")),key:"boards"},zt.createElement(ba,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Platform"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})),zt.createElement(Cc.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(es.default,{type:"copy"}),"Examples"),key:"examples"},this.props.data.__pkg_dir?zt.createElement(eu,{pkgDir:this.props.data.__pkg_dir}):zt.createElement(sa.Z,{type:"error",showIcon:!0,message:zt.createElement("span",null,"Examples avaiable only for"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),".")})),zt.createElement(Cc.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(es.default,{type:"appstore-o"}),"Packages"),key:"packages"},zt.createElement(Yc,{items:this.props.data.packages,osOpenUrl:this.props.osOpenUrl,showInstalledPlatforms:this.props.showInstalledPlatforms})),zt.createElement(Cc.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(es.default,{type:"clock-circle-o"}),"Changelog"),key:"changelog"},zt.createElement(su,{uri:this.props.data.repository})))),zt.createElement(xs.default,{sm:4},zt.createElement("h2",null,"Frameworks"),zt.createElement("ul",{className:"resources-list"},this.props.data.frameworks.map((e=>zt.createElement("li",{key:e.name},zt.createElement(gt.default,{icon:"setting",size:"small",onClick:()=>this.props.showFramework(e.name)},e.title))))),zt.createElement("h2",null,"Resources"),zt.createElement("ul",{className:"resources-list"},zt.createElement("li",null,zt.createElement("kbd",null,"platform = ",this.props.data.name)),zt.createElement("li",null,zt.createElement(es.default,{type:"home"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),this.props.data.repository&&zt.createElement("li",null,zt.createElement(es.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.repository)},"Repository")),zt.createElement("li",null,zt.createElement(es.default,{type:"info-circle-o"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.docs||`http://docs.platformio.org/page/platforms/${this.props.data.name}.html`)},"Documentation")),zt.createElement("li",null,zt.createElement(es.default,{type:"link"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")),this.props.data.license&&zt.createElement("li",null,zt.createElement(es.default,{type:"copyright",className:"inline-block-tight"}),zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://opensource.org/licenses/${this.props.data.license}`)},this.props.data.license)),this.props.data.__src_url&&zt.createElement("li",null,zt.createElement(es.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.__src_url)},"Source")),this.props.data.versions&&zt.createElement("li",null,zt.createElement("h2",null,"Versions"),zt.createElement("ul",null,this.props.data.versions.slice(0).map((e=>zt.createElement("li",{key:e},zt.createElement(es.default,{type:"environment-o",className:"inline-block-tight"}),e)))))))));var e}}function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(r),!0).forEach((function(t){uu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(au,"propTypes",{data:rs().shape({name:rs().string.isRequired,title:rs().string.isRequired,description:rs().string.isRequired,url:rs().string,docs:rs().string,homepage:rs().string.isRequired,repository:rs().string,license:rs().string,version:rs().string,versions:rs().arrayOf(rs().string),frameworks:rs().arrayOf(rs().object),packages:rs().arrayOf(rs().object),boards:rs().arrayOf(rs().object),__src_url:rs().string,__pkg_dir:rs().string}),osRevealFile:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,showInstalledPlatforms:rs().func.isRequired,installPlatform:rs().func.isRequired,uninstallPlatform:rs().func.isRequired,osOpenUrl:rs().func.isRequired});class pu extends zt.Component{constructor(){super(...arguments),this.props.loadPlatformData(this.props.name)}render(){return zt.createElement("div",{className:"page-container pf-detail"},this.props.data?zt.createElement(au,this.props):zt.createElement("div",{className:"text-center"},zt.createElement(As.default,{tip:"Loading...",size:"large"})))}}uu(pu,"propTypes",{name:rs().string.isRequired,data:rs().object,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired,loadPlatformData:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,installPlatform:rs().func.isRequired});const du=(0,cs.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:hi(e,r),showPlatform:e=>st(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e}),showInstalledPlatforms:()=>st(t.history,"/platforms/installed")}}),cu(cu({},s),{},{osOpenUrl:ge,osRevealFile:ye}))(pu);class mu extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement($c,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(mu,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,loadRegistryPlatforms:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,installPlatform:rs().func.isRequired,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired});const fu=(0,cs.$j)((function(e,t){return{items:mi(e),filterValue:ei(e),showPlatform:e=>st(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,l.DE)(Object.assign({},s,{osOpenUrl:ge,osRevealFile:ye,setFilter:t=>e(q(Kn,t))}),e)}))(mu);function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(null,arguments)}class gu extends zt.Component{constructor(){super(...arguments),this.props.loadInstalledPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(sa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"Project can depend on a specific version of development platform")}),zt.createElement($c,hu({},this.props,{actions:["reveal","uninstall"]})),this.props.items&&0===this.props.items.length&&zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(gt.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform")))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(gu,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,loadInstalledPlatforms:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,uninstallPlatform:rs().func.isRequired,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired,showEmbeddedPlatforms:rs().func.isRequired,showDesktopPlatforms:rs().func.isRequired});const yu=(0,cs.$j)((function(e,t){return{items:yi(e),filterValue:ri(e),showPlatform:e=>st(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e}),showEmbeddedPlatforms:()=>st(t.history,"/platforms/embedded"),showDesktopPlatforms:()=>st(t.history,"/platforms/desktop")}}),(function(e){return(0,l.DE)(Object.assign({},s,{osOpenUrl:ge,osRevealFile:ye,setFilter:t=>e(q(Hn,t))}),e)}))(gu);function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(null,arguments)}class Eu extends zt.Component{constructor(){super(...arguments),this.props.loadPlatformUpdates()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement($c,bu({},this.props,{actions:["reveal","update"]})))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Eu,"propTypes",{items:rs().arrayOf(rs().object.isRequired),filterValue:rs().string,setFilter:rs().func.isRequired,loadPlatformUpdates:rs().func.isRequired,showPlatform:rs().func.isRequired,showFramework:rs().func.isRequired,updatePlatform:rs().func.isRequired,osOpenUrl:rs().func.isRequired,osRevealFile:rs().func.isRequired});const vu=[{path:"/platforms",icon:"hdd",label:"Installed",component:yu},{path:"/platforms/installed",component:yu},{path:"/platforms/embedded",icon:"build",label:"Embedded",component:fu},{path:"/platforms/desktop",icon:"desktop",label:"Desktop",component:Mc},{path:"/platforms/frameworks",icon:"setting",label:"Frameworks",component:qc},{path:"/platforms/frameworks/show",component:xc},{path:"/platforms/updates",icon:"cloud-download-o",label:"Updates",component:(0,cs.$j)((function(e,t){return{items:bi(e),filterValue:ni(e),showPlatform:e=>st(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>st(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,l.DE)(Object.assign({},s,{osOpenUrl:ge,osRevealFile:ye,setFilter:t=>e(q(Jn,t))}),e)}))(Eu)},{path:"/platforms/embedded/show",component:du},{path:"/platforms/desktop/show",component:du},{path:"/platforms/installed/show",component:du}];class wu extends zt.Component{render(){return zt.createElement("section",{className:"platform-module"},zt.createElement(vs,{routes:vu}))}}r("G851");var ju=r("ZvzK");const Ou=rs().shape({name:rs().string.isRequired,path:rs().string.isRequired,modified:rs().number.isRequired,boards:rs().arrayOf(rs().shape({id:rs().string.isRequired,name:rs().string.isRequired}))}),Pu=rs().shape({name:rs().string.isRequired,icon:rs().string,text:rs().string.isRequired}),Cu=rs().arrayOf(rs().shape({default:rs().any,description:rs().string,group:rs().string,max:rs().number,min:rs().number,name:rs().string.isRequired,multiple:rs().bool,scope:rs().oneOf(yn).isRequired,sysenvvar:rs().string,type:rs().oneOf(fn)})),ku=rs().shape({name:rs().string.isRequired,value:rs().any});r("tnQy");var Su=r("9Hym");function Du(e){if(null!=e)return e.split(e.includes("\n")?/\n/:/, /).map((e=>e.replace(/^\s+|\s+$/g,""))).filter(((e,t)=>e.length||t))}function Ru(e,t){return(e.find((e=>e.name===t))||{}).value}const Tu=new class{constructor(){this.factories=[]}register(e,t){this.factories.find((t=>t.matcher===e))||this.factories.push({matcher:e,factoryCallback:t})}isCustomized(e){return-1!==this.factories.findIndex((t=>t.matcher(e)))}factory(e,t,r,n,i){const o=this.factories.find((t=>t.matcher(e)));return o?o.factoryCallback(e,t,r,n,i):this.defaultFactory(e,t,r,n,i)}defaultFactory(e,t,r,n){const i=e?e.type:ln,o=!e||e.multiple,s=e?e.description:void 0;let a;switch(i){case dn:a=zt.createElement(oa.default,{autoFocus:t.autoFocus},s),n.valuePropName="defaultChecked",n.trigger="onChange",r.help=void 0,void 0===n.initialValue&&(n.initialValue=t.defaultValue);break;case cn:a=zt.createElement(Fa.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,mode:o?"multiple":"default",tokenSeparators:[",","\n"]},e.choices.map((e=>zt.createElement(Fa.default.Option,{key:e,value:e},e))));break;default:a=o?zt.createElement(js.default.TextArea,{autoFocus:t.autoFocus,placeholder:t.defaultValue,autoSize:On,rows:1}):zt.createElement(js.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,readOnly:e&&e.readonly}),i||console.warn(`Unsupported item type: "${i}" for name: "${name}"`)}return a}};function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(null,arguments)}function Nu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Iu="autocomplete",qu="select",_u="tags";class Fu extends zt.PureComponent{constructor(...e){super(...e),Nu(this,"handleInputFocus",(()=>{this.props.onLoad&&this.load()})),Nu(this,"handleBlur",(e=>{this.props.onBlur&&this.props.onBlur(this.transformValueOut(e))})),Nu(this,"handleChange",(e=>{this.updateStateValues(e),this.props.onChange&&this.props.onChange(this.transformValueOut(e))})),Nu(this,"handleSearch",(e=>{this.props.mode===_u?(this.props.onSearch&&this.props.onSearch(e),this.debouncedOnLoad({query:e})):this.updateStateValues(e)})),Nu(this,"handleFilter",((e,t)=>this.props.remoteFilter||this.props.multiple||t.props.value.toLowerCase().includes(e.toLowerCase())||t.props.children.toLowerCase().includes(e.toLowerCase()))),Nu(this,"handleTagClose",(e=>{this.setState({values:this.state.values.filter((t=>t!==e))})})),Nu(this,"handleAddValueBtnClick",(()=>{this.setState({autocompleterVisible:!0},(()=>this.autocomplete.focus()))})),Nu(this,"handleAutocompleteRef",(e=>{this.autocomplete=e})),Nu(this,"handleKeyUp",(e=>{13===e.keyCode&&(this.state.autocompleterValue&&this.state.autocompleterValue.length&&this.handleChange([...this.state.values||[],this.state.autocompleterValue]),this.setState({autocompleterValue:"",autocompleterVisible:!1}))})),Nu(this,"handleAddValueChange",(e=>{this.setState({autocompleterValue:e})})),this.state={loading:!1,values:[],autocompleterValue:""},this.debouncedOnLoad=function(e,t){let r;const n=function(...i){n.cancel(),r=setTimeout((()=>e.apply(this,i)),t)};return n.cancel=()=>clearTimeout(r),n}(((...e)=>this.load(...e)),500)}componentDidMount(){this.updateStateValues(this.props.defaultValue)}componentWillUnmount(){this.debouncedOnLoad.cancel()}load(...e){this.setState({loading:!0}),this.props.onLoad(...e,(()=>{this.setState({loading:!1})}))}isForceSingle(){return this.props.forceSingle&&(!this.props.defaultValue||this.props.defaultValue.length<2)}getData(){const e=this.state.values;return this.props.items&&this.props.items.filter((t=>!this.props.multiple||!e.includes(t.value))).map((t=>{let r=t.name,n=t.value;const i=void 0!==t.key?t.key:t.value;return this.props.multiple&&e.length&&this.props.mode===Iu&&!this.isForceSingle()&&(r=n,n=[...e,n].join("\n")),{name:r,value:n,key:i}}))||[]}transformValueIn(e){return this.isForceSingle()&&this.props.multiple&&e&&e.length&&(e=[e[0]]),this.props.mode===Iu&&this.props.multiple?e&&e.length?e.join("\n"):[]:e}transformValueOut(e){return this.props.mode===Iu&&this.props.multiple?e&&e.length?Du(e):[]:e}updateStateValues(e){this.setState({values:"string"==typeof e?e.split("\n"):Array.isArray(e)?e:[]})}render(){const e=this.getData();if(this.props.mode===_u)return zt.createElement("div",{className:"option-autocomplete mode-tags"},zt.createElement("div",{className:"block"},(this.state.values||[]).map((e=>zt.createElement(Us.Z,{closable:!0,key:e,onClose:()=>this.handleTagClose(e)},e)))),!this.state.autocompleterVisible&&zt.createElement(gt.default,{autoFocus:this.props.autoFocus,onClick:this.handleAddValueBtnClick},this.props.addIcon&&zt.createElement(es.default,{type:this.props.addIcon})," ",this.props.addText),this.state.autocompleterVisible&&zt.createElement(Su.Z,xu({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>zt.createElement(Su.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,onChange:this.handleAddValueChange,onSearch:this.handleSearch,optionLabelProp:"value",ref:this.handleAutocompleteRef,value:this.state.autocompleterValue}),zt.createElement(js.default,{allowClear:!0,suffix:zt.createElement(zt.Fragment,null,zt.createElement(es.default,{type:"search"}),this.state.loading&&zt.createElement(As.default,{size:"small"})),onKeyUp:this.handleKeyUp})));const t={autoFocus:this.props.autoFocus,defaultValue:this.transformValueIn(this.props.defaultValue),loading:this.state.loading,onBlur:this.handleBlur,onFocus:this.handleInputFocus,onChange:this.handleChange,onSearch:this.handleSearch};return this.props.mode===Iu?zt.createElement(Su.Z,xu({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>zt.createElement(Su.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,optionLabelProp:"value"},t),this.props.multiple&&!this.isForceSingle()?zt.createElement(js.default.TextArea,{allowClear:!0,autoSize:On}):zt.createElement(js.default,{allowClear:!0,suffix:zt.createElement(es.default,{type:"search"})})):this.props.mode===qu?zt.createElement(Fa.default,xu({},this.props.inputProps,{allowClear:!0,mode:this.props.multiple?"multiple":"default"},t),e.map((({key:e,name:t,value:r})=>zt.createElement(Fa.default.Option,{key:e,value:r,title:r},t)))):void 0}}Nu(Fu,"defaultProps",{addIcon:"plus",addText:"Add",mode:Iu}),Nu(Fu,"propTypes",{addIcon:rs().string,addPlaceholder:rs().string,addText:rs().string,autoFocus:rs().bool,defaultValue:rs().any,forceSingle:rs().bool,inputProps:rs().object,items:rs().arrayOf(rs().shape({name:rs().string.isRequired,value:rs().string.isRequired})),mode:rs().oneOf([Iu,qu,_u]),multiple:rs().bool,remoteFilter:rs().bool,onBlur:rs().func,onChange:rs().func,onLoad:rs().func,onSearch:rs().func}),Tu.register((e=>e&&"default_envs"===e.name),((e,t,r,n,i)=>zt.createElement(Fu,{inputProps:t,mode:qu,multiple:!e||e.multiple,items:i.envs.map((e=>({name:e,value:e})))})));const Lu={onLoad:()=>zi(!0)},Au=(0,cs.$j)((function(e,t){const r=ii(e);let n;if(r){const e=t.configSectionData||[],i=Ru(e,"platform"),o=Ru(e,"framework")||[];n=r.filter((e=>(!i||!e.platform||e.platform===i)&&(!o.length||o.some((t=>e.frameworks.includes(t)))))).map((e=>({name:`${e.name} (${e.id})`,value:e.id})))}return{items:n}}),Lu)(Fu);function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(null,arguments)}Au.displayName="BoardAutocomplete",Tu.register((e=>e&&e.name.endsWith("board")),((e,t)=>zt.createElement(Au,t)));const Uu={onLoad:()=>Vi(!0)},Vu=(0,cs.$j)((function(e,t){const r=ai(e);let n;if(r){const e=Ru(t.configSectionData||[],"platform");e&&!e.toLowerCase().includes("github")&&(n=r.filter((t=>!t.platforms||!t.platforms.length||t.platforms.includes(e))),n=n.map((e=>({name:`${e.title} (${e.name})`,value:e.name}))))}return{items:n}}),Uu)(Fu);function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function $u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bu(e,t){return[e,...(Ru(t.configSectionData||[],"framework")||[]).map((e=>`framework:"${e.replace(/"/g,"&quot;")}"`))].join(" ")}Vu.displayName="FrameworkAutocomplete",Tu.register((e=>e&&e.name.endsWith("framework")),((e,t)=>zt.createElement(Vu,zu({},t,{forceSingle:!0,multiple:e&&e.multiple}))));const Mu=(0,cs.$j)((function(e,t){let r;const n=ji(e,Bu(t.query,t));return n&&(r=n.items.map((e=>({data:e,key:e.id,name:`${e.ownername}/${e.name}`,value:`${e.ownername}/${e.name} @ ^${e.versionname}`})))),{items:r}}),(function(e,t){return{onLoad:(r,n)=>{e(((e,t=1,r)=>d(Fn,{query:e,page:t,onEnd:r}))(Bu(r.query,t),1,n))}}}))(Fu);Mu.displayName="LibDepsAutocompleteInner";class Yu extends zt.Component{constructor(...e){super(...e),$u(this,"handleSearch",(e=>{this.setState({query:e})})),this.state={}}render(){return zt.createElement(Mu,Zu({},this.props,{query:this.state.query,onSearch:this.handleSearch}))}}Tu.register((e=>e&&"lib_deps"===e.name),((e,t,r,n)=>(n.trigger="onChange",zt.createElement(Yu,Zu({},t,{mode:_u,remoteFilter:!0,addText:"Add Library",addPlaceholder:"Search library"})))));const Wu={onLoad:()=>Ui(!0)},Ku=(0,cs.$j)((function(e){const t=si(e);let r;return t&&(r=t.map((e=>({name:`${e.title} (${e.name})`,value:e.name})))),{items:r}}),Wu)(Fu);Ku.displayName="PlatformAutocomplete",Tu.register((e=>e&&e.name.endsWith("platform")),((e,t)=>zt.createElement(Ku,t)));const Gu={onLoad:()=>Jt(!0)},Hu=(0,cs.$j)((function(e){return{items:er(e)}}),Gu)(Fu);Hu.displayName="PortAutocomplete",Tu.register((e=>e&&e.name.endsWith("_port")),((e,t)=>zt.createElement(Hu,t)));class Ju extends ws.Z.Item{renderChildren(e){const{children:t}=this.props;return[this.renderLabel(e),this.renderHelp(e),this.renderWrapper(e,this.renderValidateWrapper(e,t,void 0,this.renderExtra(e)))]}}r("lMnb");var Qu=r("eoY8");class Xu extends zt.Component{shouldComponentUpdate(e){return e.schema!==this.props.schema||e.onCreateId!==this.props.onCreateId||!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let r=e.length;for(;r--;)if(e[r]!==t[r])return!1;return!0}(e.fields,this.props.fields)}render(){const e={},t=new Set,r=[];for(const t of this.props.schema)e[t.name]=t;return this.props.fields.forEach((n=>{const i=e[n]?e[n].group:"Custom";t.has(i)||(t.add(i),r[i]=[]),r[i].push(n)})),zt.createElement(Qu.Z,{className:"toc"},[...t].map((t=>zt.createElement(Qu.Z.Link,{className:"config-section-group",href:`#${this.props.onCreateId("group",t)}`,key:t,title:`${t} Options`},r[t].map((t=>zt.createElement(Qu.Z.Link,{href:`#${this.props.onCreateId("field",t)}`,key:t,title:e[t]&&e[t].displayName||t})))))))}}function ep(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Xu,"propTypes",{fields:rs().arrayOf(rs().string.isRequired).isRequired,schema:Cu.isRequired,onCreateId:rs().func.isRequired});class tp extends zt.PureComponent{constructor(...e){super(...e),ep(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(this.getDocumentationUrl(this.props.scope,this.props.group,this.props.name))}))}getDocumentationUrl(e,t,r){const n=[e];e!==hn&&n.push(t);const i=`section_${n.join("_")}.html`,o=void 0!==r?r.replace(/[^a-z]/g,"-"):`${t.toLowerCase()}-options`;return`https://docs.platformio.org/en/latest/projectconf/${encodeURIComponent(i)}#${encodeURIComponent(o)}`}render(){return zt.createElement("span",{className:"documentation-link"},zt.createElement(Jo.default,{title:`Open documentation for "${this.props.name}"`},zt.createElement("a",{onClick:this.handleClick},zt.createElement(es.default,{type:"question-circle"}),this.props.children?" ":void 0,this.props.children?this.props.children:void 0)))}}function rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(r),!0).forEach((function(t){op(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function op(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sp(e){return e.replace(/\./g,"@")}function ap(e){return F?`%${e}%`:`$${e}`}function lp(e){return[...e].reduce(((e,[t,r])=>(e[t]=r,e)),{})}ep(tp,"propTypes",{children:rs().any,name:rs().string,group:rs().string.isRequired,scope:rs().string.isRequired,onClick:rs().func.isRequired});class cp extends zt.PureComponent{constructor(...e){super(...e),op(this,"handleCreateTocId",((e,t)=>"group"===e?this.generateGroupAnchorId(t):this.generateFieldLabelId(t))),op(this,"handleDocumentationClick",(e=>{this.props.onDocumentationClick(e)})),op(this,"handleRename",(e=>{let t=e.target.value;this.props.type===vn&&(t=vn+t);const r=this.props.onRename(t,this.props.id);this.setState({nameValid:r})})),op(this,"handleRemoveOptionClick",(e=>{this.props.onOptionRemove(this.props.name,e.target.closest("a").dataset.name)})),op(this,"handleNewOptionSelect",(e=>{this.props.onOptionAdd(this.props.name,e)})),op(this,"handleRemoveClick",(()=>{this.props.onRemove(this.props.name,this.props.id)})),op(this,"handleToggleMakeDefaultClick",(()=>{this.props.onDefaultToggle(this.props.name,!this.props.defaultEnv)})),op(this,"blockSubmit",(e=>{e.preventDefault()})),this.state={nameValid:!0}}generateIndexedSchema(){const e={};for(const t of this.props.schema)e[t.name]=t;return e}generateFieldId(e){return`${sp(this.props.id)}.${sp(e)}`}generateFieldLabelId(e){return`${this.props.id}-f-${e}`}generateGroupAnchorId(e){return`${this.props.id}-g-${e}`}transformIntoFormValues(e,t){const r=this.generateIndexedSchema(),n={};for(const{name:i,value:o}of e){n[t?this.generateFieldId(i):i]=this.transformIntoFormValue(o,r[i])}return n}transformIntoFormValue(e,t){if(null==e||Tu.isCustomized(t))return e;let r;return t?(r=t.multiple&&"string"==typeof e?Du(e):e,t.type===ln&&t.multiple&&(r=r.join("\n"))):"string"==typeof e?r=Du(e).join("\n"):Array.isArray(e)?r=e.join("\n"):(r=e,console.error("Unsupported custom field type",{schema:t,rawValue:e})),r}setFormValuesFromData(e){this.props.form.setFieldsValue(this.transformIntoFormValues(e,!0))}renderEmptyMessage(e){if(0===e.length)return zt.createElement("div",{className:"text-center"},zt.createElement("br",null),zt.createElement("h1",null,"No options ",zt.createElement("br",null),zt.createElement("small",null,'Use "New Option" above to add a new one')))}renderLabel(e,t,{multiple:r}){let n=t&&t.label?t.label:e;return n=zt.createElement(zt.Fragment,null,n),r&&(n=zt.createElement(zt.Fragment,null,n," ",zt.createElement(Jo.default,{title:"Option accepts multiple arguments separated by new line"},zt.createElement(Us.Z,{className:"multiline",size:"small"},"ML")))),t&&t.sysenvvar&&(n=zt.createElement(zt.Fragment,null,n," ",zt.createElement(Jo.default,{title:zt.createElement(zt.Fragment,null,"Option can be configured by a global"," ",zt.createElement("code",null,ap(t.sysenvvar))," environment variable")},zt.createElement(Us.Z,{className:"sysenvvar"},"ENV")))),n=zt.createElement(zt.Fragment,null,n,zt.createElement("span",{className:"option-actions"},t&&zt.createElement(tp,{group:t.group,name:e,scope:t.scope,onClick:this.handleDocumentationClick},"Docs"),zt.createElement(Jo.default,{title:"Remove Option"},zt.createElement("a",{className:"remove-option-btn","data-name":e,onClick:this.handleRemoveOptionClick},zt.createElement(es.default,{type:"delete"})," Delete")))),n}renderFormItem(e,t,r){const n=t[e],i=!n||n.multiple,o=n?n.description:void 0,s=n?this.transformIntoFormValue(n.default,n):void 0,a=this.generateFieldId(e),l=this.props.autoFocus===e,c={trigger:"onBlur",validateTrigger:!1,valuePropName:"defaultValue",initialValue:r},u={className:"",help:o,key:e,label:this.renderLabel(e,n,{multiple:i}),labelCol:{id:this.generateFieldLabelId(e)}},p={autoFocus:l,defaultValue:s,configSectionData:this.props.initialValues},d=Tu.factory(n,p,u,c,this.props.project),m=this.props.form.getFieldDecorator(a,c)(d);return zt.createElement(Ju,u,m)}getNewOptionsData(e){const t=new Set(this.props.initialValues.map((e=>e.name))),r=new Map;return this.props.schema.forEach((n=>{e&&n.group!==e||t.has(n.name)||(r.has(n.group)||r.set(n.group,[]),r.get(n.group).push(n))})),r}renderNewOption(){const e=this.getNewOptionsData();return zt.createElement(Fa.default,{className:"select-add-new-option",disabled:!this.state.nameValid,dropdownClassName:"dropdown-add-new-option",showSearch:!0,style:{width:"100%"},placeholder:"Click to start searching available options",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onSelect:this.handleNewOptionSelect,value:void 0},[...e].map((([e,t])=>zt.createElement(Fa.default.OptGroup,{key:e,label:`${e.substr(0,1).toUpperCase()}${e.substr(1)} Options`},t.map((e=>{const t=[];return e.description&&t.push(e.description),null!=e.default&&t.push(`Default is "${this.transformIntoFormValue(e.default,e)}"`),zt.createElement(Fa.default.Option,{key:e.name,value:e.name},e.name,0!==t.length&&zt.createElement("div",{className:"option-description"},t.join(". ")))}))))))}renderSectionActions(){return zt.createElement("span",{className:"pull-right inline-buttons"},this.props.type===vn&&zt.createElement(Jo.default,{title:"Default configuration for building, uploading, debugging, etc"},zt.createElement(gt.default,{disabled:!this.state.nameValid,icon:"environment",size:"small",onClick:this.handleToggleMakeDefaultClick},this.props.defaultEnv?"Remove From Default":"Make Default")),zt.createElement(_c.Z,{title:"Are you sure?",okText:"Yes",okType:"danger",cancelText:"No",onConfirm:this.handleRemoveClick},zt.createElement(gt.default,{icon:"delete",size:"small"},"Delete")))}renderSectionName(){const e={labelCol:{xs:24,sm:5,md:4,lg:3},wrapperCol:{xs:24,sm:19,md:20,lg:21}};return zt.createElement(zt.Fragment,null,zt.createElement("h2",null,this.props.title,this.renderSectionActions()),zt.createElement(ws.Z,{className:"config-section-configuration",layout:"horizontal",labelAlign:"left",onSubmit:this.blockSubmit},this.props.type!==bn&&this.props.type!==En&&zt.createElement(ws.Z.Item,ip({key:"__section",label:"Name"},e,{validateStatus:this.state.nameValid?"success":"error"}),zt.createElement(js.default,{addonBefore:this.props.type===vn?vn:void 0,defaultValue:this.props.name.replace(vn,""),onChange:this.handleRename})),this.props.type!==wn&&zt.createElement(ws.Z.Item,ip({key:"add_option",label:"New Option"},e),this.renderNewOption())))}renderGroup(e,t,r,n){return zt.createElement("div",{key:e,className:"config-section-group"},0!==e.length&&zt.createElement("h2",{id:this.generateGroupAnchorId(e)},e," Options"),t.map((({name:e})=>this.renderFormItem(e,r,n[e]))))}render(){const e=this.generateIndexedSchema(),t=this.props.initialValues.map((({name:e})=>e)),r=new Set,n=[];t.forEach((t=>{const i=e[t]?e[t].group:"Custom";r.has(i)||(r.add(i),n[i]=[]),n[i].push({name:t})}));const i=this.transformIntoFormValues(this.props.initialValues),o=this.props.showToc?{xs:24,xm:15,md:18}:{span:24};return zt.createElement(Rs.default,{gutter:0},this.props.showToc&&zt.createElement(xs.default,{key:"toc",xs:24,sm:9,md:6},zt.createElement(Xu,{fields:t,schema:this.props.schema,onCreateId:this.handleCreateTocId})),zt.createElement(xs.default,ip({key:"main"},o),this.renderSectionName(),zt.createElement(ws.Z,{layout:"vertical",className:"config-form"},this.renderEmptyMessage(t),0!==t.length&&[...r].map((t=>this.renderGroup(t,n[t],e,i))))))}}op(cp,"propTypes",{autoFocus:rs().string,defaultEnv:rs().bool,form:rs().object.isRequired,id:rs().string.isRequired,initialValues:rs().arrayOf(ku),name:rs().string.isRequired,project:Ou.isRequired,schema:Cu.isRequired,showToc:rs().bool,title:rs().string.isRequired,type:rs().oneOf(jn).isRequired,onChange:rs().func.isRequired,onDefaultToggle:rs().func.isRequired,onDocumentationClick:rs().func.isRequired,onRemove:rs().func.isRequired,onRename:rs().func.isRequired,onOptionAdd:rs().func.isRequired,onOptionRemove:rs().func.isRequired});const up=ws.Z.create({onFieldsChange(e,t){e.onChange(e.name,lp(Object.entries(t[e.id]).map((([t,r])=>{const n=t.replace(/@/g,".");let i=r.value;const o=e.schema.find((e=>e.name===n));return o&&o.multiple&&o.type===ln&&!Tu.isCustomized(o)&&(i=Du(r.value)),[n,np(np({},r),{},{value:i})]}))))},mapPropsToFields:e=>lp(e.initialValues.map((e=>[sp(e.name),ws.Z.createFormField({value:e.value})])))})(cp);var pp=r("IYwU"),dp=r("kvAW"),mp=r("oWrm");function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(null,arguments)}function hp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gp extends zt.Component{render(){return this.props.connectDragSource(this.props.connectDropTarget(this.props.children))}}hp(gp,"propTypes",{children:rs().oneOfType([rs().arrayOf(rs().node),rs().node]).isRequired,connectDragSource:rs().func.isRequired,connectDropTarget:rs().func.isRequired});const yp={drop(e,t){const r=t.getItem().index,n=e.index;r!==n&&(e.moveTabNode(r,n),t.getItem().index=n)}},bp={beginDrag:e=>({id:e.id,index:e.index})},Ep=(0,pp.DropTarget)("DND_NODE",yp,(e=>({connectDropTarget:e.dropTarget()})))((0,pp.DragSource)("DND_NODE",bp,((e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()})))(gp));class vp extends zt.Component{constructor(...e){super(...e),hp(this,"moveTabNode",((e,t)=>{const r=[];zt.Children.forEach(this.props.children,(e=>{-1===r.indexOf(e.key)&&r.push(e.key)}));const n=r.slice(),i=n.indexOf(e),o=n.indexOf(t);n.splice(i,1),n.splice(o,0,e),this.props.onOrderChange&&this.props.onOrderChange(n,r)})),hp(this,"renderTabBar",((e,t)=>zt.createElement(t,e,(e=>zt.createElement(Ep,{key:e.key,index:e.key,moveTabNode:this.moveTabNode},e)))))}render(){return zt.createElement(dp.W,{backend:mp.PD},zt.createElement(Cc.default,fp({renderTabBar:this.renderTabBar},this.props),this.props.children))}}function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(r),!0).forEach((function(t){Op(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Op(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}hp(vp,"propTypes",{children:rs().oneOfType([rs().arrayOf(rs().node),rs().node]).isRequired,onOrderChange:rs().func});class Pp extends zt.PureComponent{constructor(...e){super(...e),Op(this,"sectionIdCounter",0),Op(this,"handleNewSectionMenuClick",(({key:e})=>{this.addSectionOfType(e)})),Op(this,"handleNewSectionBtnClick",(()=>{this.addSectionOfType(vn)})),Op(this,"handleSaveClick",(()=>{this.save()})),Op(this,"handleRevertClick",(()=>{this.load()})),Op(this,"handleOpen",(()=>{this.props.openTextDocument(ar(this.props.project.path,"innaterapluginio.ini"))})),Op(this,"handleTabChange",(e=>{this.setState({activeTabKey:e})})),Op(this,"handleTabOrderChange",(e=>{this.setState((t=>{const r=t.config;return{config:r.slice().sort(((t,n)=>{const i=e.indexOf(t.id),o=e.indexOf(n.id);if(-1!==i&&-1!==o)return i-o;if(-1!==i)return-1;if(-1!==o)return 1;return r.indexOf(t)-r.indexOf(n)}))}}))})),Op(this,"handleDocumentationClick",(e=>{this.props.osOpenUrl(e,{target:"_blank"})})),Op(this,"handleSectionRename",((e,t)=>!this.state.config.find((t=>t.section===e))&&(this.renameSection(t,e),!0))),Op(this,"handleSectionRemove",((e,t)=>{this.removeSection(t)})),Op(this,"handleReportIssueClick",(()=>{const e="https://github.com/platformio/platformio-home/issues/new?"+rt.stringify({title:"Edit Project Config"});this.props.osOpenUrl(e)})),Op(this,"handleToggleTocClick",(()=>{this.setState((e=>({showToc:!e.showToc})))})),Op(this,"handleOptionAdd",((e,t)=>{this.addSectionField(e,t),this.setState({autoFocus:{section:e,option:t}})})),Op(this,"handleOptionRemove",((e,t)=>{this.removeSectionField(e,t)})),Op(this,"handleSectionChange",((e,t)=>{Object.entries(t).forEach((([t,r])=>{this.updateSectionValue(e,t,r.value)}))})),Op(this,"handleNewOptionSelect",(e=>{const t=this.getActiveSection().section;this.addSectionField(t,e),this.setState({autoFocus:{section:t,option:e}})})),Op(this,"handleDefaultToggle",((e,t)=>{const r=e.replace(vn,""),n=t?e=>{const t=new Set(e);return t.add(r),[...t]}:e=>{const t=new Set(e);return t.delete(r),[...t]};this._updateSectionValue(bn,"default_envs",n),this.forceRerenderSection(bn)})),this.state={showToc:!1}}componentDidMount(){this.props.schema||this.props.loadConfigSchema(),this.load()}load(){this.props.loadProjectConfig(this.props.location.state.projectDir)}save(e){const t=this.state.config.map((e=>jp(jp({},e),{},{items:e.items.filter((t=>{const r=this.getSectionScope(this.getSectionType(e.section)),n=(r&&this.props.schema[r]||[]).find((e=>e.name===t.name));return!n||n.type!==dn||t.value!==n.default}))})));this.setState({config:t,saving:!0});const r=t.map((({section:e,items:t})=>[e,t.map((({name:e,value:t})=>[e,t]))]));this.props.saveProjectConfig(this.props.location.state.projectDir,r,{force:e,mtime:this.props.mtime},(t=>{this.setState({saving:!1}),!e&&t instanceof Ro&&ht.Z.confirm({autoFocusButton:"cancel",content:zt.createElement("p",null,"Press “Override” to override and loose external changes;",zt.createElement("br",null),"Press “Cancel” to continue editing without saving"),okText:"Override",okType:"danger",title:"Do you want to override externally modified config?",onOk:()=>{this.save(!0)}})}))}componentDidUpdate(e){if(this.props.initialConfig&&this.props.schema&&(e.initialConfig!==this.props.initialConfig||e.schema!==this.props.schema)){const e=this.props.initialConfig.map((e=>jp(jp({},e),{},{id:this.generateSectionId(e)})));this.setState({config:e}),this.setState((e=>{if(void 0===e.activeTabKey||!this.getActiveSection(e))return{activeTabKey:e.config.length?e.config[0].id:void 0}}))}}getSectionType(e){return e===bn||e===En?e:e.startsWith(vn)?vn:wn}getSectionScope(e){return e===bn?hn:e===vn||e===En?gn:void 0}getScopeIcon(e){return Pp.iconBySectionType[this.getSectionType(e)]}getActiveSection(e){if(e||(e=this.state),e.config)return e.config.find((t=>t.id===e.activeTabKey))}sectionExists(e,t){return t||(t=this.state),t.config&&-1!==t.config.findIndex((t=>t.section===e))}generateSectionId(e){return`${++this.sectionIdCounter}-${e.section}`}addSectionOfType(e,t){let r;if([bn,En].includes(e)){if(this.sectionExists(e))return;r=e}else if(e===vn){let e=1;for(;this.sectionExists(r=`${vn}env${e}`);)e++}else if(e===wn){let e=1;for(;this.sectionExists(r=`custom${e}`);)e++}this.addSection(r,t),this.setActiveSection(r)}setActiveSection(e){this.setState((t=>{const r=t.config.find((t=>t.section===e));if(r)return{activeTabKey:r.id}}))}addSection(e,t){t||(t=[]);const r=this.getSectionType(e),n={section:e,items:t};n.id=this.generateSectionId(n),this.setState((e=>{let t;if(r===bn)t=[n,...e.config];else if(r===En){let r=0;const i=e.config.findIndex((e=>e.section===bn));if(-1!==i)r=i+1;else{const t=e.config.findIndex((e=>this.getSectionType(e.section)===vn));-1!==t&&(r=t)}t=e.config.slice(),t.splice(r,0,n)}else t=[...e.config,n];return{config:t}}))}removeSection(e){this.setState((t=>{const r=t.config.findIndex((t=>t.id===e));if(-1===r)return;const n=t.config.filter((t=>t.id!==e)),i={config:n};return e===t.activeTabKey&&(r>=n.length?0!==n.length?i.activeTabKey=n[n.length-1].id:i.activeTabKey=void 0:i.activeTabKey=n[r].id),i}))}addSectionField(e,t,r){this.setState((n=>{const i=this.getSectionScope(this.getSectionType(e)),o=(i&&this.props.schema[i]||[]).find((e=>e.name===t));void 0===r&&(r=o&&o.multiple?[]:"");const s={name:t,value:r},a=n.config.find((t=>t.section===e)),l=jp(jp({},a),{},{items:[...a.items,s]});return{config:n.config.map((e=>e!==a?e:l))}}))}removeSectionField(e,t){this.setState((r=>{const n=r.config.find((t=>t.section===e)),i=jp(jp({},n),{},{items:n.items.filter((e=>e.name!==t))});return{config:r.config.map((e=>e!==n?e:i))}}))}getSectionValue(e,t,r){const n=this.state.config.find((t=>t.section===e));if(!n)return r;const i=n.items.find((e=>e.name===t));return i&&null!=i.value?i.value:r}_updateSectionValue(e,t,r){this.state.config.find((t=>t.section===e))?this.setState((n=>{const i=n.config.find((t=>t.section===e));if(!i)return;const o=i.items.slice(),s=i.items.findIndex((e=>e.name===t));if(-1===s)o.push({name:t,value:r()});else{const e=o[s];o[s]=jp(jp({},e),{},{value:r(e.value)})}const a=jp(jp({},i),{},{items:o});return{config:n.config.map((e=>e!==i?e:a))}})):this.addSection(e,[{name:t,value:r()}])}updateSectionValue(e,t,r){this._updateSectionValue(e,t,(()=>r))}renameSection(e,t){this.setState((r=>({config:r.config.map((r=>r.id!==e?r:jp(jp({},r),{},{section:t})))})))}forceRerenderSection(e){this.setState((t=>{const r={};return r.config=t.config.map((n=>{if(n.section!==e)return n;const i=this.generateSectionId(n);return n.id===t.activeTabKey&&(r.activeTabKey=i),jp(jp({},n),{},{id:i})})),r}))}isLoaded(){return Boolean(this.props.schema&&this.props.initialConfig&&this.state.config)}renderLoader(){return zt.createElement("center",null,zt.createElement(As.default,{size:"large",tip:"Loading…"}))}renderFormActions(){return zt.createElement("div",{className:"form-actions-block"},zt.createElement(gt.default.Group,null,zt.createElement(Jo.default,{placement:"bottom",title:(this.state.showToc?"Hide":"Show")+" Table of Contents"},zt.createElement(gt.default,{icon:this.state.showToc?"menu-fold":"menu-unfold",onClick:this.handleToggleTocClick})),zt.createElement(Jo.default,{placement:"bottom",title:"Cancel current changes and revert configuration to the initial state"},zt.createElement(gt.default,{icon:"undo",onClick:this.handleRevertClick})),zt.createElement(Jo.default,{placement:"bottom",title:"Open configuration file in a text editor"},zt.createElement(gt.default,{icon:"edit",onClick:this.handleOpen}))),this.renderNewSectionBtn(),zt.createElement(gt.default.Group,null,zt.createElement(gt.default,{disabled:!this.isLoaded(),icon:"save",loading:this.state.saving,type:"primary",onClick:this.handleSaveClick},"Save")))}renderNewSectionBtn(){const e=zt.createElement(gs.default,{onClick:this.handleNewSectionMenuClick},!this.sectionExists(En)&&zt.createElement(gs.default.Item,{key:En,title:"Common configuration for all environments. Saved as [env] section in the `innaterapluginio.ini` file"},"Common Configuration"),!this.sectionExists(bn)&&zt.createElement(gs.default.Item,{key:bn,title:"Saved as [platformio] section in the innaterapluginio.ini file"},"PlatformIO Settings"));return e.props.children.filter((e=>!!e)).length?zt.createElement(ju.default.Button,{className:"add-section-btn",disabled:!this.isLoaded(),overlay:e,onClick:this.handleNewSectionBtnClick},zt.createElement(es.default,{type:"plus"})," Configuration"):zt.createElement(gt.default,{className:"add-section-btn",disabled:!this.isLoaded(),onClick:this.handleNewSectionBtnClick},zt.createElement(es.default,{type:"plus"})," Configuration")}renderConfigSection(e,t){const r=t.section,n=this.getSectionType(r);let i=r.replace(vn,""),o="Configuration";n===En?o=i="Common Configuration":n===bn?o=i="PIO Configuration":n===vn&&(o="Working Configuration");const s={autoFocus:this.state.autoFocus&&this.state.autoFocus.section===r?this.state.autoFocus.option:void 0,id:e,name:r,initialValues:t.items,project:this.props.project,defaultEnv:n===vn&&this.getSectionValue(bn,"default_envs",[]).includes(r.replace(vn,"")),onRemove:this.handleSectionRemove,onRename:this.handleSectionRename,schema:this.props.schema[this.getSectionScope(n)]||[],showToc:this.state.showToc,title:o,type:n,onChange:this.handleSectionChange,onDefaultToggle:this.handleDefaultToggle,onDocumentationClick:this.handleDocumentationClick,onOptionAdd:this.handleOptionAdd,onOptionRemove:this.handleOptionRemove,onTocToggle:this.handleTocToggle},a=[`section-${n}-icon`];return s.defaultEnv&&a.push("default-env-icon"),zt.createElement(Cc.default.TabPane,{key:e,size:"small",tab:zt.createElement(Jo.default,{title:`Configuration [${r}]`},zt.createElement(es.default,{className:a.join(" "),type:this.getScopeIcon(r)}),i)},zt.createElement(up,s))}renderConfig(){return this.isLoaded()?this.state.config.length?zt.createElement(vp,{activeKey:this.state.activeTabKey,defaultActiveKey:this.state.config.length?this.state.config[0].id:void 0,hideAdd:!0,onOrderChange:this.handleTabOrderChange,onChange:this.handleTabChange,type:"card"},this.state.config.map((e=>this.renderConfigSection(e.id,e)))):zt.createElement("ul",{className:"background-message option-like"},zt.createElement("li",null,"Please, use “+ Configuration” dropdown above to add new one")):this.renderLoader()}render(){return zt.createElement("div",{className:"project-config-page"},zt.createElement("h1",{className:"block clearfix"},zt.createElement("span",null,this.props.project.name),this.renderFormActions()),this.renderConfig())}}Op(Pp,"propTypes",{location:rs().object.isRequired,mtime:rs().number,project:Ou.isRequired,initialConfig:rs().arrayOf(rs().shape({section:rs().string.isRequired,items:rs().arrayOf(ku)})),schema:rs().shape({[hn]:Cu,[gn]:Cu}),loadConfigSchema:rs().func.isRequired,loadProjectConfig:rs().func.isRequired,saveProjectConfig:rs().func.isRequired,openTextDocument:rs().func.isRequired,osOpenUrl:rs().func.isRequired}),Op(Pp,"iconBySectionType",{[bn]:"appstore",[En]:"environment",[vn]:"environment",[wn]:"user"});const Cp={loadConfigSchema:Co,loadProjectConfig:ko,openTextDocument:Re,osOpenUrl:ge,saveProjectConfig:So},kp=(0,cs.$j)((function(e,t){const{projectDir:r}=t.location.state,n=function(e){return wt(e,sn)}(e)||{};return{project:Rn(e,r),schema:Tn(e),initialConfig:n.config,mtime:n.mtime}}),Cp)(Pp);var Sp=r("jeMM");function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(null,arguments)}function Rp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tp extends zt.PureComponent{constructor(...e){super(...e),Rp(this,"handleChange",(e=>{this.setState({value:e.target.value})})),Rp(this,"handleSaveClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit(!0)})),Rp(this,"handleCancelClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit()})),Rp(this,"handleBeginEditClick",(e=>{e.preventDefault(),e.stopPropagation(),this.beginEdit()})),Rp(this,"handleKeyDown",(e=>{27===e.keyCode?this.stopEdit():13===e.keyCode&&this.stopEdit(!0)})),Rp(this,"handleUpdateRef",(e=>{this.$input=e})),this.state={editing:!1}}beginEdit(){this.setState({value:this.props.value,editing:!0},(()=>{this.$input&&this.$input.focus()}))}stopEdit(e){e&&this.state.value!==this.props.value&&(this.setState({saving:!0}),this.props.onSave(this.state.value,(()=>{this.setState({saving:!1})}))),this.setState({editing:!1})}renderEditor(){return zt.createElement("div",{className:"quick-edit",key:"1"},zt.createElement("div",{className:"input-col"},zt.createElement(js.default,Dp({},this.props.inputProps,{onBlur:this.handleSaveClick,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,ref:this.handleUpdateRef,value:this.state.value}))),zt.createElement("span",{className:"buttons"},zt.createElement(gt.default,{type:"primary",onClick:this.handleSaveClick},zt.createElement("span",{className:"return-icon"},"⏎"),"Save"),zt.createElement("span",{className:"delimiter"}," or "),zt.createElement("a",{onClick:this.handleCancelClick},"Cancel")))}render(){return zt.createElement("div",{className:"quick-edit-target-container"},zt.createElement("span",{onClick:this.handleBeginEditClick,style:{cursor:"text"}},this.props.value||this.props.placeholder),zt.createElement(Jo.default,{title:"Inline edit description"},zt.createElement(gt.default,{className:"quick-edit-btn",icon:"edit",loading:this.state.saving,size:"small",type:"link",onClick:this.handleBeginEditClick})),zt.createElement(Sp.Z,{transitionName:"fade",transitionAppear:!0},this.state.editing?this.renderEditor():null))}}function xp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Rp(Tp,"propTypes",{inputProps:rs().object,placeholder:rs().string,value:rs().string,onSave:rs().func.isRequired});class Np extends zt.PureComponent{constructor(...e){super(...e),xp(this,"handleClick",(e=>{e.preventDefault(),this.props.onClick(e)}))}handleActionClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onAction&&this.props.onAction(t,this.props.data.path)}handleBoardClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onBoardClick&&this.props.onBoardClick(t)}handleSaveDescription(e,t){this.props.updateConfigDescription(this.props.data.path,e,t)}renderBoards(){const e=new Set;return zt.createElement("div",null,zt.createElement(Jo.default,{title:"Boards"},zt.createElement(es.default,{type:"calculator"}))," ",this.props.data.boards.filter((({id:t})=>!e.has(t)&&e.add(t))).map((({name:e,id:t},r)=>zt.createElement(zt.Fragment,{key:t},r?", ":"",zt.createElement("a",{onClick:t=>this.handleBoardClick(t,e)},e)))))}renderExtraActions(){if(!this.props.extraActions)return;const e=zt.createElement(gs.default,{onClick:({key:e,domEvent:t})=>this.handleActionClick(t,e)},this.props.extraActions.map((e=>zt.createElement(gs.default.Item,{key:e.name},e.icon&&zt.createElement(zt.Fragment,null,zt.createElement(es.default,{type:e.icon})," "),e.text))));return zt.createElement(ju.default,{overlay:e},zt.createElement(gt.default,{size:"small",type:"link",onClick:e=>e.stopPropagation()},zt.createElement(es.default,{type:"ellipsis",rotate:90,style:{color:"grey",fontSize:16,verticalAlign:"middle"}})))}render(){return zt.createElement(lc.Z,{className:"list-item-card",extra:zt.createElement(zt.Fragment,null,zt.createElement("small",null,zt.createElement(Jo.default,{title:`Last Modified: ${new Date(1e3*this.props.data.modified).toString()}`},zt.createElement(es.default,{type:"clock-circle"})," ",Or().relativeTime(this.props.data.modified)))," ",this.renderExtraActions()),title:zt.createElement("a",{onClick:this.handleClick},this.props.data.name)},zt.createElement("div",{className:"block"},zt.createElement(Tp,{placeholder:"No description",value:this.props.data.description,onSave:this.handleSaveDescription.bind(this)})),zt.createElement("div",{className:"pull-right"},this.props.actions&&this.props.actions.map(((e,t)=>zt.createElement(gt.default.Group,{key:t},e.map((e=>zt.createElement(gt.default,{key:e.name,icon:e.icon,type:e.type,onClick:t=>this.handleActionClick(t,e.name)},e.text))))))),zt.createElement("div",{className:"environments-list"},zt.createElement(Jo.default,{title:"Environments"},zt.createElement(es.default,{type:"environment"}))," ",this.props.data.envs.map((e=>zt.createElement(Us.Z,{key:e},e)))),this.props.data.boards.length>0&&this.renderBoards())}}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(r),!0).forEach((function(t){_p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}xp(Np,"propTypes",{data:Ou,actions:rs().arrayOf(rs().arrayOf(Pu)),extraActions:rs().arrayOf(Pu),onAction:rs().func,onClick:rs().func,onBoardClick:rs().func,updateConfigDescription:rs().func.isRequired});const Fp="hide",Lp="reveal",Ap="configure",zp="open";class Up extends zt.PureComponent{constructor(...e){super(...e),_p(this,"handleAction",((e,t)=>{switch(e){case Ap:st(this.props.history,"/projects/config",{projectDir:t});break;case Fp:this.props.hideProject(t);break;case Lp:this.props.osRevealFile(t);break;case zp:this.props.openProject(t)}})),_p(this,"handleFilterChange",(e=>{this.setState({filterValue:e.target.value})})),_p(this,"handleSearch",(()=>{this.props.setFilter(this.state.filterValue)})),_p(this,"handleBoardClick",(e=>{this.props.updateInputValue(Yn,e),this.props.showBoards()})),_p(this,"handleUpdateConfigDescription",((e,t,r)=>{this.props.updateConfigDescription(e,t,r)})),_p(this,"handleOpenProjectClick",(()=>{this.setState({openProjectVisible:!0})})),_p(this,"handleOpenProjectCancel",(()=>{this.setState({openProjectVisible:!1})})),_p(this,"handleNewProjectCancel",(()=>{this.setState({newProjectVisible:!1})})),_p(this,"handleCreateNewProjectClick",(()=>{this.setState({newProjectVisible:!0})})),this.state={newProjectVisible:!1,openProjectVisible:!1}}componentDidMount(){this.props.items||this.props.loadProjects()}getActionsConfiguration(){return[[{name:zp,icon:"folder-open",text:"Open",type:"primary"},{name:Ap,icon:"setting",text:"Configure",type:"primary"}]]}getExtraActions(){return[{name:Fp,icon:"eye-invisible",text:"Hide"},{name:Lp,icon:"folder",text:"Reveal"}]}renderData(){const e=this.props.items.slice().sort(((e,t)=>t.modified-e.modified));return e.length?zt.createElement("div",null,e.map((e=>zt.createElement(Np,{key:e.path,data:e,actions:this.getActionsConfiguration(),extraActions:this.getExtraActions(),onAction:this.handleAction,onClick:()=>this.handleAction(Ap,e.path),onBoardClick:this.handleBoardClick,updateConfigDescription:this.handleUpdateConfigDescription})))):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results"))}renderModals(){return zt.createElement(zt.Fragment,null,zt.createElement(ol,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel}),zt.createElement(nl,{visible:this.state.newProjectVisible,onCancel:this.handleNewProjectCancel}))}renderFormActions(){return zt.createElement("div",{className:"pull-right"},zt.createElement(gt.default.Group,null,zt.createElement(gt.default,{icon:"folder-open",type:this.props.items.length?"default":"primary",onClick:this.handleOpenProjectClick},"Add Existing"),zt.createElement(gt.default,{icon:"plus",type:this.props.items.length?"default":"primary",onClick:this.handleCreateNewProjectClick},"Create New Project")))}render(){return zt.createElement("div",{className:"project-list-page"},this.renderModals(),!this.props.items&&zt.createElement("center",null,zt.createElement(As.default,{size:"large",tip:"Loading…"})),this.props.items&&zt.createElement("div",null,zt.createElement("h1",{className:"block clearfix"},zt.createElement("span",null,"Projects ",zt.createElement(hs.Z,{count:this.props.items.length})),this.renderFormActions()),zt.createElement("div",{className:"block"},zt.createElement(js.default.Search,{allowClear:!0,autoFocus:!0,defaultValue:this.props.filterValue,enterButton:!0,placeholder:"Search projects",onChange:this.handleFilterChange,onSearch:this.handleSearch,size:"large",style:{width:"100%"}})),this.renderData(),0===this.props.items.length&&zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(gt.default,{icon:"folder-open",type:"primary",onClick:this.handleOpenProjectClick},"Add Existing")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(gt.default,{icon:"plus",type:"primary",onClick:this.handleCreateNewProjectClick},"Create New Project"))))))}}_p(Up,"propTypes",{filterValue:rs().string,history:rs().object.isRequired,items:rs().arrayOf(Ou),loadProjects:rs().func.isRequired,hideProject:rs().func.isRequired,openProject:rs().func.isRequired,osRevealFile:rs().func.isRequired,updateInputValue:rs().func.isRequired,showBoards:rs().func.isRequired,updateConfigDescription:rs().func.isRequired,setFilter:rs().func.isRequired});const Vp=[{path:"/projects",component:(0,cs.$j)((function(e){return{filterValue:Cn(e),items:Dn(e)}}),(function(e,t){return qp(qp({},(0,l.DE)({loadProjects:vo,hideProject:yo,openProject:bo,osRevealFile:ye,setFilter:t=>e(q(Pn,t)),updateInputValue:I,updateConfigDescription:Do},e)),{},{showBoards:()=>st(t.history,"/boards")})}))(Up)},{path:"/projects/config",component:kp}];class Zp extends zt.PureComponent{render(){return zt.createElement("section",{className:"page-container project-module"},zt.createElement(vs,{routes:Vp,disableMenu:!0}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Zp,"propTypes",{});const $p=[{path:"/",icon:"home",label:"Home",component:ul},{path:"/account",component:ga},{path:"/projects",icon:"file-ppt",label:"Projects",component:Zp},{path:"/inspect",icon:"monitor",label:"Inspect",component:Pc},{path:"/boards",icon:"calculator",label:"Boards",component:va},{path:"/platforms",icon:"appstore",label:"Platforms",component:wu},{path:"/device",icon:"usb",label:"Devices",component:Ia}];class Bp extends zt.Component{renderHeader(){const e=this.context.router;return zt.createElement("div",{className:"header-container"},zt.createElement("table",{cellPadding:"0",cellSpacing:"0",width:"100%"},zt.createElement("tbody",null,zt.createElement("tr",null,zt.createElement("td",null,zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(gt.default.Group,null,zt.createElement(gt.default,{icon:"left",title:"Go Back",disabled:e.history.length<1||0===e.history.index,onClick:()=>e.history.goBack()}),zt.createElement(gt.default,{icon:"right",title:"Go Forward",disabled:e.history.length<1||e.history.index>=e.history.length-1,onClick:()=>e.history.goForward()}))),zt.createElement("li",null,zt.createElement(fs,null))))))))}render(){return zt.createElement(Ho.Z,{hasSider:!0,className:"app-container"},zt.createElement(Ho.Z.Sider,{width:64},zt.createElement("div",{className:"logo"},zt.createElement(Jo.default,{placement:"right",title:"Reload Home"},zt.createElement("a",{href:window.location.href},zt.createElement(ds,{width:"32px",height:"32px"})))),zt.createElement(bs,{router:this.context.router,routes:$p,theme:"dark"})),zt.createElement(Ho.Z,{className:"main-container"},zt.createElement(Ho.Z.Header,null,this.renderHeader()),zt.createElement(Ho.Z.Content,null,zt.createElement(Qo.Z,null,$p.slice(0).reverse().map((e=>zt.createElement(Xo.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}))))),zt.createElement(ps,null)))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Bp,"contextTypes",{router:rs().object.isRequired});var Mp=r("7B0+"),Yp=r("TRVC"),Wp=r("i8i4");e=r.hmd(e),window.addEventListener("error",(e=>it(e,!0))),(0,Wp.render)(zt.createElement(Mp.zj,null,zt.createElement(cs.zt,{store:Yo()},zt.createElement(Yp.Z,{initialEntries:[ot()]},zt.createElement(Bp,null)))),document.getElementById("app")),e&&e.hot},QNv7:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={home:"https://innatera.com",news:"https://innatera.com/news/all",community:"https://forum.innatera.com/help",contact:"https://innatera.com/contact"},i={name:"innatera",title:"Innatera",companyLogoSrc:r("sqwZ").Z,showPIOVersions:!0,footerQuickLinks:[{title:"Web",url:n.home},{title:"News",url:n.news},{title:"Community",url:n.community},{title:"Contact Us",url:n.contact}],urls:n,messages:{homeQuickButtonProjectExamples:"Project Examples"}}},"BN/O":()=>{},Mqsz:(e,t,r)=>{"use strict";r.r(t)},I6LC:(e,t,r)=>{"use strict";r.r(t)},"1h1p":(e,t,r)=>{"use strict";r.r(t)},SbL1:(e,t,r)=>{"use strict";r.r(t)},tDDE:(e,t,r)=>{"use strict";r.r(t)},Vm0n:(e,t,r)=>{"use strict";r.r(t)},BUwq:(e,t,r)=>{"use strict";r.r(t)},t3b5:(e,t,r)=>{"use strict";r.r(t)},"+Yii":(e,t,r)=>{"use strict";r.r(t)},f9Tb:(e,t,r)=>{"use strict";r.r(t)},U29f:(e,t,r)=>{"use strict";r.r(t)},"0oXa":(e,t,r)=>{"use strict";r.r(t)},Zu6W:(e,t,r)=>{"use strict";r.r(t)},OuoA:(e,t,r)=>{"use strict";r.r(t)},zzsB:(e,t,r)=>{"use strict";r.r(t)},"0UlX":(e,t,r)=>{"use strict";r.r(t)},rp8K:(e,t,r)=>{"use strict";r.r(t)},fAD1:(e,t,r)=>{"use strict";r.r(t)},z6co:(e,t,r)=>{"use strict";r.r(t)},cWcZ:(e,t,r)=>{"use strict";r.r(t)},n8z6:(e,t,r)=>{"use strict";r.r(t)},TTTe:(e,t,r)=>{"use strict";r.r(t)},ruVM:(e,t,r)=>{"use strict";r.r(t)},bnhw:(e,t,r)=>{"use strict";r.r(t)},"/Qfb":(e,t,r)=>{"use strict";r.r(t)},"jq3/":(e,t,r)=>{"use strict";r.r(t)},wMbK:(e,t,r)=>{"use strict";r.r(t)},n5kg:(e,t,r)=>{"use strict";r.r(t)},"8Rp+":(e,t,r)=>{"use strict";r.r(t)},Ps1J:(e,t,r)=>{"use strict";r.r(t)},fRLH:(e,t,r)=>{"use strict";r.r(t)},pufV:(e,t,r)=>{"use strict";r.r(t)},i3PN:(e,t,r)=>{"use strict";r.r(t)},IPTm:(e,t,r)=>{"use strict";r.r(t)},"/awd":(e,t,r)=>{var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-ps":"TJgH","./ar-ps.js":"TJgH","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku-kmr":"dVgr","./ku-kmr.js":"dVgr","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="/awd"},sqwZ:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"64bf9220a04f36a40899401f83517881.png"},T374:()=>{},XaOI:(e,t,r)=>{"use strict";r.d(t,{eM:()=>u});const n="undefined"!=typeof global?global:self,i=n.MutationObserver||n.WebKitMutationObserver;function o(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const s="function"==typeof i?function(e){let t=1;const r=new i(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:o;class a{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const l=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=s(this.flush),this.requestErrorThrow=o((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},c=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new a(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(l.registerPendingError);function u(e){l.enqueueTask(c.create(e))}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,i,o)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,i,o]=e[u],a=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[s[c]]=0;return n.O(u)},r=self.webpackChunkInnatera_home=self.webpackChunkInnatera_home||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[736],(()=>n("O09Z")));var i=n.O(void 0,[736],(()=>n("BN/O")));i=n.O(i)})();