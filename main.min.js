(()=>{var e,t={aIWJ:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{LOAD_LOGICAL_DEVICES:()=>ce,NOTIFY_ERROR:()=>K,NOTIFY_SUCCESS:()=>H,OPEN_TEXT_DOCUMENT:()=>de,OS_COPY_FILE:()=>re,OS_FS_GLOB:()=>ae,OS_IS_DIR:()=>se,OS_IS_FILE:()=>oe,OS_LIST_DIR:()=>ie,OS_MAKE_DIRS:()=>ne,OS_OPEN_URL:()=>X,OS_RENAME_FILE:()=>te,OS_REVEAL_FILE:()=>ee,REQUEST_CONTENT:()=>le,RESET_FS_ITEMS:()=>ue,SHOW_AT_STARTUP:()=>Q,TOGGLE_FAVORITE_FOLDER:()=>pe,UPDATE_ROUTE_BADGE:()=>J,loadLogicalDevices:()=>Se,notifyError:()=>me,notifySuccess:()=>fe,openTextDocument:()=>Te,osCopyFile:()=>ve,osFsGlob:()=>ke,osIsDir:()=>Pe,osIsFile:()=>je,osListDir:()=>Oe,osMakeDirs:()=>we,osOpenUrl:()=>ye,osRenameFile:()=>Ee,osRevealFile:()=>be,requestContent:()=>Ce,resetFSItems:()=>De,showAtStartup:()=>ge,toggleFavoriteFolder:()=>Re,updateRouteBadge:()=>he});var i={};r.r(i),r.d(i,{FORGOT_ACCOUNT:()=>ze,LOAD_ACCOUNT_INFO:()=>_e,LOGIN_ACCOUNT:()=>Le,LOGIN_WITH_PROVIDER:()=>Fe,LOGOUT_ACCOUNT:()=>Ae,PASSWORD_ACCOUNT:()=>Ve,REGISTER_ACCOUNT:()=>Ue,SHOW_ACCOUNT_TOKEN:()=>Me,UPDATE_PROFILE:()=>$e,changeAccountPassword:()=>Je,forgotAccountPassword:()=>He,loadAccountInfo:()=>Ze,loginAccount:()=>Be,loginWithProvider:()=>We,logoutAccount:()=>Ye,registerAccount:()=>Ge,showAccountToken:()=>Qe,updateProfile:()=>Ke});var o={};r.r(o),r.d(o,{LOAD_MDNS_DEVICES:()=>Jt,LOAD_SERIAL_DEVICES:()=>Ht,loadMDNSDevices:()=>Xt,loadSerialDevices:()=>Qt});var s={};r.r(s),r.d(s,{INSTALL_LIBRARY:()=>Mn,LOAD_BUILTIN_LIBS:()=>zn,LOAD_INSTALLED_LIBS:()=>Vn,LOAD_LIBRARY_DATA:()=>Un,LOAD_LIB_UPDATES:()=>$n,LOAD_SEARCH_RESULT:()=>An,LOAD_STATS:()=>Fn,UNINSTALL_LIBRARY:()=>Zn,UPDATE_LIBRARY:()=>Bn,installLibrary:()=>Qn,loadBuiltinLibs:()=>Kn,loadInstalledLibs:()=>Hn,loadLibUpdates:()=>Jn,loadLibraryData:()=>Gn,loadSearchResult:()=>Wn,loadStats:()=>Yn,uninstallLibrary:()=>Xn,updateLibrary:()=>ei});var a={};r.r(a),r.d(a,{INSTALL_PLATFORM:()=>io,LOAD_BOARDS:()=>Ji,LOAD_FRAMEWORK_DATA:()=>to,LOAD_INSTALLED_PLATFORMS:()=>ro,LOAD_PLATFORM_DATA:()=>eo,LOAD_PLATFORM_UPDATES:()=>no,LOAD_REGISTRY_FRAMEWORKS:()=>Xi,LOAD_REGISTRY_PLATFORMS:()=>Qi,UNINSTALL_PLATFORM:()=>oo,UPDATE_PLATFORM:()=>so,installPlatform:()=>ho,loadBoards:()=>ao,loadFrameworkData:()=>po,loadInstalledPlatforms:()=>mo,loadPlatformData:()=>uo,loadPlatformUpdates:()=>fo,loadRegistryFrameworks:()=>co,loadRegistryPlatforms:()=>lo,uninstallPlatform:()=>go,updatePlatform:()=>yo});var l={};r.r(l),r.d(l,{ADD_PROJECT:()=>Po,HIDE_PROJECT:()=>ko,IMPORT_ARDUINO_PROJECT:()=>No,IMPORT_PROJECT:()=>So,INIT_PROJECT:()=>To,LOAD_CONFIG_SCHEMA:()=>Io,LOAD_PROJECTS:()=>Do,LOAD_PROJECT_CONFIG:()=>qo,LOAD_PROJECT_EXAMPLES:()=>xo,LOAD_SERIAL_PORTS:()=>Fo,OPEN_PROJECT:()=>Co,PROJECTS_LOADED:()=>Ro,SAVE_PROJECT_CONFIG:()=>_o,UPDATE_CONFIG_DESCRIPTION:()=>Lo,addProject:()=>Ao,hideProject:()=>Uo,importArduinoProject:()=>Bo,importProject:()=>Vo,initProject:()=>Zo,loadConfigSchema:()=>Wo,loadProjectConfig:()=>Go,loadProjectExamples:()=>Yo,loadProjects:()=>$o,openProject:()=>zo,projectsLoaded:()=>Mo,saveProjectConfig:()=>Ko,updateConfigDescription:()=>Ho});var c=r("8NJ8"),u=r("mM01");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t={}){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e},t)}const f="CONNECT_ROUTER",h="STORE_READY",g="LOAD_STORE",y="UPDATE_STORE",b="RESET_STORE",E="SAVE_STATE",v="STATE_SAVED",w="UPDATE_ENTITY",O="DELETE_ENTITY",j="UPDATE_INPUT_VALUE",P="LAZY_UPDATE_INPUT_VALUE",k="UPDATE_STORAGE_ITEM",C="DELETE_STORAGE_ITEM",S=()=>m(h),D=()=>m(v),R=()=>m(g),T=e=>m(y,{newState:e}),N=()=>m(E),x=(e,t)=>m(w,{key:e,data:t}),I=e=>m(O,{re:e}),q=(e,t)=>m(j,{key:e,value:t}),_=(e,t)=>m(P,{key:e,value:t}),L=(e,t)=>m(k,{key:e,data:t}),F=navigator&&navigator.platform&&navigator.platform.startsWith("Win"),A=300,U="https://api.platformio.org";let z=window.location?window.location.pathname:"/";"/"!==z[z.length-1]&&(z+="/");let V=`ws://127.0.0.1:8008${z}wsrpc`;window.location&&window.location.host&&(V=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}${z}wsrpc`);const $=V;r("tL+A");var M=r("QpBz"),Z=r("IihT"),B=r("YRkV");const Y={BACKEND_CONNECTED:"BACKEND_CONNECTED",BACKEND_DISCONNECTED:"BACKEND_DISCONNECTED",BACKEND_ERRORED:"BACKEND_ERRORED",BACKEND_REQUEST:"BACKEND_REQUEST",BACKEND_RESULT_SUCCESS:"BACKEND_RESULT_SUCCESS",BACKEND_RESULT_ERROR:"BACKEND_RESULT_ERROR"};function*W({query:e,params:t=[]}){const r=Math.random().toString();for(yield(0,Z.gz)(Y.backendRequest(r,e,t));;){const e=yield(0,Z.qn)([Y.BACKEND_RESULT_SUCCESS,Y.BACKEND_RESULT_ERROR]);if(e.id===r){if(e.type===Y.BACKEND_RESULT_ERROR)throw e.error;return e.result}}}function G(e){return t=>{let r=null,n=[];const i={timer:null,loading:null,delay:500,maxDelay:1e4,retries:0};if(r=function e(o){i.timer&&clearTimeout(i.timer);let s=null;try{s=new WebSocket(o)}catch(e){return M.Z.error("Communication Error: This browser does not support WebSocket protocol",0)}return s.onopen=()=>{i.retries=0,i.loading&&i.loading(),t.dispatch(m(Y.BACKEND_CONNECTED));const e=n.slice(0);n=[],e.forEach((e=>s.send(e)))},s.onclose=()=>{t.dispatch(m(Y.BACKEND_DISCONNECTED)),i.loading||(i.loading=M.Z.loading("Reconnecting...",0)),i.retries++,i.interval=setTimeout((()=>r=e(o)),Math.min(i.delay*i.retries,i.maxDelay))},s.onmessage=e=>{try{const r=B.ZP.parse(e.data);switch(r.type){case"success":return t.dispatch(m(Y.BACKEND_RESULT_SUCCESS,r.payload));case"error":return t.dispatch(m(Y.BACKEND_RESULT_ERROR,r.payload))}}catch(e){t.dispatch(m(Y.BACKEND_ERRORED,e))}},s}(e.endpoint),r)return e=>t=>{if(t&&t.type===Y.BACKEND_REQUEST){const e=JSON.stringify(B.ZP.request(t.id,t.query,t.params));return 1===r.readyState?r.send(e):n.push(e)}return e(t)}}}Y.backendRequest=(e,t,r)=>m(Y.BACKEND_REQUEST,{id:e,query:t,params:r});const K="NOTIFY_ERROR",H="NOTIFY_SUCCESS",J="UPDATE_ROUTE_BADGE",Q="SHOW_AT_STARTUP",X="OS_OPEN_URL",ee="OS_REVEAL_FILE",te="OS_RENAME_FILE",re="OS_COPY_FILE",ne="OS_MAKE_DIRS",ie="OS_LIST_DIR",oe="OS_IS_FILE",se="OS_IS_DIR",ae="OS_FS_GLOB",le="REQUEST_CONTENT",ce="LOAD_LOGICAL_DEVICES",ue="RESET_FS_ITEMS",pe="TOGGLE_FAVORITE_FOLDER",de="OPEN_TEXT_DOCUMENT",me=(e,t)=>m(K,{title:e,err:t}),fe=(e,t)=>m(H,{title:e,result:t}),he=(e,t)=>m(J,{path:e,count:t}),ge=e=>m(Q,{value:e}),ye=e=>m(X,{url:e}),be=e=>m(ee,{path:e}),Ee=(e,t)=>m(te,{src:e,dst:t}),ve=(e,t)=>m(re,{src:e,dst:t}),we=e=>m(ne,{path:e}),Oe=e=>m(ie,{path:e}),je=e=>m(oe,{path:e}),Pe=e=>m(se,{path:e}),ke=(e,t=void 0)=>m(ae,{pathnames:e,rootDir:t}),Ce=({uri:e,data:t,headers:r,cacheValid:n})=>m(le,{uri:e,data:t,headers:r,cacheValid:n}),Se=(e=!1)=>m(ce,{force:e}),De=()=>m(ue),Re=e=>m(pe,{path:e}),Te=(e,t=void 0,r=void 0)=>m(de,{path:e,line:t,column:r});function Ne(e){return t=>r=>{try{return t(r)}catch(t){throw console.error("Internal Store Exception",t),e.dispatch(me("Internal Store Exception",t)),t}}}function xe(e,t){const r=Object.assign({},e);return Object.keys(r).forEach((e=>{t.test(e)&&delete r[e]})),r}const Ie=(0,c.UY)({router:function(e=null,t){return t.type!==f?e:t.router},entities:function(e={},t){switch(t.type){case w:return Object.assign({},e,{[t.key]:t.data});case O:return xe(e,t.re)}return e},inputValues:function(e={},t){if(t.type===j){const r=Object.assign({},e,{[t.key]:t.value});return r[t.key]||delete r[t.key],r}return e},storage:function(e={},t){switch(t.type){case k:return Object.assign({},e,{[t.key]:t.data});case C:return xe(e,t.re)}return e}});const qe=function(e,t){switch(t.type){case y:return Object.assign({},Ie(e,t),t.newState);case b:return{}}return Ie(e,t)},_e="LOAD_ACCOUNT_INFO",Le="LOGIN_ACCOUNT",Fe="LOGIN_WITH_PROVIDER",Ae="LOGOUT_ACCOUNT",Ue="REGISTER_ACCOUNT",ze="FORGOT_ACCOUNT",Ve="PASSWORD_ACCOUNT",$e="UPDATE_PROFILE",Me="SHOW_ACCOUNT_TOKEN",Ze=(e=!1)=>m(_e,{extended:e}),Be=(e,t,r)=>m(Le,{username:e,password:t,onEnd:r}),Ye=()=>m(Ae),We=e=>m(Fe,{provider:e}),Ge=(e,t,r,n,i,o)=>m(Ue,{username:e,email:t,firstname:r,lastname:n,password:i,onEnd:o}),Ke=(e,t,r,n,i,o)=>m($e,{username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:o}),He=(e,t)=>m(ze,{username:e,onEnd:t}),Je=(e,t,r)=>m(Ve,{oldPassword:e,newPassword:t,onEnd:r}),Qe=(e,t=!1,r)=>m(Me,{password:e,regenerate:t,onEnd:r});function Xe(e){return e.entities.accountInfo}function et(e){const t=Xe(e);return!!(t&&t.profile&&t.profile.username)}function tt(e){return e.entities.accountToken}var rt=r("saKI"),nt=r("nFlj");function it(){try{return window.self!==window.top}catch(e){return!0}}function ot(e,t=!1){e instanceof ErrorEvent&&(e=[e.message,`${e.filename}:${e.lineno}`]),e=e.toString().replace(/@/g,"_"),rt.ZP.exception({description:e.substring(0,8192),fatal:t})}function st(){let e=null;return window.location&&window.location.search&&(e=nt.parse(window.location.search),e=e&&e.start?e.start:null),e||"/"}function at(e,t,r,n=!1){if(e.length){const i=e.entries[e.index];if(n||i.pathname===t&&JSON.stringify(i.state)===JSON.stringify(r))return e.replace(t,r)}e.push(t,r),rt.ZP.ga("send","screenview",{screenName:t})}function lt(e){return new Promise((t=>setTimeout(t,e)))}function ct(e,t){return e<t?-1:e>t?1:0}function ut(e,t,r){let n;return n="function"!=typeof r?e=>e[r]:r,e.filter((e=>n(e).toLowerCase().includes(t.toLowerCase())))}const pt="pio-user-api";function dt(e){return e=e.replace(/[\\r\\n]+\'/,"").trim(),M.Z.error(e)}function mt(){const e=nt.parse(window.location.search||"");e.start="/account";const t=window.location.origin+window.location.pathname+nt.stringify(e,!0);return t+`&piohomeacc_uri=${encodeURIComponent(t)}`}function*ft(e,t,r){try{yield(0,Z.RE)(W,{query:"account.call_client",params:["login_with_code",e,t,r]})}catch(e){return e&&e.data?dt(e.data):yield(0,Z.gz)(me("Could not log in PIO Account",e))}}const ht=[function*(){for(;;){const{extended:e}=yield(0,Z.qn)(_e);let t=yield(0,Z.Ys)(Xe);if(!t||e&&!t.groups){if(window.location&&window.location.search){const e=nt.parse(window.location.search);e&&e.code&&e.piohomeacc_uri&&(window.history.pushState({},document.title,decodeURIComponent(e.piohomeacc_uri)),yield(0,Z.RE)(ft,pt,e.code,mt()))}try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["account","show","--json-output",...e?[]:["--offline"]]]})}catch(e){e instanceof B.ZP.JsonRpcError&&e.data.includes("Error: You are not")||(yield(0,Z.gz)(me("Could not load PIO Account information",e)))}yield(0,Z.gz)(x("accountInfo",t||{}))}}},function*(){yield(0,Z.Fm)(Le,(function*({username:e,password:t,onEnd:r}){try{yield(0,Z.RE)(W,{query:"core.call",params:[["account","login","--username",e,"--password",t]]}),yield(0,Z.gz)(I(/^accountInfo/))}catch(e){return e&&e.data?dt(e.data):yield(0,Z.gz)(me("Could not log in PIO Account",e))}finally{r&&(yield(0,Z.RE)(r))}}))},function*(){yield(0,Z.Fm)(Fe,(function*({provider:e}){const t=`https://auth.accounts.platformio.org/realms/pioaccount/protocol/openid-connect/auth?client_id=${encodeURIComponent(pt)}&redirect_uri=${encodeURIComponent(mt())}&response_type=code&scope=${encodeURIComponent("openid offline_access email profile")}&kc_idp_hint=${encodeURIComponent(e)}`;it()?yield(0,Z.gz)(ye(t)):window.location=t}))},function*(){yield(0,Z.Fm)(Ae,(function*(){try{yield(0,Z.gz)(x("accountInfo",{})),yield(0,Z.RE)(W,{query:"core.call",params:[["account","logout"]]})}catch(e){return e&&e.data?dt(e.data):yield(0,Z.gz)(me("Could not log out PIO Account",e))}}))},function*(){yield(0,Z.Fm)(Ue,(function*({username:e,email:t,firstname:r,lastname:n,password:i,onEnd:o}){let s=null;try{yield(0,Z.RE)(W,{query:"core.call",params:[["account","register","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--password",i]]}),yield(0,Z.gz)(fe("Congrats!","Please check your email for the further instructions."))}catch(e){return s=e,s&&s.data?dt(s.data):yield(0,Z.gz)(me("Could not create PIO Account",s))}finally{o&&(yield(0,Z.RE)(o,s))}}))},function*(){yield(0,Z.Fm)(ze,(function*({username:e,onEnd:t}){let r=null;try{yield(0,Z.RE)(W,{query:"core.call",params:[["account","forgot","--username",e]]}),yield(0,Z.gz)(fe("Congrats!","If this account is registered, we will send the further instructions to your email."))}catch(e){return r=e,r&&r.data?dt(r.data):yield(0,Z.gz)(me("Could not forgot password for PIO Account",r))}finally{t&&(yield(0,Z.RE)(t,r))}}))},function*(){yield(0,Z.Fm)(Ve,(function*({oldPassword:e,newPassword:t,onEnd:r}){let n=null;try{yield(0,Z.RE)(W,{query:"core.call",params:[["account","password","--old-password",e,"--new-password",t]]}),yield(0,Z.gz)(fe("Congrats!","Successfully updated password!"))}catch(e){return n=e,n&&n.data?dt(n.data):yield(0,Z.gz)(me("Could not change password for PIO Account",n))}finally{r&&(yield(0,Z.RE)(r,n))}}))},function*(){yield(0,Z.Fm)(Me,(function*({password:e,regenerate:t,onEnd:r}){try{const r=["account","token","--json-output","--password",e];t&&r.push("--regenerate");const n=yield(0,Z.RE)(W,{query:"core.call",params:[r]});yield(0,Z.gz)(x("accountToken",n.result||null))}catch(e){return e&&e.data?dt(e.data):yield(0,Z.gz)(me("Could not fetch PIO Account token",e))}finally{r&&(yield(0,Z.RE)(r))}}))},function*(){yield(0,Z.Fm)($e,(function*({username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:o}){let s=null;try{const o=yield(0,Z.RE)(W,{query:"core.call",params:[["account","update","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--current-password",i]]});if(yield(0,Z.gz)(Ze(!0)),o.includes("re-login"))return yield(0,Z.gz)(x("accountInfo",{})),o.includes("check your mail")?void(yield(0,Z.gz)(fe("Congrats!","Successfully updated profile! Please check your mail to verify your new email address and re-login."))):void(yield(0,Z.gz)(fe("Congrats!","Successfully updated profile! Please re-login")));yield(0,Z.gz)(fe("Congrats!","Successfully updated profile!"))}catch(e){return s=e,s&&s.data?dt(s.data):yield(0,Z.gz)(me("Could not update profile of PIO Account",s))}finally{o&&(yield(0,Z.RE)(o,s))}}))}];r("fwXI");var gt=r("CC+v"),yt=(r("MaXC"),r("4IMT")),bt=(r("pjuD"),r("rR1Q"));const Et="userConsents";var vt=r("1EKS"),wt=r.n(vt);function Ot(e,t){return(e.entities||{})[t]}function jt(e,t){return(e.inputValues||{})[t]}function Pt(e){return e.storage||{}}function kt(e,t){return Pt(e)[t]}function Ct(e){const t=kt(e,"coreCaller");if(!t)return!0;const r=kt(e,"showOnStartup");return!r||!Object.prototype.hasOwnProperty.call(r,t)||r[t]}function St(e,t=void 0){return wt()(`${e}-${JSON.stringify(t||"")}`)}function Dt(e){return e.entities.requestedContents}function Rt(e,t,r=void 0){const n=Dt(e)||[];for(const e of n)if(e.key===St(t,r))return e.content;return null}function Tt(e,t=void 0){return wt()(`${e.join()}-${t||""}`)}function Nt(e){return e.entities.osFsGlob}function xt(e,t,r=void 0){const n=Nt(e)||[];for(const e of n)if(e.key===Tt(t,r))return e.items;return null}function It(e){return e.entities.logicalDevices}function qt(e){return e.entities.osDirItems}function _t(e){return e.entities.osIsFileItems}function Lt(e){return e.entities.osIsDirItems}function Ft(e){const t=kt(e,"routeBadges")||{};return Object.keys(t).map((e=>({path:e,count:t[e]})))}function At(e){return kt(e,Et)||{}}class Ut extends Error{}var zt=r("q1tI"),Vt=r("GBY4"),$t=r.n(Vt),Mt=r("24Ii"),Zt=r.n(Mt);function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function*Gt(e,t){const r=yield(0,Z.Ys)(At);if(!r[e]){const n=()=>new Promise(((e,r)=>{gt.Z.confirm(Yt(Yt({title:"Confirm"},t),{},{onOk:()=>{e()},onCancel:()=>{r(new Ut)}}))}));yield(0,Z.RE)(n),yield(0,Z.gz)(L(Et,Yt(Yt({},r),{},{[e]:Date.now().valueOf()})))}}const Kt=[function*(){yield(0,Z.ib)(Q,(function*({value:e}){const t=yield(0,Z.Ys)(kt,"coreCaller");if(!t)return;const r=(yield(0,Z.Ys)(kt,"showOnStartup"))||{};r[t]=e,yield(0,Z.gz)(L("showOnStartup",r))}))},function*(){function e(e){return fs().dispatch(ye(e))}yield(0,Z.ib)(K,(function({title:t,err:r}){if(!r)return;console.error(t,r);let n=r.stack||r.toString();r instanceof B.ZP.JsonRpcError&&(n=r.message,r.data&&(n+=": "+JSON.stringify(r.data)));const i=[[/toolchain-gccarmlinuxgnueabi|WiringPi/g,"https://github.com/platformio/platform-linux_arm/issues/2"],[/\[Error 2\]|\[WinError 2\]|\[Errno 13\]/g,"https://github.com/platformio/platformio-core/issues/2321"],[/Please try this solution -> http:\/\/bit.ly\/faq-package-manager/g,"http://bit.ly/faq-package-manager"],[/Please install Git client/g,"https://github.com/platformio/platformio-core/issues/2811"],[/Error: You are not connected to the Internet|HTTPSConnectionPool/g,"https://github.com/platformio/platformio-core/issues/1348"],[/Updating.+VCS.+recurse-submodules/g,"https://github.com/platformio/platformio-home/issues/143"],[/Error: Detected a whitespace character/g,"https://github.com/platformio/platform-espressif32/issues/470"],[/Error: Could not find the package/g,"https://github.com/platformio/platformio-home/issues/2144"],[/Error: Unknown development platform/g,"https://github.com/platformio/platformio-home/issues/2123"],[/Error: Unknown board ID/g,"https://github.com/platformio/platformio-home/issues/1768"],[/Error: Could not find one of .* manifest files/g,"https://github.com/platformio/platformio-home/issues/1785"]];for(const[r,o]of i)if(n.match(r))return bt.Z.warning({message:t,description:n,duration:0,btn:zt.createElement(yt.default,{type:"danger",onClick:()=>e(o)},"Check available solutions")});bt.Z.error({message:t,description:n,duration:0,btn:zt.createElement(yt.default,{type:"danger",onClick:()=>e(`https://github.com/platformio/platformio-home/issues/new?${nt.stringify({title:t,body:n})}`)},"Report a problem")}),ot(`${t} => ${n}`)}))},function*(){yield(0,Z.ib)(H,(function({title:e,result:t}){t&&(console.info(e,t),t.length>255?gt.Z.success({title:e,content:zt.createElement("div",null,t.split("\n").map(((e,t)=>zt.createElement("div",{key:t},e))))}):bt.Z.success({message:e,description:t}))}))},function*(){const e="routeBadges";yield(0,Z.ib)(J,(function*({path:t,count:r}){const n=(yield(0,Z.Ys)(kt,e))||{};n[t]=parseInt(r),0===n[t]&&delete n[t],yield(0,Z.gz)(L(e,n))}))},function*(){yield(0,Z.ib)([X,ee,te,ne,re],(function*(e){try{switch(e.type){case X:const t=new($t())(e.url,!0);if(t.query.utm_source="platformio",t.query.utm_medium="piohome",e.url.startsWith("http")&&!it()){window.open(t.toString(),"_blank").location}else yield(0,Z.RE)(W,{query:"os.open_url",params:[t.toString()]});break;case ee:yield(0,Z.RE)(W,{query:"os.reveal_file",params:[e.path]});break;case te:yield(0,Z.RE)(W,{query:"os.rename",params:[e.src,e.dst]});break;case re:yield(0,Z.RE)(W,{query:"os.copy",params:[e.src,e.dst]});break;case ne:yield(0,Z.RE)(W,{query:"os.make_dirs",params:[e.path]})}}catch(t){return yield(0,Z.gz)(me(e.type,t))}}))},function*(){const e=["api.github.com","raw.githubusercontent.com","platformio.org"];yield(0,Z.ib)(le,(function*({uri:t,data:r,headers:n,cacheValid:i}){let o=yield(0,Z.Ys)(Rt,t,r);if(!o)try{t.startsWith("http")&&e.some((e=>t.includes(e)))&&(o=yield(0,Z.RE)((()=>{const e=r?Zt().post(t).send(r):Zt().get(t);return n&&e.set(n),new Promise((t=>{e.end(((e,r)=>e||!r.ok?t(void 0):t(r.text)))}))}))),o||(o=yield(0,Z.RE)(W,{query:"os.request_content",params:[t,r,n,i]}));const s=(yield(0,Z.Ys)(Dt))||[];s.push({key:St(t,r),content:o}),yield(0,Z.gz)(x("requestedContents",s.slice(-50)))}catch(e){return yield(0,Z.gz)(me("Error occurred while requesting content from "+t,e))}}))},function*(){yield(0,Z.ib)(ae,(function*({pathnames:e,rootDir:t}){let r=yield(0,Z.Ys)(xt,e,t);if(!r)try{r=yield(0,Z.RE)(W,{query:"os.glob",params:[e,t]});const n=(yield(0,Z.Ys)(Nt))||[];n.push({key:Tt(e,t),items:r}),yield(0,Z.gz)(x("osFsGlob",n.slice(-50)))}catch(t){return yield(0,Z.gz)(me("Error occurred while glob "+JSON.stringify(e),t))}}))},function*(){yield(0,Z.Fm)(ce,(function*({force:e}){e&&(yield(0,Z.gz)(I(/^logicalDevices/)));let t=yield(0,Z.Ys)(It);if(!t)try{t=yield(0,Z.RE)(W,{query:"os.get_logical_devices"}),yield(0,Z.gz)(x("logicalDevices",t))}catch(e){return yield(0,Z.gz)(me("Could not load logical devices",e))}}))},function*(){yield(0,Z.ib)(ie,(function*({path:e}){let t=yield(0,Z.Ys)(qt);if(!t||!t[e]){t||(t={});try{const r=yield(0,Z.RE)(W,{query:"os.list_dir",params:[/^[A-Z]:$/.test(e)?e+"\\":e]});yield(0,Z.gz)(x("osDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,Z.gz)(me("Could not list directory"+e,t))}}}))},function*(){yield(0,Z.ib)(oe,(function*({path:e}){let t=yield(0,Z.Ys)(_t);if(!t||!t[e]){t||(t={});try{const r=yield(0,Z.RE)(W,{query:"os.is_file",params:[e]});yield(0,Z.gz)(x("osIsFileItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,Z.gz)(me("Could not check is file "+e,t))}}}))},function*(){yield(0,Z.ib)(se,(function*({path:e}){let t=yield(0,Z.Ys)(Lt);if(!t||!t[e]){t||(t={});try{const r=yield(0,Z.RE)(W,{query:"os.is_dir",params:[e]});yield(0,Z.gz)(x("osIsDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,Z.gz)(me("Could not check is directory "+e,t))}}}))},function*(){yield(0,Z.Fm)(ue,(function*(){yield(0,Z.gz)(x("osDirItems",null)),yield(0,Z.gz)(x("osIsFileItems",null)),yield(0,Z.gz)(x("osIsDirItems",null))}))},function*(){yield(0,Z.ib)(pe,(function*({path:e}){const t=(yield(0,Z.Ys)(kt,"favoriteFolders"))||[];yield(0,Z.gz)(L("favoriteFolders",t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}))},function*(){yield(0,Z.ib)(de,(function*({path:e,line:t,column:r}){if(!(yield(0,Z.RE)(W,{query:"os.is_file",params:[e]})))return M.Z.error(`File does not exist on disk ${e}`);try{return yield(0,Z.RE)(W,{query:"ide.send_command",params:["open_text_document",{path:e,line:t,column:r}]})}catch(t){return console.warn(t),yield(0,Z.RE)(W,{query:"os.open_file",params:[e]})}}))}],Ht="LOAD_SERIAL_DEVICES",Jt="LOAD_MDNS_DEVICES",Qt=(e=!1)=>m(Ht,{force:e}),Xt=(e=!1)=>m(Jt,{force:e});function er(e){return e.entities.serialDevices||null}function tr(e){const t=er(e);if(t)return t.map((e=>({name:e.port,value:e.port})))}function rr(e){return e.entities.mDNSDevices||null}const nr=[function*(){for(;;){const{force:e}=yield(0,Z.qn)(Ht);e&&(yield(0,Z.gz)(I(/^serialDevices/)));let t=yield(0,Z.Ys)(er);if(t)return;yield(0,Z.RE)((function*(){try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["device","list","--serial","--json-output"]]}),yield(0,Z.gz)(x("serialDevices",t))}catch(e){yield(0,Z.gz)(me("Could not load serial devices",e))}}))}},function*(){for(;;){const{force:e}=yield(0,Z.qn)(Jt);e&&(yield(0,Z.gz)(I(/^mDNSDevices/)));let t=yield(0,Z.Ys)(rr);if(t)return;yield(0,Z.RE)((function*(){try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["device","list","--mdns","--json-output"],{force_subprocess:!0}]}),yield(0,Z.gz)(x("mDNSDevices",t))}catch(e){yield(0,Z.gz)(me("Could not load mDNS services",e))}}))}}],ir="LOAD_LATEST_TWEETS";function or(e){return Ot(e,"latestTweets")}const sr=[function*(){yield(0,Z.Fm)(ir,(function*({username:e}){let t=yield(0,Z.Ys)(or);if(!t){try{t=yield(0,Z.RE)(W,{query:"misc.load_latest_tweets",params:[`https://news.platformio.org/liupdates/${e}/data.json`]})}catch(e){t=e,console.error(e)}yield(0,Z.gz)(x("latestTweets",t))}}))}],ar=F?"\\":"/";function lr(...e){return e.map(((t,r)=>t.endsWith(ar)||r===e.length-1?t:`${t}${ar}`)).join("")}function cr(e){if(!e||!e.includes(ar)||e===ar)return e;let t=e.substr(0,e.lastIndexOf(ar));for(;t.endsWith(ar);)t=t.substr(0,t.length-1);return t}function ur(e,t=void 0){if(!e)return e;let r=e;if(e.includes(ar)&&e!==ar)for(r=e.substr(e.lastIndexOf(ar));r.startsWith(ar);)r=r.substr(1);return t&&r.endsWith(t)?r.substr(0,r.length-t.length):r}function pr(e){if(!e||!e.length)return"";let t=[],r=[];for(let n=0;n<e[0].length;n++){const i=e[0][n];for(let r=0;r<e.length;r++){const o=e[r];if(n>o.length||o[n]!==i)return t.join("")}"\\"!==i&&"/"!==i||(t=t.concat(r),r=[]),r.push(i)}return t.join("")}const dr="inspect",mr="configuration",fr="metrics",hr="inspectSizedata",gr=Object.freeze({STT_FUNC:"profile",STT_OBJECT:"tag"}),yr=Object.freeze({STT_FUNC:"Function",STT_OBJECT:"Variable"}),br=Object.freeze({HIGH:1,MEDIUM:2,LOW:4}),Er={[br.HIGH]:"High",[br.MEDIUM]:"Medium",[br.LOW]:"Low"},vr="INSPECT_PROJECT",wr="REINSPECT_PROJECT";function Or(e,t){return m(vr,{configuration:e,onEnd:t})}function jr(e){return m(wr,{onEnd:e})}var Pr=r("Pmog"),kr=r.n(Pr);const Cr="..",Sr=".";function Dr(e,t){return e===t||void 0!==e&&void 0!==t&&(Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])))}function Rr(e){return kr().filesize(e,1024,e%1024==0||e<1024?0:1)}function Tr(e){return void 0!==e?Rr(e):""}function Nr(e,t){if("number"!=typeof e)return;const{width:r}=t||{};let n=e.toString(16).toUpperCase();return r&&(n=n.padStart(r,"0")),`0x${n}`}function xr(...e){return function(t,r){for(let n=0;n<e.length;n++){const i=e[n](t,r);if(0!==i)return i}return 0}}function Ir(e,t){return e-t}function qr(e,t){return String(e).localeCompare(t,void 0,{caseFirst:"upper",numeric:!0})}function _r(e,t){switch(e){case"string":return function(e,r){return qr(e[t],r[t])};case"number":return function(e,r){return Ir(e[t],r[t])};default:throw new Error("Unsupported column sorter type")}}function Lr(e){return e.replace(/\\/g,"/")}function Fr(e,t=ar){const r=[];for(const n of e.split(t))if(n!==Sr)if(n!==Cr)r.push(n);else{if(!r.length)throw new Error(`Relative path goes outside of root: ${e}`);r.pop()}return r.join(t)}function Ar(e,t){return[...new Set(e.map((e=>e[t])))].sort().filter((e=>void 0!==e&&""!==e)).map((e=>({value:e,text:e})))}function Ur(e,t){const r=e.length;if(!t||r<=t)return e;t--;const n=Math.max(0,r-t);let i=e.substr(n,t);if(e[n-1]!==ar){const e=i.indexOf(ar);-1!==e&&(i=i.substr(e+1))}return`…${i}`}const zr=["Hz","kHz","MHz","GHz","THz"];function Vr(e,t=1,r=!0){let n=0;for(;e>=1e3&&n<=zr.length-1;)e/=1e3,++n;let i=e.toFixed(t);return r&&i.includes(".")&&(i=i.replace(/0+$/,"").replace(/\.$/,"")),`${i}${zr[n]}`}function $r(e,t){t||(t=[]);for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)?$r(n,t):t.push(n)}return t}function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){Br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Br(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e,t){const r=kt(e,dr)||{};return t?r[t]:r}function Wr(e,t,r,n){const i=[r,n,t].join(":");return function(e){return Yr(e,fr)||{}}(e)[i]}function Gr(e){return Yr(e,mr)}function Kr(e,t){return!Dr(t,Gr(e))}function Hr(e){return Ot(e,hr)}function Jr(e){return(Ot(e,hr)||{}).error}function Qr(e){return(Hr(e)||{}).memory}function Xr(e){return(Hr(e)||{}).codeChecks}function en(e){const t=Xr(e);if(t)return $r(t.map((({tool:e,defects:t})=>t.map((t=>(t.tool=e,t.level=br[t.severity.toUpperCase()],t))))))}function tn(e){let t=((Qr(e)||{}).memory||{}).files;if(t)return t.length||(t=Object.entries(t).map((([e,t])=>Zr(Zr({},t),{},{path:e})))),t.map((e=>({flash:e.flash_size,isDir:!1,path:Fr(Lr(e.path),"/"),ram:e.ram_size,symbols:(e.symbols||[]).map((e=>Zr(Zr({},e),{},{displayName:void 0!==e.demangled_name?e.demangled_name:e.name})))})))}function rn(e){const t=tn(e);if(t)return $r(t.map((({symbols:e})=>e)).filter((e=>e&&e.length)))}function nn(e){const t=(Qr(e)||{}).memory;if(!t)return;const r=tn(e),n=rn(e),{total:{ram_size:i,flash_size:o,sections:s=[]}={}}=t;return{ram:i,flash:o,filesCount:r.length,symbolsCount:r.reduce(((e,{symbols:t=[]})=>e+t.length),0),sectionsCount:Object.keys(s).length,topSymbols:n.sort(((e,t)=>t.size-e.size)).slice(0,5),topFiles:r.sort(((e,t)=>t.flash-e.flash)).slice(0,5)}}function on(e){const t=Xr(e);if(!t||!t.length)return;const r=en(e)||[],n={};for(const e of t)for(const[t,r]of Object.entries(e.stats||{})){const e=Lr(t);n[e]||(n[e]={high:0,medium:0,low:0}),n[e].low+=r.low||0,n[e].medium+=r.medium||0,n[e].high+=r.high||0}return{defectsCountTotal:r.length,defectsCountBySeverity:{low:r.filter((({severity:e})=>"low"===e)).length,medium:r.filter((({severity:e})=>"medium"===e)).length,high:r.filter((({severity:e})=>"high"===e)).length},stats:Object.entries(n).map((([e,t])=>Zr(Zr({},t),{},{component:e}))).sort(((e,t)=>e.component.localeCompare(t.component))),topDefects:r.sort(((e,t)=>e.level-t.level)).slice(0,5)}}function sn(e){const t=Qr(e);let{memory:{total:{sections:r}={}}={}}=t||{};if(r)return r.length||(r=Object.entries(r).map((([e,t])=>Zr(Zr({},t),{},{name:e})))),r.map((({flags:e,size:t,type:r,start_addr:n,name:i})=>({flags:e,size:t,type:null!=r?r.toString():"",startAddr:n,name:i})))}function an(e){const t=(Qr(e)||{}).device;return t&&t.frequency&&"number"!=typeof t.frequency&&(t.frequency=parseInt(t.frequency,10)),t}const ln="projectConfig",cn="projectConfigSchema",un="string",pn="choice",dn="integer",mn="integer range",fn="boolean",hn="file",gn=Object.freeze([un,pn,dn,mn,fn,hn]),yn="platformio",bn="env",En=Object.freeze([yn,bn]),vn="platformio",wn="env",On="env:",jn="custom",Pn=Object.freeze([vn,wn,On,jn]),kn=Object.freeze({minRows:1,maxRows:20}),Cn="projectFilter";function Sn(e){return jt(e,Cn)}function Dn(e){return Ot(e,"projects")}function Rn(e){return Ot(e,"projectExamples")}function Tn(e){const t=Sn(e),r=Dn(e);return r?t?ut(r,t,(e=>[e.path,JSON.stringify(e.boards)].join(" "))):r.sort(((e,t)=>t.modified-e.modified)):null}function Nn(e,t){return(Dn(e)||[]).find((e=>e.path===t))}function xn(e){return Ot(e,cn)}function*In(e,t,r,n){const i=yield(0,Z.Ys)(Yr);i[fr]||(i[fr]={});const o=[t,r,e].join(":");i[fr][o]=n,yield(0,Z.gz)(L(dr,i))}function*qn({projectDir:e,env:t}){const r=Date.now();yield(0,Z.RE)(W,{query:"core.call",params:[["run","-d",e,"-e",t,"-t","sizedata"],{force_subprocess:!0}]});const n=yield(0,Z.RE)(W,{query:"project.config_call",params:[{path:lr(e,"platformio.ini")},"get_optional_dir","build"]}),i=lr(n,t,"sizedata.json"),o=yield(0,Z.RE)(W,{query:"os.request_content",params:[i]});if(!o)return;const s=JSON.parse(o);return yield In("memory",e,t,Date.now()-r),s}function*_n({projectDir:e,env:t}){const r=Date.now();let n;try{const n=yield(0,Z.RE)(W,{query:"core.call",params:[["check","-d",e,"-e",t,"--json-output"],{force_subprocess:!0}]});return yield In("code",e,t,Date.now()-r),n}catch(e){n=e,console.warn("Problem has occured when inspecting a code",e)}try{const r=yield(0,Z.RE)(W,{query:"core.call",params:[["check","-d",e,"-e",t,"--verbose"],{force_subprocess:!0}]});throw new Error(r)}catch(e){if(e.data)throw new Error(e.data.replace("\\n","\n"))}throw n}const Ln=[function*(){yield(0,Z.Fm)(vr,(function*({configuration:e,onEnd:t}){try{if(!(yield(0,Z.Ys)(Nn,e.projectDir)))throw new Error(`Can't inspect non-existing project '${e.projectDir}'`);if(!(yield(0,Z.Ys)(Kr,e))){const e=yield(0,Z.Ys)(Hr);if(e&&!e.error)return void(t&&t(e))}yield(0,Z.gz)(I(new RegExp(`^${hr}$`)));const r=yield(0,Z.Ys)(Yr);r[mr]=e,yield(0,Z.gz)(L(dr,r));const n=yield(0,Z.Ys)();n.router&&(yield(0,Z.RE)(at,n.router.history,"/inspect/processing",void 0,!0));const{memory:i,code:o}=e;let s,a;if(i){if(s=yield(0,Z.RE)(qn,e),!s)throw new Error("Memory inspect returned no result");yield(0,Z.gz)(x(hr,{memory:s}))}o&&(a=yield(0,Z.RE)(_n,e)),yield(0,Z.gz)(x(hr,{memory:s,codeChecks:a}));t&&t({memory:s,codeChecks:a}),n.router&&(yield(0,Z.RE)(at,n.router.history,"/inspect/result",void 0,!0))}catch(e){console.error("Exception during inspectProject",e);let r="Exception";e instanceof B.ZP.JsonRpcError?(r=e.message,e.data&&(r+=": "+JSON.stringify(e.data))):r=e instanceof SyntaxError?"Bad JSON":e.toString(),t&&t(void 0,r),yield(0,Z.gz)(x(hr,{error:r}));const n=yield(0,Z.Ys)();n.router&&(yield(0,Z.RE)(at,n.router.history,"/inspect",void 0,!0))}}))},function*(){yield(0,Z.Fm)(wr,(function*({onEnd:e}){const t=yield(0,Z.Ys)(Gr);if(!t)throw new Error("No inspection configuration ro run reinspectProject");yield(0,Z.gz)(I(new RegExp(`^${hr}$`))),yield(0,Z.gz)(Or(t,e))}))}],Fn="LOAD_STATS",An="LOAD_SEARCH_RESULT",Un="LOAD_LIBRARY_DATA",zn="LOAD_BUILTIN_LIBS",Vn="LOAD_INSTALLED_LIBS",$n="LOAD_LIB_UPDATES",Mn="INSTALL_LIBRARY",Zn="UNINSTALL_LIBRARY",Bn="UPDATE_LIBRARY",Yn=()=>m(Fn),Wn=(e,t=1,r)=>m(An,{query:e,page:t,onEnd:r}),Gn=e=>m(Un,{idOrManifest:e}),Kn=()=>m(zn),Hn=()=>m(Vn),Jn=()=>m($n),Qn=(e,t,r=null)=>m(Mn,{storageDir:e,lib:t,onEnd:r}),Xn=(e,t,r=null)=>m(Zn,{storage:e,pkg:t,onEnd:r}),ei=(e,t,r=null)=>m(Bn,{storage:e,pkg:t,onEnd:r});function ti(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ri{constructor(e,t=void 0,r=void 0,n=void 0,i=void 0){this.name=e,this.path=t,this.initialPath=t,this._items=r,this._actions=n||ri.ACTION_REVEAL,this.options=i||{}}get items(){return this._items}set items(e){e&&e.length&&!this.path&&(this.path=cr(e[0].__pkg_dir)),this._items=e}get actions(){return this._actions}set actions(e){"number"==typeof e&&e<=ri.ACTION_ALL&&(this._actions=e)}}function ni(e,t){return e.map((e=>{let r=e.items;return r&&t&&(r=ut(r,t,"name")),new ri(e.name,e.path,r,e.actions,e.options)}))}ti(ri,"ACTION_REVEAL",1),ti(ri,"ACTION_UNINSTALL",2),ti(ri,"ACTION_UPDATE",4),ti(ri,"ACTION_ALL",8);const ii="boardsFilter",oi="frameworksFilter",si="platformEmebddedFilter",ai="platformDesktopFilter",li="platformInstalledFilter",ci="platformUpdatesFilter";function ui(e){return jt(e,ii)}function pi(e){return jt(e,oi)}function di(e){return jt(e,si)}function mi(e){return jt(e,ai)}function fi(e){return jt(e,li)}function hi(e){return jt(e,ci)}function gi(e){return e.entities.boards||null}function yi(e){return e.entities.registryPackages||null}function bi(e){return e.entities.registryPlatforms||null}function Ei(e){return e.entities.registryFrameworks||null}function vi(e){return e.entities.installedPlatforms||null}function wi(e){return e.entities.installedPlatformsData||null}function Oi(e,t){const r=wi(e);return r?r.find((e=>`${e.name}@${e.version}`===t)):null}function ji(e,t,r){if(!r.length||"string"!=typeof r[0])return r;const n=("platforms"===t?bi(e):Ei(e))||[];return r.length&&"*"===r[0]?n.map((e=>({name:e.name,title:e.title}))):r.map((e=>{let t=(r=e)[0].toUpperCase()+r.slice(1);var r;for(const r of n)r.name===e&&(t=r.title);return{name:e,title:t}}))}function Pi(e){const t=gi(e);return t?t.map((t=>{const r=Object.assign({},t);return r.platform=ji(e,"platforms",[r.platform])[0],r.frameworks=ji(e,"frameworks",r.frameworks),r})):null}function ki(e){const t=di(e);let r=bi(e);return r?(r=r.filter((e=>!e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=ji(e,"frameworks",r.frameworks),r})),t?ut(r,t,"name"):r):null}function Ci(e){const t=mi(e);let r=bi(e);return r?(r=r.filter((e=>e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=ji(e,"frameworks",r.frameworks),r})),t?ut(r,t,"name"):r):null}function Si(e,t){let r=null;if(r=t.includes("@")?Oi(e,t):(bi(e)||[]).find((e=>e.name===t)),!r)return null;if(r=Object.assign({},r),r.frameworks&&r.frameworks.length&&(r.frameworks=ji(e,"frameworks",r.frameworks)),r.packages&&r.packages.length&&(r.packages=function(e,t){if(!t.length||"string"!=typeof t[0])return t;const r=yi(e);return t.map((e=>r?{name:e,url:r[e].url,description:r[e].description}:{name:e}))}(e,r.packages)),!r.boards){const t=gi(e);t&&(r.boards=t.filter((e=>e.platform===r.name)).map((e=>Object.assign({},e))))}return r.boards&&(r.boards=r.boards.map((t=>(t.platform=ji(e,"platforms",[t.platform])[0],t.frameworks=ji(e,"frameworks",t.frameworks),t)))),r}function Di(e,t){let r=(Ei(e)||[]).find((e=>e.name===t));if(!r)return null;r=Object.assign({},r),r.platforms&&r.platforms.length&&(r.platforms=ji(e,"platforms",r.platforms));const n=gi(e);return n&&(r.boards=n.filter((e=>e.frameworks.includes(r.name))).map((e=>Object.assign({},e))),r.boards=r.boards.map((t=>(t.platform=ji(e,"platforms",[t.platform])[0],t.frameworks=ji(e,"frameworks",t.frameworks),t)))),r}function Ri(e){const t=fi(e);let r=vi(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=ji(e,"frameworks",r.frameworks),r})),t?ut(r,t,"name"):r):null}function Ti(e){const t=hi(e);let r=function(e){return e.entities.platformUpdates||null}(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=ji(e,"frameworks",r.frameworks),r})),t?ut(r,t,"name"):r):null}function Ni(e){const t=pi(e);let r=Ei(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.platforms=ji(e,"platforms",r.platforms),r})),t?ut(r,t,"name"):r):null}const xi="libBuiltinFilter",Ii="libInstalledFilter",qi="libUpdatesFilter";function _i(e){return jt(e,xi)}function Li(e){return jt(e,Ii)}function Fi(e){return jt(e,qi)}function Ai(e,t=0){return[e,t].join()}function Ui(e){return e.entities.libSearch||null}function zi(e,t,r=1){const n=Ui(e);if(!n)return null;const i=n.find((e=>e.key===Ai(t,r)));return i?i.result:null}function Vi(e){return e.entities.libStats||null}function $i(e){return e.entities.registryLibs||null}function Mi(e,t){const r=$i(e);return r&&r.find((e=>e.id===t))||null}function Zi(e,t){if("number"==typeof t)return Mi(e,parseInt(t));if(!bi(e)||!Ei(e))return null;const r=Object.assign({},t);for(const t of["platforms","frameworks"])!r[t]||0===r[t].length||"object"==typeof r[t][0]&&r[t][0].name||(r[t]=ji(e,t,r[t]));r.repository&&r.repository.url&&(r.repository=r.repository.url);for(const e of["authors","frameworks","platforms","keywords"])r[e]=r[e]||[];return r}function Bi(e){return e.entities.builtinLibs||null}function Yi(e){const t=_i(e);let r=Bi(e);return r?(r=r.filter((e=>e.items.length)).map((e=>new ri(e.name,e.path,e.items))),t?ni(r,t):r):null}function Wi(e){const t=Dn(e)||[],r=[];return t.forEach((e=>{e.envLibStorages&&e.envLibStorages.forEach((t=>{r.push(new ri(`Project: ${e.name} > ${t.name}`,t.path,void 0,void 0,{projectDir:e.path,projectEnv:t.name}))})),e.extraLibStorages.forEach((t=>{r.push(new ri(`Storage: ${t.name}`,t.path,void 0,void 0,{projectDir:e.path}))}))})),r.push(new ri("Global storage")),r}function Gi(e){return Wi(e).map((t=>{const r=`installedLibs${t.initialPath}`;return e.entities[r]&&(t.items=e.entities[r]),t.actions=ri.ACTION_REVEAL|ri.ACTION_UNINSTALL,t}))}function Ki(e){const t=Li(e),r=Gi(e);return r?t?ni(r,t):r:null}function Hi(e){const t=Fi(e),r=function(e){return Wi(e).map((t=>{const r=`libUpdates${t.initialPath}`;return e.entities[r]&&(t.items=e.entities[r]),t.actions=ri.ACTION_REVEAL|ri.ACTION_UPDATE,t}))}(e);return r?t?ni(r,t):r:null}const Ji="LOAD_BOARDS",Qi="LOAD_REGISTRY_PLATFORMS",Xi="LOAD_REGISTRY_FRAMEWORKS",eo="LOAD_PLATFORM_DATA",to="LOAD_FRAMEWORK_DATA",ro="LOAD_INSTALLED_PLATFORMS",no="LOAD_PLATFORM_UPDATES",io="INSTALL_PLATFORM",oo="UNINSTALL_PLATFORM",so="UPDATE_PLATFORM",ao=()=>m(Ji),lo=()=>m(Qi),co=()=>m(Xi),uo=e=>m(eo,{name:e}),po=e=>m(to,{name:e}),mo=()=>m(ro),fo=()=>m(no),ho=(e,t=void 0)=>m(io,{platform:e,onEnd:t}),go=(e,t=void 0)=>m(oo,{pkgDir:e,onEnd:t}),yo=(e,t=void 0)=>m(so,{pkgDir:e,onEnd:t});function*bo(e){let t=[];try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","search","--json-output"]]})}catch(t){e?console.error(t):yield(0,Z.gz)(me("Platforms: Registry",t))}yield(0,Z.gz)(x("registryPlatforms",t))}function*Eo(e){let t=[];try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","frameworks","--json-output"]]})}catch(t){e?console.error(t):yield(0,Z.gz)(me("Platforms: Frameworks",t))}yield(0,Z.gz)(x("registryFrameworks",t))}function*vo(e){const t=[];(yield(0,Z.Ys)(bi))||t.push((0,Z.RE)(bo,e)),(yield(0,Z.Ys)(Ei))||t.push((0,Z.RE)(Eo,e)),yield(0,Z.$6)(t)}function*wo(){if(!(yield(0,Z.Ys)(gi)))try{let e=yield(0,Z.RE)(W,{query:"core.call",params:[["boards","--json-output"]]});e=e.map((e=>(e.frameworks=e.frameworks||[],e))),yield(0,Z.gz)(x("boards",e))}catch(e){yield(0,Z.gz)(me("Could not load boards list",e))}}function*Oo(){if(yield(0,Z.Ys)(yi))return;let e=null;try{e=yield(0,Z.RE)((()=>{const e=Zt().get(`${U}/packages`);return new Promise(((t,r)=>{e.end(((e,n)=>e||!n.ok?r(e):t(n.body)))}))}))}catch(e){}yield(0,Z.gz)(x("registryPackages",e))}const jo=[function*(){for(;;)yield(0,Z.qn)(Ji),yield(0,Z.RE)(vo,true),yield(0,Z.RE)(wo)},function*(){yield(0,Z.ib)([Qi,Xi],(function*(){yield(0,Z.RE)(vo)}))},function*(){yield(0,Z.Fm)(eo,(function*({name:e}){const t=e.includes("@");if(yield(0,Z.RE)(vo,t),e.includes("@")){if(yield(0,Z.Ys)(Oi,e))return;try{const t=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","show",e,"--json-output"]]}),r=(yield(0,Z.Ys)(wi))||[];r.push(t),yield(0,Z.gz)(x("installedPlatformsData",r.slice(-10)))}catch(e){if(e instanceof B.ZP.JsonRpcError&&e.data.includes("Error: Unknown development platform")){yield(0,Z.gz)(I(/^installedPlatforms/));const e=yield(0,Z.Ys)();if(e.router)return at(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,Z.gz)(me("Could not load platform data",e))}}else yield(0,Z.$6)([(0,Z.RE)(wo),(0,Z.RE)(Oo)])}))},function*(){yield(0,Z.Fm)(to,(function*(){yield(0,Z.$6)([(0,Z.RE)(vo,!1),(0,Z.RE)(wo)])}))},function*(){yield(0,Z.Fm)(ro,(function*(){(yield(0,Z.Ys)(vi))||(yield(0,Z.RE)((function*(){let e,t=0;for(;t<3;){t++;try{const e=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","list","--json-output"]]});return yield(0,Z.gz)(x("installedPlatforms",e))}catch(t){e=t}if(e instanceof B.ZP.JsonRpcError&&!e.data.includes("Error: Unknown development platform"))break}yield(0,Z.gz)(me("Could not load installed platforms",e))})))}))},function*(){for(;;)yield(0,Z.qn)(no),yield(0,Z.gz)(I(/^platformUpdates/)),yield(0,Z.gz)(he("/platforms/updates",0)),yield(0,Z.RE)((function*(){try{const e=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,Z.gz)(x("platformUpdates",e))}catch(e){yield(0,Z.gz)(me("Could not load platform updates",e))}}))},function*(){yield(0,Z.qn)(h);const e=yield(0,Z.Ys)(kt,"coreSettings"),t=parseInt(e&&e.check_platforms_interval?e.check_platforms_interval.value:0);if(t<=0)return;const r="lastCheckPlatformUpdates",n=(new Date).getTime();if(!(n<((yield(0,Z.Ys)(kt,r))||0)+86400*t*1e3)){yield(0,Z.gz)(L(r,n));try{const e=yield(0,Z.RE)(W,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,Z.gz)(he("/platforms/updates",e.length))}catch(e){console.error("Failed check of PIO Core platform updates",e)}}},function*(){yield(0,Z.ib)(io,(function*({platform:e,onEnd:t}){let r,n=null;try{const t=(new Date).getTime();n=yield(0,Z.RE)(W,{query:"core.call",params:[["pkg","install","--global","--platform",e],{force_subprocess:!0}]}),rt.ZP.timing({category:"Platform",variable:"install",value:(new Date).getTime()-t,label:e}),yield(0,Z.gz)(I(/^installedPlatforms/)),yield(0,Z.gz)(fe("Platform has been successfully installed",n))}catch(e){r=e,yield(0,Z.gz)(me("Could not install platform",r))}finally{t&&(yield(0,Z.RE)(t,r,n))}}))},function*(){yield(0,Z.ib)([oo,so],(function*(e){const{pkgDir:t,onEnd:r}=e;let n=null;try{const r=yield(0,Z.RE)(W,{query:"core.call",params:[["platform",e.type===oo?"uninstall":"update",t],{force_subprocess:!0}]});e.type===so&&(yield(0,Z.gz)(I(/^installedPlatforms/)));const n=yield(0,Z.Ys)();for(const e of Object.keys(n.entities))["installedPlatformsData","installedPlatforms","platformUpdates"].includes(e)&&n.entities[e].find((e=>e.__pkg_dir===t))&&(yield(0,Z.gz)(x(e,n.entities[e].filter((e=>e.__pkg_dir!==t)))));yield(0,Z.gz)(fe("Platform has been successfully "+(e.type===oo?"uninstalled":"updated"),r))}catch(t){if(n=t,n instanceof B.ZP.JsonRpcError&&n.data.includes("Error: Unknown development platform")){yield(0,Z.gz)(I(/^installedPlatforms/));const e=yield(0,Z.Ys)();if(e.router)return at(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,Z.gz)(me("Could not load platform data",n));yield(0,Z.gz)(me(`Could not ${e.type===oo?"uninstall":"update"} platform`,n))}finally{r&&(yield(0,Z.RE)(r,n))}}))}],Po="ADD_PROJECT",ko="HIDE_PROJECT",Co="OPEN_PROJECT",So="IMPORT_PROJECT",Do="LOAD_PROJECTS",Ro="PROJECTS_LOADED",To="INIT_PROJECT",No="IMPORT_ARDUINO_PROJECT",xo="LOAD_PROJECT_EXAMPLES",Io="LOAD_CONFIG_SCHEMA",qo="LOAD_PROJECT_CONFIG",_o="SAVE_PROJECT_CONFIG",Lo="UPDATE_CONFIG_DESCRIPTION",Fo="LOAD_SERIAL_PORTS",Ao=(e,t={withOpen:!0,withReload:!0,onEnd:void 0})=>m(Po,{projectDir:e,options:t}),Uo=e=>m(ko,{projectDir:e}),zo=e=>m(Co,{projectDir:e}),Vo=(e,t=void 0)=>m(So,{projectDir:e,onEnd:t}),$o=e=>m(Do,{force:e}),Mo=()=>m(Ro),Zo=(e,t,r,n,i=void 0)=>m(To,{board:e,framework:t,projectDir:r,spineDir:n,onEnd:i}),Bo=(e,t,r,n=void 0)=>m(No,{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}),Yo=()=>m(xo),Wo=()=>m(Io),Go=e=>m(qo,{projectDir:e}),Ko=(e,t,r,n)=>m(_o,{projectDir:e,data:t,options:r,onEnd:n}),Ho=(e,t,r)=>m(Lo,{projectDir:e,description:t,onEnd:r});class Jo extends Error{constructor(e){super("Cant override modified config file"),this.loadedAt=e.loadedAt,this.modifiedAt=e.modifiedAt}}function Qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(r),!0).forEach((function(t){es(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function es(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ts="recentProjects";function*rs(){yield(0,Z.gz)($o()),yield(0,Z.qn)(Ro)}function*ns(e,t){const r=(yield(0,Z.Ys)(Dn))||[],n=r.find((t=>t.path===e));if(!n)return;const i=Xo(Xo({},n),t),o=r.map((e=>e===n?i:e));return yield(0,Z.gz)(x("projects",o)),n}const is=[function*(){yield(0,Z.ib)(Po,(function*({projectDir:e,options:t}){const r=lr(e,"platformio.ini");if(!(yield(0,Z.RE)(W,{query:"os.is_file",params:[r]})))return void(t.onEnd&&(yield(0,Z.RE)(t.onEnd,'This is not PlatformIO Project (should contain "platformio.ini" file).',e)));const n=(yield(0,Z.Ys)(kt,ts))||[];n.includes(e)||(yield(0,Z.gz)(L(ts,[...n,e])),yield(0,Z.gz)(N())),t.withReload&&(yield(0,Z.gz)(I(/^projects/)),yield(0,Z.gz)($o())),t.withOpen&&(yield(0,Z.gz)(zo(e))),t.onEnd&&(yield(0,Z.RE)(t.onEnd,void 0,e))}))},function*(){yield(0,Z.ib)(ko,(function*({projectDir:e}){const t=(yield(0,Z.Ys)(kt,ts))||[],r=(yield(0,Z.Ys)(Dn))||[];yield(0,Z.gz)(L(ts,t.filter((t=>t!==e)))),yield(0,Z.gz)(N()),yield(0,Z.gz)(x("projects",r.filter((t=>t.path!==e))))}))},function*(){yield(0,Z.ib)(te,(function*({src:e,dst:t}){const r=(yield(0,Z.Ys)(kt,ts))||[];r.includes(e)&&(r.includes(t)||r.push(t),yield(0,Z.gz)(L(ts,r.filter((t=>t!==e)))),yield(0,Z.gz)(N()),(yield(0,Z.Ys)(Dn))&&(yield(0,Z.gz)(I(/^projects/)),yield(0,Z.gz)($o())))}))},function*(){yield(0,Z.ib)(Co,(function*({projectDir:e}){try{return yield(0,Z.RE)(W,{query:"ide.send_command",params:["open_project",e]})}catch(t){console.warn(t),yield(0,Z.gz)(be(e))}gt.Z.success({title:"Open Project...",content:zt.createElement("div",{style:{wordBreak:"break-all"}},zt.createElement("div",{className:"block"},"Project has been successfully configured and is located by this path:"," ",zt.createElement("code",null,e),"."),"You can open it with your favourite IDE or process with"," ",zt.createElement("kbd",null,"platformio run")," command.")})}))},function*(){for(;;){const{force:e=!1}=yield(0,Z.qn)(Do)||{};let t;if(e||(t=yield(0,Z.Ys)(Dn),!t)){try{const{ideProjects:e}=yield(0,Z.S3)({ideProjects:(0,Z.RE)(W,{query:"ide.send_command",params:["get_pio_project_dirs"]}),timeout:(0,Z.gw)(2e3)}),t=(yield(0,Z.Ys)(kt,ts))||[];let r=!1;for(const n of e||[])t.includes(n)||(t.push(n),r=!0);r&&((yield(0,Z.Ys)(kt,"coreVersion"))||(yield(0,Z.qn)(h)),yield(0,Z.gz)(L(ts,t)),yield(0,Z.gz)(N()),yield(0,Z.qn)(v))}catch(e){console.warn("Could not fetch projects from IDE",e)}try{t=yield(0,Z.RE)(W,{query:"project.get_projects"}),yield(0,Z.gz)(x("projects",t)),yield(0,Z.gz)(Mo())}catch(e){yield(0,Z.gz)(me("Could not load recent projects",e))}}else yield(0,Z.gz)(Mo())}},function*(){for(;;){yield(0,Z.qn)(xo);let e=yield(0,Z.Ys)(Rn);if(!e)try{e=yield(0,Z.RE)(W,{query:"project.get_project_examples"}),yield(0,Z.gz)(x("projectExamples",e))}catch(e){yield(0,Z.gz)(me("Could not load project examples",e))}}},function*(){yield(0,Z.ib)([io,oo,so],(function*(){yield(0,Z.gz)(I(/^projectExamples/))}))},function*(){for(;;){const{projectDir:e,onEnd:t}=yield(0,Z.qn)(So);let r,n=null;try{const t=(new Date).getTime();n=yield(0,Z.RE)(W,{query:"project.import_pio",params:[e]}),rt.ZP.timing({category:"Project",variable:"import",value:(new Date).getTime()-t,label:e}),yield(0,Z.gz)(fe("Project has been successfully imported",`Location: ${n}`))}catch(e){r=e,yield(0,Z.gz)(me("Could not import project",r))}finally{t&&(yield(0,Z.RE)(t,r,n))}}},function*(){for(;;){const{board:e,framework:t,projectDir:r,spineDir:n,onEnd:i}=yield(0,Z.qn)(To);let o,s=null;try{const i=(new Date).getTime();s=yield(0,Z.RE)(W,{query:"project.init",params:[e,t,r,n]}),rt.ZP.timing({category:"Project",variable:"init",value:(new Date).getTime()-i,label:e}),yield(0,Z.gz)(fe("Project has been successfully initialized",`Board: ${e}, framework: ${t}, location: ${s}`))}catch(n){o=n,console.error("Error initializing project:",o),yield(0,Z.gz)(me("Could not initialize project",`Board: ${e}, framework: ${t}, spinelocation: ${r}, projectDir: ${r}, result: ${s}`))}finally{i&&(yield(0,Z.RE)(i,o,s))}}},function*(){for(;;){const{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}=yield(0,Z.qn)(No);let i,o=null;try{const n=(new Date).getTime();o=yield(0,Z.RE)(W,{query:"project.import_arduino",params:[e,t,r]}),rt.ZP.timing({category:"Project",variable:"import_arduino",value:(new Date).getTime()-n,label:e}),yield(0,Z.gz)(fe("Project has been successfully imported",`Board: ${e}, new location: ${o}`))}catch(e){i=e,i instanceof B.ZP.JsonRpcError&&i.message.includes("Not an Arduino project")?M.Z.error(`${i.message} (Project should contain .ino or .pde file with the same name as project folder)`,10):yield(0,Z.gz)(me("Could not import Arduino project",i))}finally{n&&(yield(0,Z.RE)(n,i,o))}}},function*(){yield(0,Z.Fm)(Io,(function*(){try{const e=yield(0,Z.RE)(W,{query:"project.get_config_schema"}),t={};for(const r of e){const{scope:e}=r;t[e]||(t[e]=[]),t[e].push(r)}yield(0,Z.gz)(x(cn,t))}catch(e){e instanceof B.ZP.JsonRpcError||(yield(0,Z.gz)(me("Could not load config schema",e)))}}))},function*(){yield(0,Z.Fm)(qo,(function*({projectDir:e}){try{yield(0,Z.gz)(I(new RegExp(`^${ln}$`)));const t=lr(e,"platformio.ini"),r=yield(0,Z.RE)(W,{query:"project.config_load",params:[t]}),n=yield(0,Z.RE)(W,{query:"os.get_file_mtime",params:[t]}),i=r.map((([e,t])=>({section:e,items:t.map((([e,t])=>({name:e,value:t})))})));yield(0,Z.gz)(x(ln,{config:i,mtime:n}))}catch(e){yield(0,Z.gz)(me("Could not load project config",e));const t=yield(0,Z.Ys)();t.router&&(yield(0,Z.RE)(at,t.router.history,"/projects",void 0,!0))}}))},function*(){yield(0,Z.Fm)(_o,(function*({projectDir:e,data:t,options:r,onEnd:n}){const{mtime:i,force:o}=r||{};let s;try{yield(0,Z.RE)(Gt,"project-config-save",{content:"Warning!\n          The entire file contents of platformio.ini will be rewritten with the current\n          configuration defined in this UI.\n          Continue to save the configuration?",okText:"Save"});const r=lr(e,"platformio.ini");if(!o){const e=yield(0,Z.RE)(W,{query:"os.get_file_mtime",params:[r]});if(e-i>1e-5)throw new Jo({loadedAt:i,modifiedAt:e})}yield(0,Z.RE)(W,{query:"project.config_dump",params:[r,t]}),M.Z.success("Project configuration saved");const n=yield(0,Z.RE)(W,{query:"os.get_file_mtime",params:[r]}),s=yield(0,Z.Ys)(Ot,ln);yield(0,Z.gz)(x(ln,Xo(Xo({},s),{},{mtime:n}))),yield(0,Z.gz)($o(!0))}catch(e){s=e,e&&(e instanceof Ut||e instanceof Jo)||(yield(0,Z.gz)(me("Could not save project config",e)))}finally{yield(0,Z.RE)(n,s)}}))},function*(){yield(0,Z.Fm)(Lo,(function*({projectDir:e,description:t,onEnd:r}){let n,i;try{i=yield ns(e,{description:t}),yield(0,Z.RE)(W,{query:"project.config_update_description",params:[lr(e,"platformio.ini"),t]}),M.Z.success("Project description is saved into configuration file")}catch(t){n=t,yield(0,Z.gz)(me("Could not update project description",t)),i&&(yield ns(e,{description:i.description})),console.error(t)}finally{r&&(yield(0,Z.RE)(r,n))}}))}];function os(e){return e.replace(/^Library Manager:/gm,"")}function*ss(e){let t=["lib"];return e.options&&e.options.projectDir&&e.options.projectEnv?t=t.concat(["--storage-dir",e.options.projectDir,"--environment",e.options.projectEnv]):e.path?t=t.concat(["--storage-dir",e.path]):t.push("--global"),t=t.concat(["update","--only-check","--json-output"]),yield(0,Z.RE)(W,{query:"core.call",params:[t,{force_subprocess:!0}]})}const as=[function*(){function*e(e){yield lt(e),yield(0,Z.gz)(x("libStats",null))}yield(0,Z.Fm)(Fn,(function*(){let t=yield(0,Z.Ys)(Vi);if(!t){try{t=yield(0,Z.RE)(W,{query:"core.call",params:[["lib","stats","--json-output"]]}),yield(0,Z.gz)(x("libStats",t))}catch(e){return yield(0,Z.gz)(me("Libraries: Stats",e))}yield(0,Z.rM)(e,36e5)}}))},function*(){yield(0,Z.Fm)(An,(function*({query:e,page:t,onEnd:r}){let n=yield(0,Z.Ys)(zi,e,t);if(n)return void(r&&r());try{let r=["lib","search"];e&&r.push(e),r=r.concat(["--page",t,"--json-output"]),n=yield(0,Z.RE)(W,{query:"core.call",params:[r]})}catch(e){return r&&r(e),yield(0,Z.gz)(me("Libraries: Search",e))}const i=(yield(0,Z.Ys)(Ui))||[];i.push({key:Ai(e,t),result:n}),yield(0,Z.gz)(x("libSearch",i.slice(-10))),r&&r()}))},function*(){yield(0,Z.Fm)(Un,(function*({idOrManifest:e}){switch(typeof e){case"number":if(yield(0,Z.Ys)(Mi,parseInt(e)))return;try{const t=yield(0,Z.RE)(W,{query:"core.call",params:[["lib","show",e,"--json-output"]]}),r=(yield(0,Z.Ys)($i))||[];r.push(t),yield(0,Z.gz)(x("registryLibs",r.slice(-10)))}catch(e){return yield(0,Z.gz)(me("Libraries: Data",e))}break;case"object":{const e=!0;yield(0,Z.RE)(vo,e);break}}}))},function*(){for(;;){yield(0,Z.qn)(zn);let e=yield(0,Z.Ys)(Bi);if(!e)try{e=yield(0,Z.RE)(W,{query:"core.call",params:[["lib","builtin","--json-output"],{force_subprocess:!0}]}),yield(0,Z.gz)(x("builtinLibs",e))}catch(e){return yield(0,Z.gz)(me("Libraries: Builtin",e))}}},function*(){for(;;){yield(0,Z.qn)(Vn),yield(0,Z.RE)(rs);const e=yield(0,Z.Ys)(Gi);for(const t of e)t.items||(yield(0,Z.rM)((function*(){try{let e=["lib"];t.path?e=e.concat(["--storage-dir",t.path]):e.push("--global"),e=e.concat(["list","--json-output"]);const r=yield(0,Z.RE)(W,{query:"core.call",params:[e,{force_subprocess:!0}]});yield(0,Z.gz)(x(`installedLibs${t.initialPath}`,r))}catch(e){return e instanceof B.ZP.JsonRpcError&&e.data.includes("does not exist")?yield(0,Z.gz)(x(`installedLibs${t.initialPath}`,[])):yield(0,Z.gz)(me("Libraries: Installed",e))}})))}},function*(){for(;;){yield(0,Z.qn)($n),yield(0,Z.gz)(I(/^libUpdates/)),yield(0,Z.gz)(he("/libraries/updates",0));const e=yield(0,Z.Ys)(Wi);for(const t of e)yield(0,Z.rM)((function*(){try{yield(0,Z.gz)(x(`libUpdates${t.initialPath}`,yield(0,Z.RE)(ss,t)))}catch(e){return yield(0,Z.gz)(me("Libraries: Updates",e))}}))}},function*(){yield(0,Z.qn)(h);const e=yield(0,Z.Ys)(kt,"coreSettings"),t=parseInt(e&&e.check_libraries_interval?e.check_libraries_interval.value:0);if(t<=0)return;const r="lastCheckLibraryUpdates",n=(new Date).getTime();if(n<((yield(0,Z.Ys)(kt,r))||0)+86400*t*1e3)return;yield(0,Z.gz)(L(r,n)),yield(0,Z.RE)(rs);let i=0;const o=yield(0,Z.Ys)(Wi);for(const e of o)try{i+=(yield(0,Z.RE)(ss,e)).length}catch(t){console.error("Failed check of PIO Core library updates for "+e.path,t)}yield(0,Z.gz)(he("/libraries/updates",i))},function*(){yield(0,Z.ib)(Mn,(function*({storageDir:e,lib:t,onEnd:r}){yield(0,Z.gz)(I(/^installedLibs/));let n,i=null;try{let r=["pkg","install"];const n=!!e&&(yield(0,Z.RE)(W,{query:"os.is_file",params:[lr(e,"platformio.ini")]}));e&&(r=r.concat([n?"--project-dir":"--storage-dir",e])),n||r.push("--global"),r=r.concat(["--library",t]),i=yield(0,Z.RE)(W,{query:"core.call",params:[r,{force_subprocess:!0}]}),yield(0,Z.gz)(fe("Congrats!",os(i)))}catch(e){n=e,yield(0,Z.gz)(me("Libraries: Could not install library",n))}finally{r&&(yield(0,Z.RE)(r,n,i))}}))},function*(){yield(0,Z.ib)([Zn,Bn],(function*(e){const{storage:t,pkg:r,onEnd:n}=e;let i;try{const n=yield(0,Z.RE)(W,{query:"core.call",params:[e.type===Zn&&t.options&&t.options.projectDir&&t.options.projectEnv?["lib","--storage-dir",t.options.projectDir,"--environment",t.options.projectEnv,e.type===Zn?"uninstall":"update",`${r.ownername?`${r.ownername}/`:""}${r.name}@${r.version}`]:["lib","--storage-dir",t.path,e.type===Zn?"uninstall":"update",r.__pkg_dir],{force_subprocess:!0}]});e.type===Bn&&(yield(0,Z.gz)(I(/^installedLibs/)));const i=yield(0,Z.Ys)();for(const e of Object.keys(i.entities))(e.startsWith("installedLibs")||e.startsWith("libUpdates"))&&i.entities[e].find((e=>e.__pkg_dir===r.__pkg_dir))&&(yield(0,Z.gz)(x(e,i.entities[e].filter((e=>e.__pkg_dir!==r.__pkg_dir)))));yield(0,Z.gz)(fe("Congrats!",os(n)))}catch(t){if(i=t,i instanceof B.ZP.JsonRpcError&&i.data.includes("Error: Could not find the package")){yield(0,Z.gz)(I(/^installedLibs/)),e.type===Zn&&(yield(0,Z.gz)(Hn()));const t=yield(0,Z.Ys)();if(t.router)return at(t.router.history,"/libraries/installed",void 0,!0)}else yield(0,Z.gz)(me(`Libraries: Could not ${e.type===Zn?"uninstall":"update"} library`,i))}finally{n&&(yield(0,Z.RE)(n,i))}}))}];const ls=[function*(){yield(0,Z.Fm)(h,(function*(){const e=yield(0,Z.Ys)(Pt);if(!e.cid||e.coreSettings&&e.coreSettings.enable_telemetry&&!e.coreSettings.enable_telemetry.value)return;rt.ZP.initialize("UA-1768265-9",{debug:!1,titleCase:!1,gaOptions:{clientId:e.cid}});let t=`PlatformIO/${e.coreVersion}`;e.coreCaller&&(t+=`Caller/${e.coreCaller}`);const r={appId:"core.home",appVersion:"3.4.4",appName:t,dimension1:e.coreSystype,dimension4:1};e.coreCaller&&(r.dimension5=e.coreCaller),rt.ZP.set(r),rt.ZP.ga("send","screenview",{screenName:st()})}))},function*(){const e=[Mn,Zn,Bn,io,oo,so];yield(0,Z.ib)(e,(function(e){let t="";e.type.endsWith("_LIBRARY")?t=e.lib||(e.pkgDir?ur(e.pkgDir):""):e.type.endsWith("_PLATFORM")&&(t=e.platform||(e.pkgDir?ur(e.pkgDir):"")),rt.ZP.event({category:"Package",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,Z.ib)([No,So,To,ko,Co],(function(e){let t=e.board||void 0;!t&&e.projectDir&&(t=lr(ur(cr(e.projectDir)),ur(e.projectDir))),rt.ZP.event({category:"Project",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,Z.ib)(X,(function({url:e}){rt.ZP.event({category:"Misc",action:"Outbound",label:e})}))},function*(){yield(0,Z.ib)(Q,(function({value:e}){rt.ZP.event({category:"Misc",action:"ShowAtStartup",label:e?1:0})}))}];function*cs(){yield(0,Z.Fm)(g,(function*(){try{const e=yield(0,Z.RE)(W,{query:"app.get_state"});e.inputValues&&delete e.inputValues,yield(0,Z.gz)(T(e)),yield(0,Z.gz)(S())}catch(e){return yield(0,Z.gz)(me("Could not load lastest application state",e))}}))}function*us(){const e=[E,k,C];yield(0,Z.Fm)(e,(function*(e){e.type!==E&&(yield(0,Z.RE)(lt,2e3));try{const e=(yield(0,Z.Ys)())||{},t={storage:Object.assign({},e.storage)};t.storage.coreSettings&&delete t.storage.coreSettings;if(!(yield(0,Z.RE)(W,{query:"app.save_state",params:[t]})))throw new Error("Received invalid result after saving application state");yield(0,Z.gz)(D())}catch(e){return yield(0,Z.gz)(me("Could not save application state",e))}}))}function*ps(){yield(0,Z.Fm)(P,(function*({key:e,value:t}){yield(0,Z.RE)(lt,A),yield(0,Z.gz)(q(e,t))}))}function*ds(){yield(0,Z.$6)([cs,us,ps,...ls,...ht,...Kt,...nr,...sr,...as,...is,...jo,...Ln].map((e=>e())))}let ms=null;function fs(){return ms||function(e){const t=(0,u.ZP)(),r=[Ne,G({endpoint:$}),t];0;const n=(0,c.MT)(qe,e||{},(0,c.md)(...r));n.close=()=>n.dispatch(u.uR),t.run(ds),ms=n,n.dispatch(R())}(),ms}r("ppZR");var hs,gs,ys,bs=r("d2CI"),Es=(r("93XW"),r("d1El")),vs=r("EUne"),ws=r("Oq/Y"),Os=r("17x9"),js=r.n(Os),Ps=r("sx21");class ks extends zt.Component{render(){return zt.createElement(yt.default,{type:"default",shape:"circle",icon:"user",title:"PIO Account",onClick:()=>this.props.showInformationPage()})}}hs=ks,gs="propTypes",ys={router:js().object.isRequired,showInformationPage:js().func.isRequired},(gs=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(gs))in hs?Object.defineProperty(hs,gs,{value:ys,enumerable:!0,configurable:!0,writable:!0}):hs[gs]=ys;const Cs=(0,Ps.$j)((function(e,t){return{showInformationPage:()=>at(t.router.history,"/account")}}))(ks);r("FGdI");var Ss=r("Pbn2");class Ds extends zt.Component{render(){return zt.createElement("span",{className:"anticon custom-icon"},this.renderIcon())}renderIcon(){return"axis"===this.props.type?this.renderAxis():null}renderAxis(){return zt.createElement("svg",{viewBox:"15 15 171 171",xmlns:"http://www.w3.org/2000/svg",className:"custom-icon-axis"},zt.createElement("g",null,zt.createElement("line",{y2:"110.50676",x2:"93",y1:"36.5",x1:"93",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none"}),zt.createElement("line",{y2:"170.745738",x2:"67.478044",y1:"103.563212",x1:"67.478044",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(47.04828643798828 67.47804260253903,137.15447998046878)"}),zt.createElement("line",{y2:"150.50338",x2:"126",y1:"76.49662",x1:"126",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(-90 126.00000000000001,113.50000000000001)"})))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ds,"propTypes",{type:js().string.isRequired});const Rs={platformio:r("umR1").Z,aceinna:r("OYSl").Z},Ts=Rs[getQueryVariable("workspace")]||Rs.platformio;function Ns(e,t=void 0){return Ts[e]||t}function xs(e){return Ts.messages[e]||e}function Is(e,t=void 0){return Ts.urls[e]||t}class qs extends zt.Component{render(){return zt.createElement(bs.Z.Footer,null,zt.createElement("center",null,zt.createElement("div",{className:"block"},this.renderQuickLinks()),"platformio"===Ns("name")?this.renderPIOCoreBanner():this.renderPoweredByPlatformIO()))}renderQuickLinks(){const e=Ns("footerQuickLinks",[]),t=[];return e.forEach(((r,n)=>{t.push(zt.createElement("a",{onClick:()=>this.props.osOpenUrl(r.url)},r.title)),n<e.length-1&&t.push("·")})),zt.createElement("ul",{className:"list-inline"},t.map(((e,t)=>zt.createElement("li",{key:t},e))))}renderPIOCoreBanner(){return zt.createElement("div",{className:"block"},"If you enjoy using PlatformIO, please star our projects on GitHub!",zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(Ss.default,{type:"star"})),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-core")},"PlatformIO Core")),zt.createElement("li",null,zt.createElement(Ss.default,{type:"star"}))))}renderPoweredByPlatformIO(){return zt.createElement("div",{className:"powered-by-platformio"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"Powered by"),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://platformio.org")},zt.createElement("img",{src:r("Ggwo").Z,height:"38"}))),zt.createElement("li",{className:"pio-company-text"},zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://platformio.org")},zt.createElement("h3",null,"PlatformIO ",zt.createElement("small",null,"Enterprise"))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(qs,"propTypes",{osOpenUrl:js().func.isRequired});const _s=(0,Ps.$j)(null,{osOpenUrl:ye})(qs);class Ls extends zt.Component{render(){return zt.createElement("img",{src:Ns("companyLogoSrc"),height:this.props.height||"200px"})}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ls,"propTypes",{width:js().string,height:js().string});class Fs extends zt.Component{onDidOpen(){this.props.osOpenUrl(window.location.href)}render(){return it()?zt.createElement(yt.default,{icon:"arrows-alt",title:"Open in browser",onClick:()=>this.onDidOpen()}):null}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fs,"propTypes",{osOpenUrl:js().func.isRequired});const As=(0,Ps.$j)(null,{osOpenUrl:ye})(Fs);r("CbT5");var Us=r("RWbP"),zs=(r("PFYH"),r("Jv8k"));class Vs extends zt.Component{constructor(){super(...arguments),this.state={selectedKeys:[]},this._matchedBadges=[],this.props.connectRouter(this.props.router)}componentDidUpdate(e){this.props.router.route.location.pathname!==e.router.route.location.pathname&&this.setState({selectedKeys:[this.activeRouteKey()]})}componentDidMount(){this.setState({selectedKeys:[this.activeRouteKey()]})}activeRouteKey(){for(const e of this.props.routes.slice(0).reverse())if(e.label&&this.props.router.history.location.pathname.startsWith(e.path))return e.path}getRouteBadgeCount(e){if(!this.props.badges||"/"===e)return 0;for(const t of this.props.badges)if(t.path.startsWith(e)&&!this._matchedBadges.includes(t.path))return this._matchedBadges.push(t.path),t.count;return 0}render(){this._matchedBadges=[];const e=this.props.routes.slice(0).filter((e=>!Ns("menuIgnorePatterns",[]).some((t=>t.test(e.path))))).reverse().map((e=>e.label&&this.renderItem(e)));return zt.createElement(zs.default,{theme:this.props.theme,mode:this.props.mode||"inline",defaultSelectedKeys:[this.props.routes[0].path],selectedKeys:this.state.selectedKeys,onClick:e=>at(this.props.router.history,e.key)},e.reverse())}renderItem(e){const t=zt.createElement(Ss.default,{type:e.icon}),r=zt.createElement("span",{className:"menu-item-label"},e.label),n=e.path?this.getRouteBadgeCount(e.path):0;return n>0?zt.createElement(zs.default.Item,{key:e.path,title:e.label},zt.createElement(Us.Z,{overflowCount:99,count:n},t," ",r)):zt.createElement(zs.default.Item,{key:e.path,title:e.label},t,r)}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Vs,"propTypes",{router:js().object.isRequired,routes:js().arrayOf(js().object).isRequired,badges:js().arrayOf(js().shape({path:js().string,count:js().number})),theme:js().string,mode:js().string,connectRouter:js().func.isRequired});const $s=(0,Ps.$j)((function(e){return{badges:Ft(e)}}),{connectRouter:e=>m(f,{router:e})})(Vs);class Ms extends zt.Component{render(){return zt.createElement(yt.default.Group,{className:"social-buttons"},zt.createElement(yt.default,{icon:"twitter",title:"Follow us on Twitter",onClick:()=>this.props.osOpenUrl(Is("twitter"))},"Follow Us"),Is("facebook")?zt.createElement(yt.default,{icon:"facebook",title:"Follow us on Facebook",onClick:()=>this.props.osOpenUrl(Is("facebook"))}):null,Is("weibo")?zt.createElement(yt.default,{icon:"weibo",title:"Follow us on Weibo",onClick:()=>this.props.osOpenUrl(Is("weibo"))}):null,zt.createElement(yt.default,{icon:"linkedin",title:"Follow us on LinkedIn",onClick:()=>this.props.osOpenUrl(Is("linkedin"))}),zt.createElement(yt.default,{icon:"github",title:"Give Us a star on GitHub",onClick:()=>this.props.osOpenUrl(Is("github"))}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ms,"propTypes",{osOpenUrl:js().func.isRequired});const Zs=(0,Ps.$j)(null,{osOpenUrl:ye})(Ms);function Bs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ys extends zt.Component{render(){return zt.createElement("div",null,!this.props.disableMenu&&zt.createElement($s,{router:this.context.router,routes:this.props.routes,mode:"horizontal"}),zt.createElement(vs.Z,null,this.props.routes.slice(0).reverse().map((e=>"function"==typeof e.component?zt.createElement(ws.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}):zt.createElement(ws.Z,{path:e.path,key:e.path,exact:e.exact,render:()=>e.component})))))}}Bs(Ys,"contextTypes",{router:js().object.isRequired}),Bs(Ys,"propTypes",{routes:js().arrayOf(js().object).isRequired,disableMenu:js().bool});r("nTym");var Ws=r("qu0K"),Gs=(r("cUip"),r("iJl9"));class Ks extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.forgotAccountPassword(t.username,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,zt.createElement("br",null),zt.createElement(Ls,null)),zt.createElement(Ws.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"user",style:{fontSize:13}}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Send reset email"),zt.createElement("div",null,"Need an Account?"," ",zt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}}function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(r),!0).forEach((function(t){Qs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ks,"propTypes",{form:js().object.isRequired,forgotAccountPassword:js().func.isRequired,showLoginPage:js().func.isRequired,showRegistrationPage:js().func.isRequired,osOpenUrl:js().func.isRequired});class Xs extends zt.Component{render(){const e=Ws.Z.create()(Ks);return zt.createElement("div",{className:"page-container forgot-page text-center"},zt.createElement(e,this.props))}}Qs(Xs,"propTypes",{forgotAccountPassword:js().func.isRequired,showLoginPage:js().func.isRequired,showRegistrationPage:js().func.isRequired});const ea=(0,Ps.$j)((function(e,t){return{showLoginPage:()=>at(t.history,"/account/login"),showRegistrationPage:()=>at(t.history,"/account/registration")}}),Js(Js({},i),{},{osOpenUrl:ye}))(Xs);r("hr7U");var ta=r("9xET"),ra=(r("lSEL"),r("UIqZ")),na=(r("fv9D"),r("ZPTe"));class ia extends zt.Component{constructor(){super(...arguments),this.state={loading:!1,providerModalVisible:!1,providerOpenedInExteralBrowser:!1,providerModalOkText:"Continue",providerName:""}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.loginAccount(t.username,t.password,(()=>{this.setState({loading:!1}),this.props.showInformationPage()})))}))}onDidProviderLogin(e){it()?this.setState({providerModalVisible:!0,providerName:e}):this.props.loginWithProvider(e)}onDidOkProviderModal(){if(this.state.providerOpenedInExteralBrowser)return this.onDidCloseProviderModal(),void this.props.showInformationPage();this.setState({providerOpenedInExteralBrowser:!0,loading:!0,providerModalOkText:"Redirecting..."}),setTimeout((()=>{this.setState({loading:!1,providerModalOkText:"Finish"})}),5e3),this.props.loginWithProvider(this.state.providerName)}onDidCloseProviderModal(){this.setState({providerModalVisible:!1,providerOpenedInExteralBrowser:!1,loading:!1,providerModalOkText:"Continue"})}render(){return zt.createElement("div",null,zt.createElement(gt.Z,{title:`You are being redirected to ${this.state.providerName.toUpperCase()}`,visible:this.state.providerModalVisible,okText:this.state.providerModalOkText,okButtonProps:{loading:this.state.loading,disabled:this.state.loading},onCancel:this.onDidCloseProviderModal.bind(this),onOk:this.onDidOkProviderModal.bind(this)},zt.createElement("p",null,"You will be redirected to the ",zt.createElement("b",null,this.state.providerName.toUpperCase())," ","provider using your default web browser."),zt.createElement("p",null,"Please provide valid credential details for"," ",this.state.providerName.toUpperCase(),". If everything is OK, you will be redirected back to PlatformIO Home ",zt.createElement("b",null,"in your browser instead of IDE"),"."),zt.createElement("p",null,"The final step is to ",zt.createElement("b",null,"back to IDE")," and close this modal window. You should be logged in automatically now!")),zt.createElement("div",{className:"login-logo"},zt.createElement(Ls,null)),zt.createElement(ta.default,null,zt.createElement(na.default,{xs:11,className:"login-left-side"},this.renderForm()),zt.createElement(na.default,{xs:2},zt.createElement(ra.Z,{type:"vertical"})),zt.createElement(na.default,{xs:11,className:"login-right-side"},this.renderProviders())))}renderForm(){const{getFieldDecorator:e}=this.props.form;return zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,zt.createElement("h3",null,"Log In with PlatformIO Account")),zt.createElement(Ws.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"user"}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock"}),type:"password",placeholder:"Password",size:"large"}))),zt.createElement(Ws.Z.Item,null,zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Log in"),zt.createElement("div",null,zt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot Password?")),zt.createElement("div",null,"Need an Account?"," ",zt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}renderProviders(){return zt.createElement(Ws.Z,{className:"login-providers"},zt.createElement(Ws.Z.Item,null,zt.createElement("h3",null,"Log In with ...")),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"github",size:"large",onClick:()=>this.onDidProviderLogin("github")},"GitHub")),zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"gitlab",size:"large",onClick:()=>this.onDidProviderLogin("gitlab")},"GitLab")))),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"rest",size:"large",onClick:()=>this.onDidProviderLogin("bitbucket")},"BitBucket")),zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"google",size:"large",onClick:()=>this.onDidProviderLogin("google")},"Google")))),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"linkedin",size:"large",onClick:()=>this.onDidProviderLogin("linkedin")},"LinkedIn")),zt.createElement(na.default,{md:12},zt.createElement(yt.default,{icon:"twitter",size:"large",onClick:()=>this.onDidProviderLogin("twitter")},"Twitter")))))}}function oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(r),!0).forEach((function(t){aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ia,"propTypes",{form:js().object.isRequired,loginAccount:js().func.isRequired,loginWithProvider:js().func.isRequired,showInformationPage:js().func.isRequired,showRegistrationPage:js().func.isRequired,showForgotPage:js().func.isRequired});class la extends zt.Component{render(){if(this.props.data&&this.props.data.packages)return this.props.showInformationPage(),null;const e=Ws.Z.create()(ia);return zt.createElement("div",{className:"page-container login-page text-center"},zt.createElement(e,this.props))}}aa(la,"propTypes",{data:js().shape({profile:js().object,packages:js().array,subscriptions:js().array}),loginAccount:js().func.isRequired,loginWithProvider:js().func.isRequired,showInformationPage:js().func.isRequired,showRegistrationPage:js().func.isRequired,showForgotPage:js().func.isRequired,osOpenUrl:js().func.isRequired});const ca=(0,Ps.$j)((function(e,t){return{data:Xe(e),showInformationPage:()=>at(t.history,"/account",null,!0),showRegistrationPage:()=>at(t.history,"/account/registration"),showForgotPage:()=>at(t.history,"/account/forgot")}}),sa(sa({},i),{},{osOpenUrl:ye}))(la);r("nT0F");var ua=r("MM9K"),pa=(r("zmYW"),r("DtFj")),da=(r("PAYn"),r("EQeY"));class ma extends zt.Component{render(){return zt.createElement("div",null,zt.createElement("div",null,zt.createElement("h1",null,"General"),zt.createElement("dl",{className:"dl-horizontal"},zt.createElement("dt",null,"Logged in as"),zt.createElement("dd",null,this.props.data.profile.username," ("," ",zt.createElement("a",{onClick:()=>this.props.logoutAccount()},"Log out")," )"),zt.createElement("dt",null,"Email"),zt.createElement("dd",null,this.props.data.profile.email),zt.createElement("dt",null,"Full Name"),zt.createElement("dd",null,this.props.data.profile.firstname," ",this.props.data.profile.lastname))),this.renderSubscriptions(),this.renderPackages())}renderSubscriptions(){if(!this.props.data.subscriptions||!this.props.data.subscriptions.length)return;const e=[{title:"Plan",dataIndex:"product_name",key:"product_name"},{title:"Start Date",dataIndex:"begin_at",key:"begin_at",render:e=>zt.createElement(Es.default,{title:new Date(e).toString()},kr().date("F j, Y",new Date(e)))},{title:"End Date",dataIndex:"end_at",key:"end_at",render:e=>zt.createElement(Es.default,{title:parseInt(e)?new Date(1e3*parseInt(e)).toString():""},parseInt(e)?kr().date("F j, Y",parseInt(e)):"-")},{title:"Next Payment",dataIndex:"next_bill_at",key:"next_bill_at",render:e=>zt.createElement(Es.default,{title:new Date(e).toString()},kr().date("F j, Y",new Date(e)))},{title:"State",dataIndex:"status",key:"status",render:e=>zt.createElement(da.Z,{color:"active"==e?"#87d068":"#f5222d"},e)},{title:"Action",key:"action",render:(e,t)=>"active"===t.status&&zt.createElement("span",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.update_url)},"Edit")," ",zt.createElement(ra.Z,{type:"vertical"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.cancel_url)},"Cancel"))}];return zt.createElement("div",null,zt.createElement("h1",null,"Subscriptions"),zt.createElement(pa.Z,{columns:e,dataSource:this.props.data.subscriptions,pagination:!1}),zt.createElement("br",null))}renderPackages(){return zt.createElement("div",null,zt.createElement("h1",null,"Packages"),this.props.data.packages&&this.props.data.packages.map((e=>zt.createElement("dl",{key:e.name,className:"dl-horizontal"},zt.createElement("dt",null,"Name"),zt.createElement("dd",null,e.name),zt.createElement("dt",null,"Expires"),zt.createElement("dd",null,zt.createElement(Es.default,{title:e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?new Date(e.subscription.end_at||e.subscription.next_bill_at).toString():""},e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?kr().date("F j, Y",new Date(e.subscription.end_at||e.subscription.next_bill_at)):"never")),zt.createElement("dt",null,"Services"),zt.createElement("dd",null,zt.createElement("ul",null,Object.keys(e).map((t=>t.startsWith("service.")?zt.createElement("li",{key:t},zt.createElement(Ss.default,{type:"check"})," "+(e[t]instanceof Object?e[t].title:e[t])):null))))))))}}function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){ga(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ga(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ma,"propTypes",{data:js().shape({profile:js().shape({username:js().string.isRequired,email:js().string.isRequired,firstname:js().string,lastname:js().string}).isRequired,packages:js().array,subscriptions:js().array}).isRequired,logoutAccount:js().func.isRequired,osOpenUrl:js().func.isRequired});class ya extends zt.Component{constructor(){super(...arguments),this.props.loadAccountInfo(!0)}render(){return this.props.data&&!this.props.data.packages?(this.props.showLoginPage(),null):zt.createElement("div",{className:"page-container information-page"},this.props.data&&this.props.data.packages?zt.createElement(ma,this.props):zt.createElement("div",{className:"text-center",style:{paddingTop:"15px"}},zt.createElement(ua.default,{tip:"Loading...",size:"large"})))}}ga(ya,"propTypes",{data:js().shape({profile:js().shape({username:js().string.isRequired,email:js().string.isRequired,firstname:js().string,lastname:js().string}).isRequired,packages:js().array,subscriptions:js().array}).isRequired,loadAccountInfo:js().func.isRequired,logoutAccount:js().func.isRequired,showLoginPage:js().func.isRequired,osOpenUrl:js().func.isRequired});const ba=(0,Ps.$j)((function(e,t){return{data:Xe(e),showLoginPage:()=>at(t.history,"/account/login",null,!0)}}),ha(ha({},i),{},{osOpenUrl:ye}))(ya);class Ea extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.registerAccount(t.username,t.email,t.firstname,t.lastname,t.password,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e,getFieldValue:t}=this.props.form;return zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,zt.createElement("br",null),zt.createElement(Ls,null)),zt.createElement(Ws.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("password",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid password. Must contain at least 8 characters including a number and a lowercase letter"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),zt.createElement(Ws.Z.Item,null,e("confirmPassword",{rules:[{required:!0,message:"Please confirm password"},(e,r)=>r&&t("password")!==r?Promise.reject("The two passwords that you entered do not match"):Promise.resolve()]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Confirm Password"}))),zt.createElement(Ws.Z.Item,null,zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Create Your PIO Account"),zt.createElement("div",null,"Already have an account?"," ",zt.createElement("a",{onClick:()=>this.props.showLoginPage()},"Log in."))))}}function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?va(Object(r),!0).forEach((function(t){Oa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ea,"propTypes",{form:js().object.isRequired,registerAccount:js().func.isRequired,showLoginPage:js().func.isRequired,osOpenUrl:js().func.isRequired});class ja extends zt.Component{render(){const e=Ws.Z.create()(Ea);return zt.createElement("div",{className:"page-container registration-page text-center"},zt.createElement(e,this.props))}}Oa(ja,"propTypes",{registerAccount:js().func.isRequired,showLoginPage:js().func.isRequired});const Pa=(0,Ps.$j)((function(e,t){return{showLoginPage:()=>at(t.history,"/account/login")}}),wa(wa({},i),{},{osOpenUrl:ye}))(ja);class ka extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.changeAccountPassword(t.passwordOld,t.passwordNew,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement("div",{className:"lead"},"Change your password or recover your current one."),zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,e("passwordOld",{rules:[{required:!0,message:"Please input your current password"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),zt.createElement(Ws.Z.Item,null,e("passwordNew",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid new password. Must contain at least 8 characters including a number and a lowercase letter"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"New Password"}))),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,{xs:12,className:"text-left"},zt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot your password?")),zt.createElement(na.default,{xs:12},zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ka,"propTypes",{form:js().object.isRequired,changeAccountPassword:js().func.isRequired,showForgotPage:js().func.isRequired});class Ca extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Ws.Z.create()(ka);return zt.createElement("div",{className:"page-container password-page"},zt.createElement(e,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ca,"propTypes",{userLogged:js().bool,changeAccountPassword:js().func.isRequired,showLoginPage:js().func.isRequired});const Sa=(0,Ps.$j)((function(e,t){return{userLogged:et(e),showLoginPage:()=>at(t.history,"/account/login",null,!0),showForgotPage:()=>at(t.history,"/account/forgot")}}),i)(Ca);class Da extends zt.Component{constructor(){super(...arguments),this.state={loading:!1}}componentDidMount(){this.props.form.setFieldsValue({username:this.props.data.profile.username,email:this.props.data.profile.email,firstname:this.props.data.profile.firstname,lastname:this.props.data.profile.lastname})}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.updateProfile(t.username,t.email,t.firstname,t.lastname,t.currentPassword,(()=>{this.setState({loading:!1}),this.props.form.resetFields("currentPassword")})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement("div",{className:"lead"},"Update your profile."),zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),zt.createElement(Ws.Z.Item,null,e("currentPassword",{rules:[{required:!0,message:"Please input your current password"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,null,zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Da,"propTypes",{data:js().shape({profile:js().shape({username:js().string.isRequired,email:js().string.isRequired,firstname:js().string,lastname:js().string}).isRequired}).isRequired,form:js().object.isRequired,updateProfile:js().func.isRequired});class Ra extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Ws.Z.create()(Da);return zt.createElement("div",{className:"page-container profile-page"},zt.createElement(e,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ra,"propTypes",{data:js().shape({profile:js().shape({username:js().string.isRequired,email:js().string.isRequired,firstname:js().string,lastname:js().string}).isRequired}),userLogged:js().bool,updateProfile:js().func.isRequired,showLoginPage:js().func.isRequired});const Ta=(0,Ps.$j)((function(e,t){return{data:Xe(e),userLogged:et(e),showLoginPage:()=>at(t.history,"/account/login",null,!0)}}),i)(Ra);r("pJsf");var Na=r("g4D/"),xa=(r("8YFG"),r("ATwu")),Ia=r("sxGJ"),qa=r.n(Ia);class _a extends zt.Component{constructor(){super(...arguments),this.state={loading:!1},this._clipboard=null}componentDidMount(){this._clipboard=new(qa())(".copy-token"),this._clipboard.on("success",(()=>M.Z.success("Token has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.showAccountToken(t.password,t.regenerate,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return zt.createElement("div",{className:"text-left"},zt.createElement(xa.Z,{showIcon:!0,message:"Personal Authentication Token",className:"block",description:zt.createElement("div",null,"It is intended for"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/ci/index.html")},"Continuous Integration")," ","systems,"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/pio-remote.html")},"Remote Development")," ","operations when you can not authenticate manually.",zt.createElement("div",null,"PlatformIO handles ",zt.createElement("b",null,"Personal Authentication Token")," from an environment variable"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/envvars.html#envvar-PLATFORMIO_AUTH_TOKEN")},"PLATFORMIO_AUTH_TOKEN"),"."))}),zt.createElement(Ws.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},zt.createElement(Ws.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(zt.createElement(Gs.default,{prefix:zt.createElement(Ss.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),zt.createElement(Ws.Z.Item,null,zt.createElement(ta.default,null,zt.createElement(na.default,{xs:8,className:"text-left"},e("regenerate")(zt.createElement(Na.default,null,"Regenerate"))),zt.createElement(na.default,{xs:16},zt.createElement(yt.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Show Token")))),zt.createElement(Ws.Z.Item,null,this.props.token&&this.renderToken())))}renderToken(){return zt.createElement("div",null,zt.createElement(ra.Z,null,"Token"),zt.createElement(Gs.default,{disabled:!0,size:"large",style:{width:"100%"},addonAfter:zt.createElement("a",{className:"copy-token","data-clipboard-text":this.props.token},zt.createElement(Ss.default,{type:"copy"})),defaultValue:this.props.token}))}}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_a,"propTypes",{form:js().object.isRequired,token:js().string,showAccountToken:js().func.isRequired,osOpenUrl:js().func.isRequired});class Ua extends zt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Ws.Z.create()(_a);return zt.createElement("div",{className:"page-container token-page"},zt.createElement(e,this.props))}}Aa(Ua,"propTypes",{userLogged:js().bool,token:js().string,showAccountToken:js().func.isRequired,showLoginPage:js().func.isRequired,osOpenUrl:js().func.isRequired});const za=[{path:"/account",icon:"info-circle-o",label:"Information",component:ba},{path:"/account/login",component:ca},{path:"/account/registration",component:Pa},{path:"/account/forgot",component:ea},{path:"/account/profile",icon:"user",label:"Profile",component:Ta},{path:"/account/password",icon:"lock",label:"Password",component:Sa},{path:"/account/token",icon:"key",label:"Token",component:(0,Ps.$j)((function(e,t){return{userLogged:et(e),token:tt(e),showLoginPage:()=>at(t.history,"/account/login",null,!0)}}),Fa(Fa({},i),{},{osOpenUrl:ye}))(Ua)}];class Va extends zt.Component{render(){return zt.createElement("section",{className:"account-module"},zt.createElement(Ys,{routes:za,disableMenu:!this.props.userLogged}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Va,"propTypes",{userLogged:js().bool});const $a=(0,Ps.$j)((function(e){return{userLogged:et(e)}}))(Va);function Ma(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Za extends zt.Component{constructor(){super(...arguments),this.state={data:null,filterValue:this.props.defaultFilter,dataFilters:null,dataSorters:null},this.props.items&&(this.state.data=this.normalizeTableData(this.props.items))}componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidExpand(){this._clipboard=new(qa())(".copy-board-id"),this._clipboard.on("success",(()=>M.Z.success("Board ID has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}componentDidUpdate(){!this.state.data&&this.props.items&&this.setState({data:this.normalizeTableData(this.props.items)})}isCertified(e){return!(!(t=e).platform||"aceinna_imu"!==t.platform.name)||["riscv_gap","sifive"].includes(e.platform.name);var t}normalizeTableData(e){if(!e)return e;let t=e.slice(0);return this.state.filterValue&&(e=ut(e,this.state.filterValue,(e=>[e.vendor,e.id,e.name,e.mcu,JSON.stringify(e.platforms),JSON.stringify(e.frameworks)].join(" ")))),t=e.map((e=>(e.frameworks=e.frameworks.sort(((e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()))),e.extra=["test"],this.isCertified(e)&&e.extra.push("certified"),e.debug&&(e.extra.push("debug-external"),this.hasOnboardDebug(e.debug)&&e.extra.push("debug-onboard")),(e.connectivity||[]).some((e=>Za.IoTConnectivity.includes(e)))&&e.extra.push("iot"),e))),this.state.filterValue?t:t.sort(((e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()))).sort(((e,t)=>{const r=e.extra.includes("certified"),n=t.extra.includes("certified");return r&&!n?-1:!r&&n?1:0}))}onFilterChange(e){this.setState({filterValue:e})}onDidFilter(){this.setState({data:this.normalizeTableData(this.props.items)}),this.props.onFilter&&this.props.onFilter(this.state.filterValue)}onDidTableChange(e,t,r){this.setState({dataFilters:t,dataSorters:r})}onDidClearDataFiltersAndSorters(){this.setState({dataFilters:null,dataSorters:null}),this.onDidFilter()}onToggleExtraFilter(e){const t=this.state.dataFilters||{};t.extra=t.extra||[];const r=t.extra.indexOf(e);-1!==r?t.extra.splice(r,1):t.extra.push(e),this.setState({dataFilters:t})}humanizeMemorySize(e){return kr().filesize(e,1024,e%1024==0||e<1024?0:1)}hasOnboardDebug(e){if(!e||!e.tools)return!1;for(const t of Object.keys(e.tools))if(e.tools[t].onboard)return!0;return!1}getVendorFilters(e){let t=[];return e.forEach((e=>{t.includes(e.vendor)||t.push(e.vendor)})),t=t.map((e=>({value:e,text:e}))),t.sort(((e,t)=>ct(e.value.toUpperCase(),t.value.toUpperCase())))}getPlatformFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>r.set(e.platform.name,e.platform.title))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>ct(e.value.toUpperCase(),t.value.toUpperCase())))}getFrameworkFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>e.frameworks.map((e=>r.set(e.name,e.title))))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>ct(e.value.toUpperCase(),t.value.toUpperCase())))}isExtraFilterEnabled(e){const t=this.state.dataFilters||{};return t&&t.extra&&t.extra.includes(e)}getDataTotal(e){if(!e)return;let t=0,r=null;const n=this.state.dataFilters||{};return e.forEach((e=>{for(const t of Object.keys(n))if(n[t]&&n[t].length)switch(t){case"frameworks":if(r=e.frameworks.map((e=>e.name)),!n[t].find((e=>r.includes(e))))return;break;case"extra":if(!n[t].every((t=>e.extra.includes(t))))return;break;case"platform":if(!n[t].includes(e.platform.name))return;break;case"name":if(!n[t].includes(e.vendor))return;break;default:if(!n[t].includes(e[t]))return}t++})),t}getTableColumns(e){const t=this.state.dataFilters||{},r=this.state.dataSorters||{},n=[{title:"Name",dataIndex:"name",filteredValue:t.name||null,filters:this.getVendorFilters(e),onFilter:(e,t)=>t.vendor===e,sorter:(e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()),sortOrder:"name"===r.columnKey&&r.order,render:(e,t)=>zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/boards/${t.platform.name}/${t.id}.html`)},t.name)},{title:"Platform",key:"platform",filteredValue:t.platform||null,filters:this.getPlatformFilters(e),onFilter:(e,t)=>t.platform.name===e,render:(e,t)=>zt.createElement("a",{onClick:()=>this.props.showPlatform(t.platform.name)},t.platform.title)},{title:"Frameworks",key:"frameworks",filteredValue:t.frameworks||null,filters:this.getFrameworkFilters(e),onFilter:(e,t)=>t.frameworks.map((e=>e.name)).includes(e),render:(e,t)=>zt.createElement("span",null,t.frameworks.map(((e,r)=>zt.createElement("span",{key:e.title},zt.createElement("a",{onClick:()=>this.props.showFramework(e.name)},e.title),t.frameworks.length>r+1?", ":""))))},{title:"MCU",dataIndex:"mcu",sorter:(e,t)=>ct(e.mcu.toUpperCase(),t.mcu.toUpperCase()),sortOrder:"mcu"===r.columnKey&&r.order},{title:"FRQ",key:"fcpu",className:"text-nowrap",sorter:(e,t)=>ct(e.fcpu,t.fcpu),sortOrder:"fcpu"===r.columnKey&&r.order,render:(e,t)=>zt.createElement("span",null,Math.round(t.fcpu/1e6)," Mhz")},{title:"ROM",key:"rom",className:"text-nowrap",sorter:(e,t)=>ct(e.rom,t.rom),sortOrder:"rom"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.rom)},{title:"RAM",key:"ram",className:"text-nowrap",sorter:(e,t)=>ct(e.ram,t.ram),sortOrder:"ram"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.ram)},{title:"Extra",key:"extra",className:"board-extra-column",filters:[{text:"Certified Board",value:"certified"},{text:"IoT-enabled",value:"iot"},{text:"Unit Testing",value:"test"},{text:"Debug: On-board",value:"debug-onboard"},{text:"Debug: External",value:"debug-external"}],filteredValue:t.extra||null,onFilter:(e,t)=>((this.state.dataFilters||{}).extra||[]).every((e=>t.extra.includes(e))),render:(e,t)=>this.renderExtraFeatures(t)}];return this.props.excludeColumns?n.filter((e=>!this.props.excludeColumns.includes(e.title))):n}render(){const e=this.state.data;return zt.createElement("div",{className:"board-explorer"},!this.props.noHeader&&this.renderHeader(e),zt.createElement(Gs.default.Search,{className:"block",enterButton:!0,placeholder:xs("Search board..."),defaultValue:this.state.filterValue||this.props.defaultFilter,size:"large",onChange:e=>this.onFilterChange(e.target.value),onSearch:this.onDidFilter.bind(this),ref:e=>this._searchInputElement=e}),!e&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),e&&e.length>0&&zt.createElement("div",null,this.renderToolbar(),this.renderTable(e)))}renderHeader(e){const t=this.getDataTotal(e);return zt.createElement("div",null,zt.createElement("h1",null,"Board Explorer ",zt.createElement(Us.Z,{overflowCount:1e5,count:t})),zt.createElement(xa.Z,{className:"block",showIcon:!0,message:this.renderNotifications()}))}renderNotifications(){return zt.createElement("div",null,"PlatformIO currently supports over 800 boards from leading manufacturers, and we are constantly adding new ones.",zt.createElement("br",null),"You can be part of the process by letting us know what board you wish to see supported next, by"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-core/issues")},"submitting a feature request"),".")}renderToolbar(){return zt.createElement("div",{className:"block text-right"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default,{icon:"filter",onClick:this.onDidClearDataFiltersAndSorters.bind(this)},"Clear filters")),zt.createElement("li",null," "),zt.createElement("li",null,zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{type:"primary",icon:"safety",ghost:!this.isExtraFilterEnabled("certified"),onClick:()=>this.onToggleExtraFilter("certified")},"Certified"),zt.createElement(yt.default,{type:"primary",icon:"cloud-o",ghost:!this.isExtraFilterEnabled("iot"),onClick:()=>this.onToggleExtraFilter("iot")},"IoT-enabled"))),zt.createElement("li",null,"Debug: "),zt.createElement("li",null,zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{type:"primary",icon:"tool",ghost:!this.isExtraFilterEnabled("debug-onboard"),onClick:()=>this.onToggleExtraFilter("debug-onboard")},"On-board"),zt.createElement(yt.default,{type:"primary",icon:"tool",ghost:!this.isExtraFilterEnabled("debug-external"),onClick:()=>this.onToggleExtraFilter("debug-external")},"External")))))}renderTable(e){return zt.createElement(pa.Z,{size:"middle",rowKey:"id",pagination:{defaultPageSize:10,pageSizeOptions:["10","15","30","50","100","1000"],size:"default",showSizeChanger:!0,hideOnSinglePage:!0},expandedRowRender:this.renderExpandedRow.bind(this),columns:this.getTableColumns(e),dataSource:e,onExpand:this.onDidExpand.bind(this),onChange:this.onDidTableChange.bind(this)})}renderExpandedRow(e){return zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"ID:"," ",zt.createElement("a",{className:"copy-board-id","data-clipboard-text":e.id},zt.createElement(Es.default,{title:"Click for copy Board ID to clipboard"},zt.createElement("code",null,e.id)," ",zt.createElement(Ss.default,{type:"copy"})))),e.connectivity&&zt.createElement("li",null,"·"),e.connectivity&&zt.createElement("li",null,zt.createElement(Ss.default,{type:"global"})," Connectivity:"," ",(e.connectivity||["-"]).map((e=>e.toLowerCase())).join(", ")))}renderExtraFeatures(e){return zt.createElement("span",null,e.extra.includes("test")&&zt.createElement(Es.default,{title:"Unit Testing"}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/unit-testing.html")}," ",zt.createElement(Ss.default,{type:"api"})," ")," "),e.extra.some((e=>e.startsWith("debug-")))&&zt.createElement(Es.default,{title:"Debug: "+(e.extra.some((e=>"debug-onboard"===e))?"On-board":"External")}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://docs.platformio.org/page/boards/${e.platform.name}/${e.id}.html#debugging`)}," ",zt.createElement(Ss.default,{type:"tool"})," ")," "),e.extra.includes("iot")&&zt.createElement(Es.default,{title:"IoT-enabled"}," ",zt.createElement("a",null,zt.createElement(Ss.default,{type:"cloud-o"}))," "),e.extra.includes("certified")&&zt.createElement(Es.default,{title:"Certified"}," ",zt.createElement("a",null," ",zt.createElement(Ss.default,{type:"safety"})," ")," "),zt.createElement(Es.default,{title:"Get Now!"}," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(e.url)}," ",zt.createElement(Ss.default,{type:"shopping-cart"})," ")," "))}}Ma(Za,"IoTConnectivity",["wifi","bluetooth","ethernet","cellular"]),Ma(Za,"propTypes",{items:js().arrayOf(js().shape({id:js().string.isRequired,name:js().string.isRequired,url:js().string.isRequired,vendor:js().string.isRequired,platform:js().shape({name:js().string.isRequired,title:js().string.isRequired}).isRequired,frameworks:js().arrayOf(js().shape({name:js().string.isRequired,title:js().string.isRequired})).isRequired,mcu:js().string.isRequired,fcpu:js().number.isRequired,rom:js().number.isRequired,ram:js().number.isRequired})),noHeader:js().bool,excludeColumns:js().arrayOf(js().string),defaultFilter:js().string,onFilter:js().func,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,osOpenUrl:js().func.isRequired});class Ba extends zt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}render(){return zt.createElement("section",{className:"page-container"},zt.createElement(Za,{items:this.props.items,defaultFilter:this.props.filterValue,onFilter:this.props.setFilter,showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ba,"propTypes",{items:js().arrayOf(js().object),filterValue:js().string,setFilter:js().func.isRequired,loadBoards:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,osOpenUrl:js().func.isRequired});const Ya=(0,Ps.$j)((function(e,t){return{items:Pi(e),filterValue:ui(e),showPlatform:e=>at(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osOpenUrl:ye,setFilter:t=>e(_(ii,t))}),e)}))(Ba);class Wa extends zt.Component{constructor(){super(...arguments),this.props.loadLogicalDevices()}componentDidMount(){this._clipboard=new(qa())(".copy-path"),this._clipboard.on("success",(()=>M.Z.success("Device path has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Path",dataIndex:"path",className:"text-nowrap",sorter:(e,t)=>ct(e.path.toUpperCase(),t.path.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.path," ",zt.createElement(Es.default,{title:"Click for copy a device path to clipboard"},zt.createElement("a",{className:"copy-path","data-clipboard-text":t.path},zt.createElement(Ss.default,{type:"copy"}))))},{title:"Name",dataIndex:"name",sorter:(e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase())}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement("div",{className:"block text-right"},zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadLogicalDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement(pa.Z,{rowKey:"path",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Wa,"propTypes",{items:js().arrayOf(js().object.isRequired),loadLogicalDevices:js().func.isRequired,osOpenUrl:js().func.isRequired});const Ga=(0,Ps.$j)((function(e){return{items:It(e)}}),{loadLogicalDevices:Se,osOpenUrl:ye})(Wa);function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ja(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qa extends zt.Component{constructor(){super(...arguments),this.props.loadMDNSDevices()}componentDidMount(){this._clipboard=new(qa())(".copy-name"),this._clipboard.on("success",(()=>M.Z.success("A name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}ip2int(e){return e.split(".").reduce(((e,t)=>(e<<8)+parseInt(t,10)),0)>>>0}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-nowrap",sorter:(e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.name," ",zt.createElement(Es.default,{title:"Click for copy a name to clipboard"},zt.createElement("a",{className:"copy-name","data-clipboard-text":t.name},zt.createElement(Ss.default,{type:"copy"}))))},{title:"Type",dataIndex:"type",className:"text-word-break",sorter:(e,t)=>ct(e.type.toUpperCase(),t.type.toUpperCase())},{title:"IP",dataIndex:"ip",sorter:(e,t)=>this.ip2int(e.ip)>this.ip2int(t.ip)},{title:"Port",dataIndex:"port",sorter:(e,t)=>e.port>t.port}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement("div",{className:"block text-right"},zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadMDNSDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("div",null,zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")),zt.createElement("div",{className:"text-center"},zt.createElement("br",null),"If you have Network Firewall, please enable incoming connections for PlatformIO Core (mDNS discovery service)")):zt.createElement(pa.Z,{rowKey:"name",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}Ja(Qa,"propTypes",{items:js().arrayOf(js().object.isRequired),loadMDNSDevices:js().func.isRequired,osOpenUrl:js().func.isRequired});const Xa=(0,Ps.$j)((function(e){return{items:rr(e)}}),Ha(Ha({},o),{},{osOpenUrl:ye}))(Qa);function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach((function(t){rl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nl extends zt.Component{constructor(){super(...arguments),this.props.loadSerialDevices()}componentDidMount(){this._clipboard=new(qa())(".copy-port"),this._clipboard.on("success",(()=>M.Z.success("Port name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Port",dataIndex:"port",className:"text-nowrap",sorter:(e,t)=>ct(e.port.toUpperCase(),t.port.toUpperCase()),render:(e,t)=>zt.createElement("span",null,t.port," ",zt.createElement(Es.default,{title:"Click for copy a port name to clipboard"},zt.createElement("a",{className:"copy-port","data-clipboard-text":t.port},zt.createElement(Ss.default,{type:"copy"}))))},{title:"Description",dataIndex:"description",className:"text-word-break",sorter:(e,t)=>ct(e.description.toUpperCase(),t.description.toUpperCase())},{title:"Hardware",dataIndex:"hwid",className:"text-nowrap",sorter:(e,t)=>ct(e.hwid.toUpperCase(),t.hwid.toUpperCase())}]}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(xa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"PlatformIO automatically detects upload port by default. You can configure a custom port using ",zt.createElement("code",null,"upload_port")," option in"," ",zt.createElement("b",null,"platformio.ini"),"."," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_upload.html#upload-port")},"More details..."))}),zt.createElement("div",{className:"block text-right"},zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadSerialDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement(pa.Z,{rowKey:"port",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}rl(nl,"propTypes",{items:js().arrayOf(js().object.isRequired),loadSerialDevices:js().func.isRequired,osOpenUrl:js().func.isRequired});const il=[{path:"/device",icon:"usb",label:"Serial",component:(0,Ps.$j)((function(e){return{items:er(e)}}),tl(tl({},o),{},{osOpenUrl:ye}))(nl)},{path:"/device/logical",icon:"hdd",label:"Logical",component:Ga},{path:"/device/mdns",icon:"wifi",label:"Multicast DNS",component:Xa}];class ol extends zt.Component{render(){return zt.createElement("section",{className:"device-module"},zt.createElement(Ys,{routes:il}))}}class sl extends zt.Component{renderCoreVersion(){return this.props.coreVersion?zt.createElement("code",null,this.props.coreVersion):zt.createElement(ua.default,{size:"small"})}render(){return zt.createElement("div",{className:"versions"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,"Core"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/history.html")},this.renderCoreVersion())),zt.createElement("li",null,"·"),zt.createElement("li",null,"Home"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-home/releases")},zt.createElement("code",null,"3.4.4")))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sl,"propTypes",{coreVersion:js().string,osOpenUrl:js().func.isRequired});const al=(0,Ps.$j)((function(e){return{coreVersion:kt(e,"coreVersion")}}),{osOpenUrl:ye})(sl);r("ek7I");var ll=r("FAat"),cl=(r("8DDU"),r("a3Uq"));class ul extends zt.Component{render(){return zt.createElement(cl.Z,{className:"project-init-carousel",autoplay:!0,autoplaySpeed:3e3},zt.createElement("div",null,zt.createElement(xa.Z,{showIcon:!0,message:"Please wait...",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"The first initialization requires Internet connection and"," ",zt.createElement("b",null,"may take a while")," (need to install dependent toolchains, frameworks, SDKs)."),zt.createElement("div",null,"Please be patient and let the initialization complete."))})),zt.createElement("div",null,zt.createElement(xa.Z,{showIcon:!0,message:"Project Structure",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"PlatformIO project consists of 3 main items:"),zt.createElement("ul",null,zt.createElement("li",null,zt.createElement(Ss.default,{type:"folder"})," ",zt.createElement("code",null,"lib")," - put here project specific (private) libraries"),zt.createElement("li",null,zt.createElement(Ss.default,{type:"folder"})," ",zt.createElement("code",null,"src")," - put your source files in this folder"),zt.createElement("li",null,zt.createElement(Ss.default,{type:"file"})," ",zt.createElement("code",null,"platformio.ini")," - project configuration file")))})),zt.createElement("div",null,zt.createElement(xa.Z,{showIcon:!0,message:"platformio.ini",description:zt.createElement("div",null,zt.createElement("div",null,"PlatformIO Project Configuration File:"),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"Generic options")," - development platforms, boards, frameworks"),zt.createElement("li",null,zt.createElement("code",null,"Build options")," - build flags, source filter, extra scripting"),zt.createElement("li",null,zt.createElement("code",null,"Upload options")," - custom port, speed and extra flags"),zt.createElement("li",null,zt.createElement("code",null,"Library options")," - dependencies, extra library storages")),zt.createElement("div",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},zt.createElement(Ss.default,{type:"link"})," Please visit documentation")," ","for the other options and examples."))})),zt.createElement("div",null,zt.createElement(xa.Z,{showIcon:!0,message:"Upload Port",description:zt.createElement("div",null,zt.createElement("div",{className:"block"},"PlatformIO automatically detects upload port by default. You can configure a custom port using ",zt.createElement("code",null,"upload_port")," option in"," ",zt.createElement("b",null,"platformio.ini"),":"),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"upload_port = COM1")," - particular port"),zt.createElement("li",null,zt.createElement("code",null,"upload_port = /dev/ttyUSB*")," - any port that starts with /dev/ttyUSB"),zt.createElement("li",null,zt.createElement("code",null,"upload_port = COM[13]")," - COM1 or COM3.")))})))}}function pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(r),!0).forEach((function(t){ml(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ml(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ul,"propTypes",{osOpenUrl:js().func.isRequired});class fl extends zt.Component{constructor(){super(...arguments),this.state={examplePath:null,inProgress:!1}}componentDidUpdate(e){this.props.visible&&!e.items&&this.props.loadProjectExamples()}onDidExample(e){this.setState({examplePath:e})}onDidFinish(){if(!this.state.examplePath)return M.Z.error("Please select an example");this.setState({inProgress:!0}),this.props.importProject(this.state.examplePath,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return zt.createElement(gt.Z,{visible:this.props.visible,className:"project-examples-modal",confirmLoading:this.state.inProgress,width:600,title:"Import Project Example",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return zt.createElement(ul,{osOpenUrl:this.props.osOpenUrl});if(!this.props.items)return zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}));if(0===this.props.items.length)return this.renderNoExamples();const e=[],t=[];return this.props.items.forEach((r=>{e.includes(r.platform.title)?t.push(r.platform.title):e.push(r.platform.title)})),zt.createElement("div",null,!Ns("singleDevPlatform")&&zt.createElement("div",{className:"block"},zt.createElement("p",null,"We use examples provided by"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed development platforms"),". Please install more platforms to see the new examples."),"Examples already contain pre-configured build environments (boards, flags, etc.). You can edit them later in"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},'Project Configuration File "platformio.ini"')," ","located in the root of your project."),zt.createElement(ll.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:"Select an example...",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onChange:this.onDidExample.bind(this)},this.props.items.filter((e=>Ns("filterProjectExample",(()=>!0))(e))).map((e=>zt.createElement(ll.default.OptGroup,{key:`${e.platform.title}-${e.platform.version}`,label:zt.createElement("span",null,zt.createElement(Ss.default,{type:"appstore"})," ",e.platform.title," ",t.includes(e.platform.title)?`[#${e.platform.version}]`:"")},e.items.map((t=>zt.createElement(ll.default.Option,{key:`${e.platform.title}-${e.platform.version}-${t.name}-${t.description}`,value:t.path},t.name,t.description&&zt.createElement("div",{className:"select-option-extra project-example-description"},t.description)))))))))}renderNoExamples(){return zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"block background-message text-center"},zt.createElement("li",null,"No Examples")),zt.createElement("br",null),zt.createElement("div",{className:"block"},"We use examples from installed development platforms. Please install the one of them."),zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform"))))}}ml(fl,"propTypes",{router:js().object.isRequired,visible:js().bool.isRequired,onCancel:js().func.isRequired,items:js().array,loadProjectExamples:js().func.isRequired,addProject:js().func.isRequired,openProject:js().func.isRequired,importProject:js().func.isRequired,osOpenUrl:js().func.isRequired,showInstalledPlatforms:js().func.isRequired,showEmbeddedPlatforms:js().func.isRequired,showDesktopPlatforms:js().func.isRequired});const hl=(0,Ps.$j)((function(e,t){return{items:Rn(e),showInstalledPlatforms:()=>at(t.router.history,"/platforms/installed"),showEmbeddedPlatforms:()=>at(t.router.history,"/platforms/embedded"),showDesktopPlatforms:()=>at(t.router.history,"/platforms/desktop")}}),dl(dl({},l),{},{osOpenUrl:ye}))(fl);class gl extends zt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}onDidChange(e){this.props.onChange(this.props.items.find((t=>t.id===e)))}render(){if(!this.props.items)return zt.createElement(ua.default,{size:"small"});const e={};return this.props.items.sort(((e,t)=>ct(e.platform.title.toUpperCase(),t.platform.title.toUpperCase()))).forEach((t=>{const r=t.platform.title,n=e[r]||[];n.push(t),e[r]=n})),zt.createElement(ll.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:`Select a board (${this.props.items.length} available)`,optionFilterProp:"children",filterOption:(e,t)=>"string"==typeof t.props.children&&t.props.children.toLowerCase().includes(e.toLocaleLowerCase()),onChange:this.onDidChange.bind(this)},Object.keys(e).map((t=>zt.createElement(ll.default.OptGroup,{key:t,label:zt.createElement("span",null,zt.createElement(Ss.default,{type:"appstore"})," ",t)},e[t].sort(((e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()))).map((e=>zt.createElement(ll.default.Option,{key:e.id,value:e.id},e.name.includes(e.vendor)?e.name:`${e.name} (${e.vendor})`)))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(gl,"propTypes",{items:js().arrayOf(js().object),onChange:js().func.isRequired,loadBoards:js().func.isRequired});const yl=(0,Ps.$j)((function(e){return{items:Pi(e)}}),{loadBoards:ao})(gl);r("JT+3");var bl=r("Y/VR");function El(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vl extends zt.Component{constructor(){super(...arguments),this.state={showHidden:!1,pendingMakeDirs:!1,pendingRenameFile:!1,rootDir:null},this.props.loadLogicalDevices()}onDidRefresh(){this.props.resetFSItems(),this.state.rootDir&&this.onDidChangeRoot(this.state.rootDir)}onDidToggleHidden(){this.setState({showHidden:!this.state.showHidden})}onDidToggleFavorite(){this.props.toggleFavoriteFolder(this.state.rootDir)}onRequestCreateFolder(){this.setState({pendingMakeDirs:!this.state.pendingMakeDirs,pendingRenameFile:!1})}onRequestRenameFile(){this.setState({pendingRenameFile:!this.state.pendingRenameFile,pendingMakeDirs:!1})}onDidMakeDirs(e){const t=lr(this.state.rootDir,e.target.value);this.props.osMakeDirs(t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidRenameFile(e){const t=lr(cr(this.state.rootDir),e.target.value);this.props.osRenameFile(this.state.rootDir,t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidDuplicate(){const e=this.state.rootDir+" copy";this.props.osCopyFile(this.state.rootDir,e),this.props.resetFSItems(),this.onDidChangeRoot(e)}onDidChangeRoot(e){this.setState({rootDir:e,pendingMakeDirs:!1,pendingRenameFile:!1}),this.props.osListDir(e),"directory"===this.props.ask&&this.onDidSelectItem(e)}onDidSelectItem(e){return this.props.onSelect(e)}getRootItems(){return this.props.devices&&(!this.state.rootDir||this.props.osDirItems&&this.props.osDirItems[this.state.rootDir])?this.state.rootDir?this.props.osDirItems[this.state.rootDir].map((([e,t])=>({name:e,isDir:t,path:lr(this.state.rootDir,e)}))):this.props.devices.map((e=>({name:e.name||e.path,path:e.path,isDir:!0}))):null}filterHidden(e){return this.state.showHidden||!e.startsWith(".")}render(){return this.props.devices?zt.createElement("div",{className:"file-explorer"},this.renderToolbar(),zt.createElement(ta.default,null,zt.createElement(na.default,{xs:6,className:"fe-sidebar"},this.renderSidebar()),zt.createElement(na.default,{xs:18,className:"fe-tree"},this.renderBreadcrumb(),this.renderRootItems())),(this.state.pendingMakeDirs||this.state.pendingRenameFile)&&zt.createElement(ta.default,null,zt.createElement(na.default,{xs:6}),zt.createElement(na.default,{xs:18},zt.createElement(Es.default,{title:"Press Enter to finish..."},this.state.pendingMakeDirs?zt.createElement(Gs.default,{placeholder:"Folder Name",onPressEnter:this.onDidMakeDirs.bind(this),ref:e=>e?e.focus():""}):zt.createElement(Gs.default,{defaultValue:ur(this.state.rootDir),onPressEnter:this.onDidRenameFile.bind(this),ref:e=>e?e.focus():""}))))):zt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}renderToolbar(){return zt.createElement("div",{className:"fe-toolbar"},zt.createElement(yt.default.Group,{className:"inline-block"},zt.createElement(yt.default,{icon:"reload",title:"Refresh",onClick:this.onDidRefresh.bind(this)}),zt.createElement(yt.default,{icon:this.state.rootDir&&(this.props.favoriteFolders||[]).includes(this.state.rootDir)?"star":"star-o",title:"Toggle favorite folder",disabled:!this.state.rootDir,onClick:this.onDidToggleFavorite.bind(this)}),zt.createElement(yt.default,{icon:"eye",title:"Show hidden files",ghost:this.state.showHidden,type:this.state.showHidden?"primary":"default",onClick:this.onDidToggleHidden.bind(this)})),zt.createElement(yt.default.Group,{className:"inline-block"},zt.createElement(yt.default,{icon:"folder-add",title:"New folder",disabled:!this.state.rootDir,type:this.state.pendingMakeDirs?"danger":"default",onClick:this.onRequestCreateFolder.bind(this)},this.state.pendingMakeDirs?"Cancel":"New"),zt.createElement(yt.default,{icon:"edit",disabled:!this.state.rootDir,type:this.state.pendingRenameFile?"danger":"default",onClick:this.onRequestRenameFile.bind(this)},this.state.pendingRenameFile?"Cancel":"Rename")),zt.createElement(yt.default.Group,{className:"inline-block"},zt.createElement(yt.default,{icon:"copy",disabled:!this.state.rootDir,onClick:this.onDidDuplicate.bind(this)},"Duplicate"),zt.createElement(yt.default,{icon:"folder-open",disabled:!this.state.rootDir,onClick:()=>this.props.osRevealFile(this.state.rootDir)},"Reveal")))}renderBreadcrumb(){if(!this.state.rootDir)return;const e=[];let t=this.state.rootDir;for(;t;){e.push({path:t,name:ur(t)});const r=cr(t);if(!r||r===t)break;t=r&&r!==t?r:null}return zt.createElement("div",null,zt.createElement(bl.Z,{itemRender:(e,t,r)=>r[r.length-1].path===e.path?zt.createElement("span",null,e.name):zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name),routes:e.reverse()}),zt.createElement(ra.Z,null))}renderSidebar(){return zt.createElement("div",null,this.renderSiderbarFavorites(),zt.createElement("b",null,"Places"),zt.createElement("ul",{className:"block"},zt.createElement("li",null,zt.createElement(Ss.default,{type:"home"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.homeDir),title:this.props.homeDir},ur(this.props.homeDir))),zt.createElement("li",null,zt.createElement(Ss.default,{type:"book"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.projectsDir),title:this.props.projectsDir},"Projects"))),zt.createElement("b",null,"Devices"),zt.createElement("ul",null,this.props.devices.map((e=>zt.createElement("li",{key:e.path},zt.createElement(Ss.default,{type:"hdd"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path),title:e.name},!F&&e.name?e.name:e.path))))))}renderSiderbarFavorites(){const e=this.props.favoriteFolders||[];let t="";return t=e&&e.length?zt.createElement("ul",null,e.map((e=>zt.createElement("li",{key:e},zt.createElement(Ss.default,{type:"star-o"}),zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e),title:e},ur(e)))))):zt.createElement("div",null,zt.createElement("small",null,"Use ",zt.createElement(Ss.default,{type:"star-o"})," to add folder")),zt.createElement("div",{className:"block"},zt.createElement("b",null,"Favorites"),t)}renderRootItems(){const e=this.getRootItems();return e?e.length?zt.createElement("div",{className:"fe-root-items"},zt.createElement("ul",null,e.filter((e=>this.filterHidden(e.name))).map((e=>zt.createElement("li",{key:e.path},this.renderRootItem(e)))))):zt.createElement("ul",{className:"background-message text-center",style:{marginTop:"25px"}},zt.createElement("li",null,"No Items")):zt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}renderRootItem(e){const t=zt.createElement(Ss.default,{type:e.isDir?"folder":"file"});return e.isDir?zt.createElement("span",null,t," ",zt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name)):"directory"!==this.props.ask?zt.createElement("span",null,t," ",zt.createElement("a",{onClick:()=>this.onDidSelectItem(e.path)},e.name)):zt.createElement("span",null,t," ",e.name)}}El(vl,"propTypes",{ask:js().string,onSelect:js().func,devices:js().arrayOf(js().shape({path:js().string,name:js().string})),osDirItems:js().object,homeDir:js().string,projectsDir:js().string,favoriteFolders:js().arrayOf(js().string),loadLogicalDevices:js().func.isRequired,osListDir:js().func.isRequired,osMakeDirs:js().func.isRequired,osRevealFile:js().func.isRequired,osCopyFile:js().func.isRequired,osRenameFile:js().func.isRequired,resetFSItems:js().func.isRequired,toggleFavoriteFolder:js().func.isRequired}),El(vl,"defaultProps",{ask:"directory",onSelect:()=>{}});const wl=(0,Ps.$j)((function(e){return{devices:It(e),osDirItems:qt(e),homeDir:kt(e,"homeDir"),projectsDir:kt(e,"projectsDir"),favoriteFolders:kt(e,"favoriteFolders")}}),n)(vl);function Ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(r),!0).forEach((function(t){Pl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class kl extends zt.Component{constructor(){super(...arguments),this.state={selectedBoard:null,useArduinoLibs:!1,arduinoProjectDir:null,inProgress:!1}}onDidBoard(e){if(!e.frameworks||!e.frameworks.map((e=>e.name)).includes("arduino"))return this.setState({selectedBoard:null}),M.Z.error(`Board ${e.name} is not compatible with Arduino framework`);this.setState({selectedBoard:e.id})}onDidUseArduinoLibs(e){this.setState({useArduinoLibs:e.target.checked})}onDidArduinoProjectDir(e){this.setState({arduinoProjectDir:e})}onDidFinish(){return this.state.selectedBoard?this.state.arduinoProjectDir?(this.setState({inProgress:!0}),void this.props.importArduinoProject(this.state.selectedBoard,this.state.useArduinoLibs,this.state.arduinoProjectDir,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))):M.Z.error("Please select a folder with Arduino project"):M.Z.error("Please select a board")}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return zt.createElement(gt.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Import Arduino Project",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){return this.state.inProgress?zt.createElement(ul,{osOpenUrl:this.props.osOpenUrl}):zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Please select a board to initialize a project. You can change it later in"," ",zt.createElement("code",null,"platformio.ini")," file which will be created in a project directory:"),zt.createElement("div",{className:"block"},zt.createElement(yl,{onChange:this.onDidBoard.bind(this)})),zt.createElement("div",{className:"block"},zt.createElement(Na.default,{onChange:this.onDidUseArduinoLibs.bind(this),checked:this.state.useArduinoLibs},"Use libraries installed by Arduino IDE",zt.createElement(Es.default,{title:"We highly recommend to use PlatformIO Library Manager"},zt.createElement(Ss.default,{type:"question-circle",style:{marginLeft:"5px"}})))),zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a directory with existing Arduino IDE project:"),zt.createElement(wl,{ask:"directory",onSelect:this.onDidArduinoProjectDir.bind(this)}))}}Pl(kl,"propTypes",{visible:js().bool.isRequired,onCancel:js().func.isRequired,boards:js().array,addProject:js().func.isRequired,openProject:js().func.isRequired,importArduinoProject:js().func.isRequired,osOpenUrl:js().func.isRequired});const Cl=(0,Ps.$j)(null,jl(jl({},l),{},{osOpenUrl:ye}))(kl);function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){Rl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tl extends zt.Component{constructor(){super(...arguments),this.state={selectedFramework:null,useDefaultLocation:!0,useDefaultSpineLocation:!0,frameworks:[],projectLocation:null,spineLocation:"",inProgress:!1}}onDidBoard(e){const t=e.frameworks||[];this.setState({selectedFramework:t.length?t[0].name:null,frameworks:t})}onDidFramework(e){this.setState({selectedFramework:e})}onDidUseDefaultLocation(e){this.setState({useDefaultLocation:e.target.checked})}onDidUseDefaultSpineLocation(e){this.setState({useDefaultSpineLocation:e.target.checked})}onDidProjectLocation(e){this.props.form.resetFields(["isCustomLocation"]),this.setState({projectLocation:e})}onDidSpineLocation(e){this.props.form.resetFields(["isCustomSpineLocation"]),this.setState({spineLocation:e})}onDidFinish(){this.props.form.resetFields(["isCustomLocation"]),this.props.form.validateFields(((e,t)=>{if(e)return;this.setState({inProgress:!0});const r=this.state.useDefaultLocation?this.props.projectsDir:this.state.projectLocation,n=this.state.useDefaultSpineLocation?this.props.spineDir:this.state.spineLocation;this.props.initProject(t.board.id,this.state.selectedFramework,lr(r,t.name),n,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel(t))}))}))}onDidCancel(e){this.setState({inProgress:!1}),this.props.onCancel(e)}render(){return zt.createElement(gt.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Project Wizard",okText:this.state.inProgress?"Please wait...":"Finish",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return zt.createElement(ul,{osOpenUrl:this.props.osOpenUrl});const{getFieldDecorator:e}=this.props.form;return zt.createElement(Ws.Z,{hideRequiredMark:!0},zt.createElement("div",{className:"block"},"This wizard allows you to ",zt.createElement("b",null,"create new")," PlatformIO project or"," ",zt.createElement("b",null,"update existing"),'. In the last case, you need to uncheck "Use default location" and specify path to existing project.'),zt.createElement(Ws.Z.Item,{label:"Name",labelCol:{span:4},wrapperCol:{span:20}},e("name",{rules:[{required:!0,whitespace:!0,pattern:/^[a-z\d\_\-\. ]+$/i,message:"Please input a valid name for project folder! [a-z0-9_-. ]"}]})(zt.createElement(Gs.default,{placeholder:"Project name"}))),zt.createElement(Ws.Z.Item,{label:"Board",labelCol:{span:4},wrapperCol:{span:20}},e("board",{rules:[{required:!0,message:"Please select a board!"}]})(zt.createElement(yl,{onChange:this.onDidBoard.bind(this)}))),zt.createElement(Ws.Z.Item,{label:"Framework",labelCol:{span:4},wrapperCol:{span:20}},zt.createElement(ll.default,{value:this.state.selectedFramework,style:{width:"100%"},size:"large",disabled:!this.state.selectedFramework,onChange:this.onDidFramework.bind(this)},this.state.frameworks.map((e=>zt.createElement(ll.default.Option,{key:e.name,value:e.name,title:e.title},e.title))))),zt.createElement(Ws.Z.Item,{label:"Location",labelCol:{span:4},wrapperCol:{span:20}},e("isCustomLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultLocation&&!this.state.projectLocation||void 0)),200),message:"Please select a custom project location!"}]})(zt.createElement(Na.default,{onChange:this.onDidUseDefaultLocation.bind(this),checked:this.state.useDefaultLocation},"Use default location",zt.createElement(Es.default,{title:`Default location for PlatformIO Projects is: "${this.props.projectsDir}"`,overlayStyle:{wordBreak:"break-all"}},zt.createElement(Ss.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultLocation&&this.renderExplorer(),zt.createElement(Ws.Z.Item,{label:"Spine",labelCol:{span:4},wrapperCol:{span:20}},e("isCustomSpineLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultSpineLocation&&!this.state.spineLocation||void 0)),200),message:"Please select a custom spine folder location!"}]})(zt.createElement(Na.default,{onChange:this.onDidUseDefaultSpineLocation.bind(this),checked:this.state.useDefaultSpineLocation},"Use default spine location",zt.createElement(Es.default,{title:`Default location for Spine folder is: "${this.props.spineDir}"`,overlayStyle:{wordBreak:"break-all"}},zt.createElement(Ss.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultSpineLocation&&this.renderSpineExplorer())}renderExplorer(){return zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location where we will create project folder:"),zt.createElement(wl,{ask:"directory",onSelect:this.onDidProjectLocation.bind(this)}))}renderSpineExplorer(){return zt.createElement("div",null,zt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location for the Spine folder:"),zt.createElement(wl,{ask:"directory",onSelect:this.onDidSpineLocation.bind(this)}))}}Rl(Tl,"propTypes",{form:js().object.isRequired,visible:js().bool.isRequired,onCancel:js().func.isRequired,projectsDir:js().string,spineDir:js().string,addProject:js().func.isRequired,openProject:js().func.isRequired,initProject:js().func.isRequired,osOpenUrl:js().func.isRequired});const Nl=(0,Ps.$j)((function(e){return{projectsDir:kt(e,"projectsDir"),spineDir:kt(e,"spineDir")}}),Dl(Dl({},l),{},{osOpenUrl:ye}))(Ws.Z.create()(Tl));class xl extends zt.Component{constructor(){super(...arguments),this.state={projectDir:null,checking:!1}}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}onDidOpen(){if(!this.state.projectDir)return M.Z.error("Please select Project Folder");this.setState({checking:!0}),this.props.addProject(this.state.projectDir,{withOpen:!this.props.skipOpenProject,onEnd:(e,t)=>{if(this._mounted){if(this.setState({checking:!1}),e)return M.Z.error(e);this.props.onCancel(t)}}})}onDidCancel(){this.props.onCancel()}onDidSelect(e){this.setState({projectDir:e})}render(){return zt.createElement(gt.Z,{visible:this.props.visible,className:"project-open-modal",width:600,title:"Open PlatformIO Project",onOk:this.onDidOpen.bind(this),onCancel:this.onDidCancel.bind(this),footer:this.renderFooter()},zt.createElement(wl,{ask:"directory",onSelect:this.onDidSelect.bind(this)}))}renderFooter(){return[zt.createElement(yt.default,{key:"cancel",size:"large",onClick:this.onDidCancel.bind(this)},"Cancel"),zt.createElement(yt.default,{key:"submit",type:"primary",size:"large",disabled:!this.state.projectDir||this.state.checking,loading:this.state.checking,onClick:this.onDidOpen.bind(this)},"Open"+(this.state.projectDir?` "${ur(this.state.projectDir)}"`:""))]}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xl,"propTypes",{skipOpenProject:js().bool,visible:js().bool,onCancel:js().func.isRequired,addProject:js().func.isRequired});const Il=(0,Ps.$j)(void 0,{addProject:Ao})(xl);r("mN36");var ql=r("N9UN");class _l extends zt.Component{constructor(){super(...arguments);const e=Is("linkedin");this.props.loadLatestTweets(e.substring(e.lastIndexOf("/")+1))}onClickItem(e,t){return e.preventDefault(),this.props.osOpenUrl(t.permalink)}render(){return zt.createElement("div",{className:"recent-news"},zt.createElement(ra.Z,null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl(Is("linkedin"))},"Recent News")),this.renderCarousel())}renderCarousel(){return this.props.items?this.props.items instanceof B.ZP.JsonRpcError?zt.createElement("div",{className:"text-center"},zt.createElement(Es.default,{title:this.props.items.message},"An error occurred loading the latest news. Try again later."," ",zt.createElement(Ss.default,{type:"info-circle-o"}))):zt.createElement(cl.Z,{className:"block"},[...Array(Math.ceil(this.props.items.length/3)).keys()].map((e=>zt.createElement("div",{key:e},zt.createElement(ta.default,{gutter:18},zt.createElement(na.default,{span:8},this.renderCard(3*e)),zt.createElement(na.default,{span:8},this.renderCard(3*e+1)),zt.createElement(na.default,{span:8},this.renderCard(3*e+2))))))):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading..."}))}renderCard(e){if(e>=this.props.items.length)return null;const t=this.props.items[e];let r=Ns("companyLogoSrc");t.content.thumbnail&&(r=t.content?.thumbnail?.url);const n=zt.createElement("ul",{className:"list-inline"},t.isPinned&&zt.createElement("li",null,zt.createElement(Ss.default,{type:"pushpin",title:"Pinned news"})),zt.createElement("li",null,t.author),zt.createElement("li",null,"•"),zt.createElement("li",null,t.timeFormatted)),i=zt.createElement("div",{style:{backgroundImage:`url(${r})`}});return zt.createElement(ql.Z,{hoverable:!0,cover:i,onClick:e=>this.onClickItem(e,t)},zt.createElement(ql.Z.Meta,{title:n,description:zt.createElement("span",{dangerouslySetInnerHTML:{__html:t.text.replace(/[\n]+/g,"\n<br />")}}),style:{color:"red !important"}}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_l,"propTypes",{items:js().oneOfType([js().array,js().instanceOf(B.ZP.JsonRpcError)]),loadLatestTweets:js().func.isRequired,osOpenUrl:js().func.isRequired});const Ll=(0,Ps.$j)((function(e){return{items:or(e)}}),{loadLatestTweets:e=>m(ir,{username:e}),osOpenUrl:ye})(_l);class Fl extends zt.Component{constructor(){super(...arguments),this.props.loadProjects()}onDidShowBoard(e){this.props.updateInputValue(ii,e),this.props.showBoards()}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-word-break",sorter:(e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase())},{title:xs("Boards"),key:"boards",className:"text-word-break",render:(e,t)=>{const r=[];return zt.createElement("span",null,t.boards.filter((e=>!r.includes(e.id)&&(r.push(e.id),!0))).map(((e,r)=>zt.createElement("span",{key:e.id},zt.createElement("a",{onClick:()=>this.onDidShowBoard(e.name)},e.name)," ",t.boards.length>r+1?", ":""))))}},{title:"Modified",key:"modified",className:"text-nowrap",sorter:(e,t)=>ct(t.modified,e.modified),render:(e,t)=>zt.createElement(Es.default,{title:new Date(1e3*t.modified).toString()},kr().relativeTime(t.modified))},{title:"Action",key:"action",className:"text-nowrap",width:100,render:(e,t)=>zt.createElement("span",null,zt.createElement("a",{onClick:()=>this.props.hideProject(t.path)},"Hide")," ",zt.createElement("span",{className:"ant-divider"})," ",zt.createElement("a",{onClick:()=>this.props.openProject(t.path)},"Open"))}]}render(){return zt.createElement("div",{className:"block"},zt.createElement(ra.Z,null,"Recent Projects"),this.renderProjects())}renderProjects(){return this.props.items?this.props.items.length||this.props.filterValue?zt.createElement("div",null,zt.createElement(Gs.default,{className:"block",defaultValue:this.props.filterValue,placeholder:"Search project...",onChange:e=>this.props.setFilter(e.target.value)}),zt.createElement(pa.Z,{rowKey:"path",className:"block",dataSource:this.props.items,columns:this.getTableColumns(),expandedRowRender:this.renderExpandedRow.bind(this),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}})):zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",onClick:()=>this.props.showProjectExamplesModal()},"Open Project Examples")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",onClick:()=>this.props.showOpenProjectModal()},"Open Existing Project")))):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading..."}))}renderExpandedRow(e){return zt.createElement("div",null,zt.createElement(Ss.default,{type:"folder",className:"inline-block-tight"}),zt.createElement("a",{onClick:()=>this.props.osRevealFile(e.path)},e.path))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fl,"propTypes",{router:js().object.isRequired,showProjectExamplesModal:js().func.isRequired,showOpenProjectModal:js().func.isRequired,items:js().arrayOf(js().shape({name:js().string.isRequired,path:js().string.isRequired,modified:js().number.isRequired,boards:js().arrayOf(js().shape({id:js().string.isRequired,name:js().string.isRequired}))})),filterValue:js().string,setFilter:js().func.isRequired,updateInputValue:js().func.isRequired,openProject:js().func.isRequired,hideProject:js().func.isRequired,loadProjects:js().func.isRequired,osRevealFile:js().func.isRequired,showBoards:js().func.isRequired});const Al=(0,Ps.$j)((function(e,t){return{items:Tn(e),filterValue:Sn(e),showBoards:()=>at(t.router.history,"/boards")}}),(function(e){return(0,c.DE)(Object.assign({},l,{osRevealFile:be,updateInputValue:q,setFilter:t=>e(_(Cn,t))}),e)}))(Fl);function Ul(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class zl extends zt.Component{constructor(){super(...arguments),this.state={newProjectVisible:!1,importArduinoProjectVisible:!1,openProjectVisible:!1,projectExamplesVisible:!1}}onDidShowOnStartup(e){this.props.showAtStartup(e.target.checked)}onDidNewProject(){this.setState({newProjectVisible:!0})}onDidCancelNewProject(){this.setState({newProjectVisible:!1})}onDidImportArduinoProject(){this.setState({importArduinoProjectVisible:!0})}onDidCancelImportArduinoProject(){this.setState({importArduinoProjectVisible:!1})}onDidOpenProject(){this.setState({openProjectVisible:!0})}onDidCancelOpenProject(){this.setState({openProjectVisible:!1})}onDidProjectExamples(){this.setState({projectExamplesVisible:!0})}onDidCancelProjectExamples(){this.setState({projectExamplesVisible:!1})}render(){return zt.createElement("section",{className:"page-container"},zt.createElement("div",{className:"home-page"},zt.createElement("h1",null,"Welcome to"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(Is("welcome",Is("home")))},Ns("title"))," ",zt.createElement("small",{className:"pull-right",style:{marginTop:"15px"}},this.renderShowAtStartup())),zt.createElement(ta.default,{className:"text-center"},zt.createElement(na.default,{span:12,className:"company-logo-versions"},zt.createElement("a",{onClick:()=>this.props.osOpenUrl(Is("home"))},zt.createElement(Ls,{height:Ns("companyLogoHomeHeight")})),Ns("showPIOVersions",!1)&&zt.createElement(al,null)),zt.createElement(na.default,{span:12},this.renderQuickAccess())),zt.createElement(Ll,null),zt.createElement(Al,{router:this.context.router,showProjectExamplesModal:this.onDidProjectExamples.bind(this),showOpenProjectModal:this.onDidOpenProject.bind(this)})))}renderQuickAccess(){return zt.createElement("div",{className:"quick-buttons"},zt.createElement("h2",null,"Quick Access"),zt.createElement("ul",null,!Ns("ignoreQuickAccessButtons",[]).includes("new-project")&&zt.createElement("li",null,zt.createElement(Nl,{visible:this.state.newProjectVisible,onCancel:this.onDidCancelNewProject.bind(this)}),zt.createElement(yt.default,{size:"large",icon:"plus",disabled:this.state.newProjectVisible,onClick:this.onDidNewProject.bind(this)},"New Project")),!Ns("ignoreQuickAccessButtons",[]).includes("import-arduino-project")&&zt.createElement("li",null,zt.createElement(Cl,{visible:this.state.importArduinoProjectVisible,onCancel:this.onDidCancelImportArduinoProject.bind(this)}),zt.createElement(yt.default,{size:"large",icon:"folder-add",disabled:this.state.importArduinoProjectVisible,onClick:this.onDidImportArduinoProject.bind(this)},"Import Arduino Project")),zt.createElement("li",null,zt.createElement(Il,{visible:this.state.openProjectVisible,onCancel:this.onDidCancelOpenProject.bind(this)}),zt.createElement(yt.default,{size:"large",icon:"folder",disabled:this.state.openProjectVisible,onClick:this.onDidOpenProject.bind(this)},"Open Project")),zt.createElement("li",null,zt.createElement(hl,{router:this.context.router,visible:this.state.projectExamplesVisible,onCancel:this.onDidCancelProjectExamples.bind(this)}),zt.createElement(yt.default,{size:"large",icon:"copy",disabled:this.state.projectExamplesVisible,onClick:this.onDidProjectExamples.bind(this)},xs("homeQuickButtonProjectExamples")))))}renderShowAtStartup(){return this.props.caller?zt.createElement("div",{className:"block text-center"},zt.createElement(Na.default,{defaultChecked:this.props.showOnStartupState,onChange:this.onDidShowOnStartup.bind(this)},"Show at startup")):null}}Ul(zl,"contextTypes",{router:js().object.isRequired}),Ul(zl,"propTypes",{caller:js().string,showOnStartupState:js().bool,osOpenUrl:js().func.isRequired,showAtStartup:js().func.isRequired});const Vl=(0,Ps.$j)((function(e){return{caller:kt(e,"coreCaller"),showOnStartupState:Ct(e)}}),{osOpenUrl:ye,showAtStartup:ge})(zl);r("LGkk");var $l=r("rVaU");class Ml extends zt.Component{constructor(...e){super(...e),this.state={}}componentDidMount(){this._isMounted=!0;this.props.loadProjects(!0),this.props.form.setFieldsValue(this.props.savedConfiguration||{memory:!0,code:!0})}componentDidUpdate(e){if(this.props.savedConfiguration&&!Dr(e.savedConfiguration,this.props.savedConfiguration)&&this.props.form.setFieldsValue(this.props.savedConfiguration),this.props.projects&&e.projects!==this.props.projects){const e=this.props.form.getFieldValue("projectDir");e&&!this.props.projects.find((t=>t.path===e))&&this.props.form.setFieldsValue({projectDir:void 0})}}componentWillUnmount(){this._isMounted=!1}isValid(){const{projectDir:e,env:t,memory:r,code:n}=this.props.form.getFieldsValue();return e&&e.length&&t&&t.length&&(r||n)}handleSubmit(e){if(e.preventDefault(),!this.isValid())return;const{projectDir:t,env:r,memory:n,code:i}=this.props.form.getFieldsValue(),o={projectDir:t,env:r,memory:n,code:i};this.setState({running:!0,error:void 0}),this.props.inspectProject(o,(()=>{this._isMounted&&this.setState({running:!1})}))}handleProjectChange(e){const t=this._getProjectEnvs(e);this.props.form.setFieldsValue({env:1===t.length?t[0]:void 0})}handleOpenProjectCancel(e){this.setState({openProjectVisible:!1}),e&&this.props.form.setFieldsValue({projectDir:e,env:void 0})}handleOpenProjectClick(){this.setState({openProjectVisible:!0})}handleFilterOption(e,t){t.props.children.toLowerCase().includes(e.toLocaleLowerCase())}renderProjectSelect(){return this.props.form.getFieldDecorator("projectDir")(zt.createElement(ll.default,{loading:!this.props.projects,showSearch:!0,style:{width:"100%"},size:"large",placeholder:this.props.projects?"Select a project":"Loading…",optionFilterProp:"children",filterOption:this.handleFilterOption.bind(this),onChange:this.handleProjectChange.bind(this)},(this.props.projects||[]).sort(((e,t)=>e.name.localeCompare(t.name))).map((({name:e,path:t})=>zt.createElement(ll.default.Option,{key:t,value:t},e)))))}_getProjectByPath(e){return(this.props.projects||[]).find((t=>t.path===e))}_getProjectEnvs(e){const t=this._getProjectByPath(e);return(t&&t.envs||[]).sort(((e,t)=>e.localeCompare(t)))}renderEnvSelect(){const e=this.props.form.getFieldValue("projectDir"),t=this._getProjectEnvs(e);return this.props.form.getFieldDecorator("env")(zt.createElement(ll.default,{loading:!this.props.projects,disabled:!e,style:{width:"100%"},size:"large",placeholder:e&&t?"Select environment":""},t.map((e=>zt.createElement(ll.default.Option,{key:e,value:e},e)))))}render(){return zt.createElement("div",{className:"inspect-configuration-page"},zt.createElement(Il,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel.bind(this)}),zt.createElement("h1",{style:{marginTop:12}},"Project Inspection"),zt.createElement("p",null,"A report after inspection includes memory use information with a detailed visual view of memory utilization, helps locate and improve parts of the application like symbols or functions which have a significant memory footprint. A static code analysis report helps spot and fix software defects before debugging."),zt.createElement("p",null,zt.createElement(Ss.default,{type:"bulb"})," Building a project in"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/build_configurations.html")},"debug mode")," ","before an inspection can significantly reduce the processing time."),zt.createElement(Ws.Z,{layout:"vertical",onSubmit:this.handleSubmit.bind(this)},zt.createElement(Ws.Z.Item,{label:"Project"},zt.createElement(ta.default,{gutter:8},zt.createElement(na.default,{xs:24,sm:17,md:19,lg:20},this.renderProjectSelect()),zt.createElement(na.default,{xs:24,sm:7,md:5,lg:4},zt.createElement(yt.default,{icon:"folder",size:"large",style:{width:"100%"},onClick:this.handleOpenProjectClick.bind(this)},"Browse")))),zt.createElement(Ws.Z.Item,{label:"Environment"},this.renderEnvSelect()),zt.createElement(Ws.Z.Item,null,zt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("memory",{valuePropName:"checked",initialValue:!0})(zt.createElement($l.Z,null))," ","Inspect Memory"),zt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("code",{valuePropName:"checked",initialValue:!0})(zt.createElement($l.Z,null))," ","Check Code")),zt.createElement(Ws.Z.Item,null,zt.createElement(yt.default,{htmlType:"submit",disabled:!this.isValid(),loading:this.state.running,size:"large",icon:"caret-right",type:"primary"},"Inspect"))),this.props.error&&zt.createElement("div",null,zt.createElement("div",{className:"ant-form-item-label"},zt.createElement("label",null,"Errors")),zt.createElement("div",{className:"inspect-config-console"},this.props.error.replace(/\\\\n/g,"\n"))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ml,"propTypes",{error:js().string,form:js().object.isRequired,history:js().object.isRequired,projects:js().arrayOf(js().shape({name:js().string.isRequired,path:js().string.isRequired})),savedConfiguration:js().object,inspectProject:js().func.isRequired,loadProjects:js().func.isRequired,osOpenUrl:js().func.isRequired});const Zl={inspectProject:Or,loadProjects:$o,osOpenUrl:ye},Bl=(0,Ps.$j)((function(e){return{error:Jr(e),projects:Dn(e),savedConfiguration:Gr(e)}}),Zl)(Ml),Yl=Ws.Z.create()(Bl),Wl=js().shape({code:js().bool,env:js().string.isRequired,memory:js().bool,projectDir:js().string.isRequired}),Gl=js().shape({category:js().string.isRequired,column:js().number.isRequired,file:js().string.isRequired,id:js().string.isRequired,line:js().number.isRequired,message:js().string.isRequired,severity:js().string.isRequired,tool:js().string.isRequired}),Kl=js().shape({addr:js().number.isRequired,bind:js().string.isRequired,displayName:js().string.isRequired,demangled_name:js().string,name:js().string.isRequired,section:js().string.isRequired,size:js().number.isRequired,type:js().string.isRequired,file:js().string,line:js().number}),Hl=js().arrayOf(js().shape({name:js().string,flags:js().string,size:js().number,startAddr:js().number,type:js().string})),Jl=js().shape({cpu:js().string,flash:js().number,frequency:js().number,mcu:js().string,ram:js().number});r("5Nzg");var Ql=r("CgBw");const Xl=.9;class ec extends zt.PureComponent{static getCurrentStep(e){return e.steps.find((e=>!e.done))}constructor(...e){super(...e);const t=Date.now().valueOf(),r=ec.getCurrentStep(this.props);this.state=r?{mode:1,stepStartedAt:t,stepDuration:0}:{}}componentDidMount(){this.timer=setInterval(this.handleTimer.bind(this),200)}componentDidUpdate(e){const t=ec.getCurrentStep(e),r=ec.getCurrentStep(this.props);t&&r&&t.name!==r.name&&this.setState({mode:1,stepStartedAt:Date.now().valueOf(),stepDuration:0})}componentWillUnmount(){clearInterval(this.timer)}getExpProgress(e){return Xl+(1-Xl)*(1-1/Math.exp(e/1e5))}handleTimer(){this.setState((e=>{const t=ec.getCurrentStep(this.props);if(!t||!e.stepStartedAt)return void clearInterval(this.timer);const r=Date.now()-e.stepStartedAt,n={stepDuration:r};return r/t.expectedDuration>=Xl&&2!==e.mode&&(n.mode=2),n}))}render(){let e,t=0,r=0;if(this.props.steps.every((e=>e.done)))e="Complete",t=r=1;else{const n=ec.getCurrentStep(this.props),i=this.props.steps.length,o=this.props.steps.indexOf(n)/i;let s;1===this.state.mode?s=this.state.stepDuration/n.expectedDuration:2===this.state.mode&&(s=this.getExpProgress(this.state.stepDuration-n.expectedDuration*Xl)),r=o+s/i;const a=this.props.steps.filter((e=>e.done)).length;i>1&&(t=a/i),e=`Inspecting… ${n.name}`}return zt.createElement("div",null,zt.createElement("center",null,e,": ",(100*r).toFixed(0),"%"),zt.createElement(Ql.Z,{format:e=>`${e.toFixed(0)}%`,successPercent:100*t,percent:100*r}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ec,"propTypes",{steps:js().arrayOf(js().shape({done:js().bool.isRequired,expectedDuration:js().number.isRequired,name:js().string.isRequired})).isRequired});class tc extends zt.PureComponent{componentDidUpdate(){this.props.project||this.props.showConfiguration()}render(){if(!this.props.project)return null;const e=[];return this.props.configuration.memory&&e.push({done:this.props.memoryDone,expectedDuration:this.props.memoryDuration||2e4,name:"Memory"}),this.props.configuration.code&&e.push({done:this.props.codeDone,expectedDuration:this.props.codeDuration||2e4,name:"Code"}),zt.createElement("div",{className:"inspect-processing-page"},zt.createElement("h1",{style:{marginTop:10,marginBottom:0}},zt.createElement(Es.default,{title:this.props.project.path},this.props.project.name),zt.createElement("small",null," ",zt.createElement("b",null,"env:",this.props.configuration.env))),(!this.props.data||!this.props.data.error)&&zt.createElement(ec,{steps:e}),this.props.data&&this.props.data.error&&zt.createElement(xa.Z,{type:"error",showIcon:!0,message:"Sorry, error occurred during inspection",description:zt.createElement("div",{className:"inspect-config-console"},this.props.data.error)}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(tc,"propTypes",{configuration:Wl,data:js().object,memoryDone:js().bool,memoryDuration:js().number,codeDone:js().bool,codeDuration:js().number,project:js().shape({name:js().string.isRequired,path:js().string.isRequired}),showConfiguration:js().func.isRequired});const rc=(0,Ps.$j)((function(e){const t=Gr(e);return{configuration:t,codeDuration:Wr(e,"code",t.projectDir,t.env),memoryDuration:Wr(e,"memory",t.projectDir,t.env),data:Hr(e),codeDone:!!on(e),memoryDone:!!nn(e),project:Nn(e,t.projectDir)}}),(function(e,t){return{showConfiguration:()=>at(t.history,"/inspect")}}))(tc);function nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(r),!0).forEach((function(t){oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class sc extends zt.PureComponent{constructor(...e){super(...e),this.state={search:""}}static renderSeverityLevel(e){const t=Er[e];return zt.createElement(da.Z,{className:`severity-tag severity-${t.toLowerCase()}`},t.toUpperCase())}renderMessage(e,t){return zt.createElement("span",null,t.cwe&&zt.createElement("a",{style:{marginRight:5},onClick:()=>this.props.osOpenUrl(`https://cwe.mitre.org/data/definitions/${t.cwe}.html`)},"CWE-",t.cwe,":"),t.id?zt.createElement(Es.default,{title:`${t.tool} defect ID: ${t.id}`},e):e)}getTableColumns(e){return[{title:"Tool",dataIndex:"tool",filters:Ar(e,"tool"),onFilter:(e,t)=>t.tool===e,sorter:_r("string","tool"),align:"center"},{title:"Level",dataIndex:"level",defaultSortOrder:"ascend",filters:Object.entries(Er).map((([e,t])=>({text:t,value:parseInt(e)}))),onFilter:(e,t)=>t.level===e,render:sc.renderSeverityLevel,sorter:_r("number","level"),align:"center"},{title:"Category",dataIndex:"category",filters:Ar(e,"category"),onFilter:(e,t)=>t.category===e,render:e=>zt.createElement(da.Z,null,e.toUpperCase()),sorter:_r("string","category"),align:"center"},{title:"Message",dataIndex:"message",sorter:_r("string","message"),render:this.renderMessage.bind(this)},{title:"Location",dataIndex:"file",render:(e,{line:t,column:r})=>zt.createElement("a",{onClick:()=>this.props.openTextDocument(e,t,r)},zt.createElement(Es.default,{title:e},Ur(e,25),":",t,":",r)),sorter:xr(_r("string","file"),_r("number","line"),_r("number","column"))}]}render(){const{defects:e}=this.props,t=e.map(((e,t)=>ic(ic({},e),{},{idx:t})));return zt.createElement("div",{className:"page-container"},zt.createElement(pa.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}oc(sc,"propTypes",{defects:js().arrayOf(Gl),osOpenUrl:js().func.isRequired,openTextDocument:js().func.isRequired});class ac extends zt.PureComponent{render(){const{defects:e}=this.props;return zt.createElement("div",{className:"inspect-code-page"},!e&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Defects")),e&&0!==e.length&&zt.createElement(sc,{defects:e,osOpenUrl:this.props.osOpenUrl,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ac,"propTypes",{defects:js().arrayOf(Gl),osOpenUrl:js().func.isRequired,openTextDocument:js().func.isRequired});const lc={osOpenUrl:ye,openTextDocument:Te},cc=(0,Ps.$j)((function(e){return{defects:en(e)}}),lc)(ac);function uc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pc extends zt.PureComponent{constructor(...e){super(...e),uc(this,"handleItemClick",(e=>{e.preventDefault();const t=e.target.closest("a");if(!t)return;const r=parseInt(t.dataset.idx),n=(this.props.path||"").split("/").slice(0,r).join("/");this.props.onChange(n.length?n:void 0)}))}render(){const{path:e}=this.props,t=(e||"").split("/");let r;return t.length&&(r=t.pop()),zt.createElement(bl.Z,{className:"block",separator:"/"},zt.createElement(bl.Z.Item,{key:0},zt.createElement("a",{"data-idx":0,onClick:this.handleItemClick},zt.createElement(Ss.default,{type:"book"}))),t.map(((e,t)=>0!==e.length&&zt.createElement(bl.Z.Item,{key:t+1},zt.createElement("a",{"data-idx":t+1,onClick:this.handleItemClick},e)))),void 0!==r&&zt.createElement(bl.Z.Item,{key:-1},r))}}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach((function(t){fc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}uc(pc,"propTypes",{path:js().string,onChange:js().func});const hc=Object.freeze({idx:-1,isDir:!0,relativePath:Cr}),gc=js().shape({relativePath:js().string.isRequired,isDir:js().bool,ram:js().int,flash:js().int}),yc=js().arrayOf(gc);function bc(e,t){return function(e,t){return e-t}(t.isDir,e.isDir)}class Ec extends zt.PureComponent{renderIcon(e){return zt.createElement(Ss.default,{type:e?"folder-open":"file-text"})}getTableColumns(){return[{title:"Name",dataIndex:"relativePath",defaultSortOrder:"ascend",render:(e,t)=>zt.createElement("a",null,this.renderIcon(t.isDir)," ",e.replace(/^\//,"")),sorter:xr(bc,((e,t)=>qr(e.relativePath,t.relativePath))),width:"100%"},{title:"Flash",dataIndex:"flash",render:e=>zt.createElement("div",{className:"text-nowrap"},Tr(e)),sorter:xr(bc,((e,t)=>Ir(e.flash,t.flash))),align:"right"},{title:"RAM",dataIndex:"ram",render:e=>zt.createElement("div",{className:"text-nowrap"},Tr(e)),sorter:xr(bc,((e,t)=>Ir(e.ram,t.ram))),align:"right"}]}handleRowClick(e){e.preventDefault();const t=e.target.closest("tr");if(!t)return;const{onDirChange:r,items:n,dir:i=""}=this.props,o=parseInt(t.dataset.rowKey);let s;if(-1===o){const e=i.split("/");e.pop(),s=e.join("/"),""===s&&(s=void 0)}else{const e=n[o];if(s=i.length?`${i}/${e.relativePath}`:e.relativePath,!e.isDir)return void this.props.onFileClick(s)}r(s)}handleBreadcrumbChange(e){this.props.onDirChange(e)}render(){const{items:e,dir:t}=this.props;return 0===e.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Items")):zt.createElement("div",null,zt.createElement(pc,{path:t,onChange:this.handleBreadcrumbChange.bind(this)}),this.renderList())}renderFooter(e){const t=e.reduce(((e,{ram:t,flash:r})=>(e.ram+=0|t,e.flash+=0|r,e)),{ram:0,flash:0});return zt.createElement("div",{className:"text-right"},`Total: ${Rr(t.flash)} Flash, ${Rr(t.ram)} RAM`)}renderList(){const{dir:e=""}=this.props,t=this.props.items.map(((e,t)=>mc(mc({},e),{},{idx:t}))),r=e.length?[hc,...t]:t;return zt.createElement(pa.Z,{childrenColumnName:"_",columns:this.getTableColumns(),dataSource:r,footer:this.renderFooter.bind(this),onRow:()=>({onClick:this.handleRowClick.bind(this)}),pagination:!1,rowKey:"idx",size:"middle"})}}function vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(r),!0).forEach((function(t){Oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}fc(Ec,"propTypes",{dir:js().string,items:yc,onDirChange:js().func.isRequired,onFileClick:js().func});const jc={STT_FUNC:1,STT_OBJECT:2};function Pc(e,t){return Ir(jc[e.type]||0,jc[t.type]||0)}class kc extends zt.PureComponent{constructor(...e){super(...e),Oc(this,"renderAddress",(e=>zt.createElement("code",null,Nr(e,{width:this.addressWidth})))),Oc(this,"handleBreadcrumbChange",(e=>{this.props.onDirChange(e)})),Oc(this,"handleSearch",(e=>{this.setState({search:e})})),Oc(this,"renderFooter",(e=>{const t=e.reduce(((e,{size:t=0})=>e+t),0);return zt.createElement("div",{className:"text-right"},`Total Size on Page: ${Rr(t)}`)})),this.state={search:""}}componentDidMount(){this.searchEl&&this.searchEl.focus()}renderIcon(e){const t=gr[e];return t&&zt.createElement(Ss.default,{type:t})}renderDisplayName(e,t){return t.file?zt.createElement("span",null,this.renderIcon(t.type)," ",e," ",zt.createElement(Es.default,{placement:"right",title:`at ${t.file}:${t.line}`,overlayStyle:{maxWidth:400}},zt.createElement("a",{onClick:()=>this.props.openTextDocument(t.file,t.line)},zt.createElement(Ss.default,{type:"search",className:"open-document-icon"})))):zt.createElement("span",null,this.renderIcon(t.type)," ",e)}getTableColumns(e){return[{title:"Name",dataIndex:"displayName",render:this.renderDisplayName.bind(this),sorter:xr(Pc,((e,t)=>qr(e.displayName,t.displayName))),width:"100%"},{title:"Type",align:"center",dataIndex:"type",render:e=>zt.createElement(da.Z,null,e),filters:Ar(e,"type"),onFilter:(e,t)=>t.type.includes(e),sorter:(e,t)=>qr(e.type,t.type)},{title:"Bind",align:"center",dataIndex:"bind",render:e=>zt.createElement(da.Z,null,e),filters:Ar(e,"bind"),onFilter:(e,t)=>t.bind.includes(e),sorter:(e,t)=>qr(e.bind,t.bind)},{title:"Address",dataIndex:"addr",render:this.renderAddress,sorter:(e,t)=>Ir(e.addr,t.addr),align:"center"},{title:"Section",dataIndex:"section",render:e=>zt.createElement(da.Z,null,e),filters:Ar(e,"section"),onFilter:(e,t)=>t.section===e,sorter:(e,t)=>qr(e.section,t.section),align:"center"},{title:"Size",dataIndex:"size",render:e=>zt.createElement("div",{className:"text-nowrap"},Rr(e)),sorter:(e,t)=>Ir(e.size,t.size),align:"right"}]}getMaxAddressWidth(e){let t=e.length,r=0;for(;t--;){const{addr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}getSearchResults(){const{symbols:e}=this.props,{search:t}=this.state;if(!t.length)return e;const r=["0","0x"],n=["name","demangled_name","section"],i=t.match(/\S+/g).filter((e=>!r.includes(e))).map((e=>isNaN(e)?e:e.toLowerCase()));return e.filter((e=>{for(const t of i){let r=!1;if(isNaN(t)){for(const i of n)if(e[i]&&e[i].includes(t)){r=!0;break}}else{const n=Nr(e.addr).toLowerCase();(n.startsWith(t)||n.endsWith(t.replace("0x","")))&&(r=!0)}if(!r)return!1}return!0}))}render(){const{file:e}=this.props,t=this.getSearchResults().map(((e,t)=>wc(wc({},e),{},{idx:t}))).sort(Pc);return this.addressWidth=this.getMaxAddressWidth(t),zt.createElement("div",{className:"inspect-mem-symbols"},zt.createElement("div",{className:"block"},zt.createElement(Gs.default.Search,{allowClear:!0,enterButton:!0,onSearch:this.handleSearch,placeholder:'Search, for ex. "init 0x80 bss"',ref:e=>{this.searchEl=e},size:"large",title:"Looks inside name, section; start/end of address"})),e&&zt.createElement(pc,{path:e,onChange:this.handleBreadcrumbChange}),zt.createElement(pa.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}function Cc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Oc(kc,"propTypes",{symbols:js().arrayOf(Kl),openTextDocument:js().func.isRequired,file:js().string,onDirChange:js().func});class Sc{constructor(){Cc(this,"children",new Map)}remember(e,t){const r=e.split("/");let n="";for(let e=0;e<r.length;e++){this.children.has(n)||this.children.set(n,{dirs:new Set,files:new Set});const{files:i,dirs:o}=this.children.get(n),s=r.slice(0,e+1).join("/");e+1!==r.length||t?o.add(s):i.add(s),n=s}}unfold(e){let t,r=e;for(;(t=this.children.get(r))&&1==t.dirs.size&&0==t.files.size;)r=t.dirs.values().next().value;return r}}class Dc{constructor(){Cc(this,"map",new Map)}increment(e,t){if(!this.map.has(e))return void this.map.set(e,t);const r=this.map.get(e);Object.entries(t).forEach((([e,t])=>r[e]+=t))}assign(e,t){return Object.assign(e,this.map.get(t))}}class Rc{constructor(){Cc(this,"values",new Set)}filter(e){return!this.values.has(e)&&(this.values.add(e),!0)}}class Tc extends zt.PureComponent{constructor(...e){super(...e),Cc(this,"handlePathChange",(e=>{this.setState({path:e})})),this.state={}}listDir(e){const{files:t}=this.props;if(void 0===t)return;const r=new Rc,n=new Dc,i=new Sc;return(this.props.files||[]).filter((t=>!e||e&&t.path.startsWith(`${e}/`))).map((({path:t,isDir:r,ram:o,flash:s})=>{const a=t.substring(e?e.length+1:0),l=a.split("/");let c=l[0];return e||c.length||(c=`/${l[1]}`),i.remember(a),n.increment(c,{flash:s,ram:o}),{isDir:1!==l.length||r,flash:s,ram:o,relativePath:c}})).filter((({relativePath:e})=>r.filter(e))).map((e=>(n.assign(e,e.relativePath),e.relativePath=i.unfold(e.relativePath),e)))}getFileByPath(e){const{files:t}=this.props;if(void 0===e||!t)return;const r=t.filter((t=>t.path===e))[0];return r&&!r.isDir?r:void 0}render(){const{path:e}=this.state,t=this.getFileByPath(e),r=t?[]:this.listDir(e);return zt.createElement("div",null,!r&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),r&&!t&&zt.createElement(Ec,{dir:e,items:r,onDirChange:this.handlePathChange,onFileClick:this.handlePathChange}),t&&zt.createElement(kc,{file:t.path,symbols:t.symbols,openTextDocument:this.props.openTextDocument,onDirChange:this.handlePathChange}))}}Cc(Tc,"propTypes",{files:js().arrayOf(js().shape({flash:js().number.isRequired,isDir:js().bool.isRequired,path:js().string.isRequired,ram:js().number.isRequired})),openTextDocument:js().func.isRequired});const Nc={openTextDocument:Te},xc=(0,Ps.$j)((function(e){return{files:tn(e)}}),Nc)(Tc);function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(r),!0).forEach((function(t){_c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lc extends zt.PureComponent{constructor(...e){super(...e),_c(this,"renderAddress",(e=>zt.createElement("code",null,Nr(e,{width:this.addressWidth})))),this.state={search:""}}getTableColumns(e){return[{title:"Name",dataIndex:"name",defaultSortOrder:"ascend",sorter:(e,t)=>qr(e.name,t.name),width:"100%"},{title:"Type",dataIndex:"type",filters:Ar(e,"type"),onFilter:(e,t)=>t.type===e,render:e=>zt.createElement(da.Z,null,e),sorter:(e,t)=>qr(e.type,t.type),align:"center"},{title:"Flags",dataIndex:"flags",filters:Ar(e,"flags"),onFilter:(e,t)=>t.flags===e,render:e=>0!==e.length&&zt.createElement(da.Z,null,e),sorter:(e,t)=>qr(e.flags,t.flags),align:"center"},{title:"Address",dataIndex:"startAddr",render:this.renderAddress,sorter:(e,t)=>Ir(e.startAddr,t.startAddr),align:"center"},{title:"Size",dataIndex:"size",render:e=>zt.createElement("div",{className:"text-nowrap"},Rr(e)),sorter:(e,t)=>Ir(e.size,t.size),align:"right"}]}getMaxStartAddressWidth(e){let t=e.length,r=0;for(;t--;){const{startAddr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}render(){const{sections:e}=this.props,t=e.map(((e,t)=>qc(qc({},e),{},{idx:t})));return this.addressWidth=this.getMaxStartAddressWidth(t),zt.createElement("div",null,zt.createElement(pa.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter.bind(this),pagination:{defaultPageSize:20,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}renderFooter(e){const t=e.reduce(((e,{size:t=0})=>e+t),0);return zt.createElement("div",{className:"text-right"},`Total Size on Page: ${Rr(t)}`)}}_c(Lc,"propTypes",{sections:Hl});class Fc extends zt.PureComponent{render(){const{sections:e}=this.props;return zt.createElement("div",null,!e&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),e&&zt.createElement(Lc,{sections:e}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fc,"propTypes",{sections:Hl});const Ac=(0,Ps.$j)((function(e){return{sections:sn(e)}}))(Fc);function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(r),!0).forEach((function(t){Vc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $c extends zt.PureComponent{formatMemoryProgress(e,t){return zt.createElement("span",null,e.toFixed(0)+"%",zt.createElement("div",null,zt.createElement("small",null,Rr(t))))}getDefectsTooltip(){return[`${this.props.code.defectsCountBySeverity.high} High`,`${this.props.code.defectsCountBySeverity.medium} Medium`,`${this.props.code.defectsCountBySeverity.low} Low`].join(" / ")}getDefectsCls(){const{high:e,medium:t}=this.props.code.defectsCountBySeverity;return e?"progress-error-stroke":t?"progress-warning-stroke":void 0}getGaugeCls(e){return e>=90?"progress-error-stroke":e>=75?"progress-warning-stroke":void 0}handleMemoryClick(){this.props.onMemoryClick()}handleCodeClick(){this.props.onCodeClick()}handleSymbolsClick(){this.props.onSymbolsClick()}renderLoader(){return zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}renderDashboards(){let e,t;return this.props.memory&&this.props.device&&(e=this.props.memory.ram/this.props.device.ram*100,t=this.props.memory.flash/this.props.device.flash*100),zt.createElement(ta.default,{gutter:16,className:"block text-center inspect-dashboard"},void 0!==e&&zt.createElement(na.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(e)},zt.createElement(Es.default,{title:`${Rr(this.props.memory.ram)} of ${Rr(this.props.device.ram)}`},zt.createElement(Ql.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.ram),onClick:this.handleMemoryClick.bind(this),percent:e,width:120})),zt.createElement("h4",null,"RAM")),void 0!==t&&zt.createElement(na.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(t)},zt.createElement(Es.default,{title:`${Rr(this.props.memory.flash)} of ${Rr(this.props.device.flash)}`},zt.createElement(Ql.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.flash),onClick:this.handleMemoryClick.bind(this),percent:t,width:120})),zt.createElement("h4",null,"Flash")),this.props.code&&zt.createElement(na.default,{xs:12,sm:8,lg:4,className:this.getDefectsCls()},zt.createElement(Es.default,{title:this.getDefectsTooltip()},zt.createElement(Ql.Z,{type:"dashboard",format:()=>this.props.code.defectsCountTotal,onClick:this.handleCodeClick.bind(this),percent:0===this.props.code.defectsCountTotal?0:100,successPercent:0,width:120})),zt.createElement("h4",null,"Defects")))}renderTopFiles(){return zt.createElement(ql.Z,{title:"Top 5 Files",className:"inspect-stats-block"},this.props.memory.topFiles.map((({flash:e,path:t})=>zt.createElement(ta.default,{gutter:10,key:t,onClick:this.handleMemoryClick.bind(this)},zt.createElement(na.default,{xs:6,lg:4,className:"text-right text-nowrap"},zt.createElement("b",null,Rr(e))),zt.createElement(na.default,{xs:18,lg:20,className:"text-truncate"},zt.createElement(Es.default,{title:t,overlayStyle:{maxWidth:400}},Ur(t,35)))))))}renderTopSymbols(){return zt.createElement(ql.Z,{title:"Top 5 Symbols",className:"inspect-stats-block"},this.props.memory.topSymbols.map((e=>zt.createElement(ta.default,{gutter:10,key:e.displayName,onClick:this.handleSymbolsClick.bind(this)},zt.createElement(na.default,{xs:6,lg:4,className:"text-right text-nowrap"},zt.createElement("b",null,Rr(e.size))),zt.createElement(na.default,{xs:18,lg:20,className:"text-truncate"},zt.createElement(Es.default,{title:`${e.type} -> ${e.file?`${e.file}:${e.line}`:"unknown"}`,overlayStyle:{maxWidth:400}},zt.createElement(Ss.default,{title:yr[e.type],type:gr[e.type]})," ",e.displayName+e.displayName))))))}renderDefectsStats(){if(!this.props.code.stats.length)return;const e=[{title:"Component",dataIndex:"component",render:e=>zt.createElement(Es.default,{title:e},zt.createElement("b",null,Ur(e||"",40)))},{align:"center",title:"High",dataIndex:"high"},{align:"center",title:"Medium",dataIndex:"medium"},{align:"center",title:"Low",dataIndex:"low"}],t=[...this.props.code.stats,{component:" "},zc({component:"Total"},this.props.code.defectsCountBySeverity)];return zt.createElement(ql.Z,{title:"Defects Summary",className:"block defects-stats-block"},zt.createElement(pa.Z,{className:"inspect-stats-table",columns:e,dataSource:t,onRow:({component:e})=>({className:" "===e?"empty-row":"",onClick:this.handleCodeClick.bind(this)}),rowKey:"component",pagination:!1,size:"small"}))}renderTopDefects(){if(!this.props.code.topDefects.length)return;const e=[{title:"Level",dataIndex:"level",render:sc.renderSeverityLevel},{title:"Message",dataIndex:"message",render:(e,{file:t,line:r,column:n})=>zt.createElement(Es.default,{title:`${Ur(t||"",40)}:${r}:${n}`},e),width:"100%"}];return zt.createElement(ql.Z,{title:"Top Defects",className:"block defects-stats-block"},zt.createElement(pa.Z,{className:"inspect-stats-table",columns:e,dataSource:this.props.code.topDefects.map(((e,t)=>zc(zc({},e),{},{idx:t}))),onRow:()=>({onClick:this.handleCodeClick.bind(this)}),rowKey:"idx",pagination:!1,size:"small"}))}render(){return this.props.memory||this.props.code?zt.createElement("div",{className:"inspect-stats-page"},this.renderDashboards(),this.props.memory&&zt.createElement(ta.default,{gutter:12},zt.createElement(na.default,{md:12},this.renderTopFiles()),zt.createElement(na.default,{md:12},this.renderTopSymbols())),this.props.code&&zt.createElement(ta.default,{gutter:12},zt.createElement(na.default,{md:12},this.renderDefectsStats()),zt.createElement(na.default,{md:12},this.renderTopDefects()))):this.renderLoader()}}Vc($c,"propTypes",{memory:js().shape({filesCount:js().number.isRequired,symbolsCount:js().number.isRequired,sectionsCount:js().number.isRequired,ram:js().number.isRequired,flash:js().number.isRequired,topFiles:js().arrayOf(js().shape({path:js().string.isRequired,flash:js().number.isRequired})).isRequired,topSymbols:js().arrayOf(js().shape({displayName:js().string.isRequired,type:js().string.isRequired,size:js().number.isRequired})).isRequired}),code:js().shape({defectsCountTotal:js().number,defectsCountBySeverity:js().shape({low:js().number,medium:js().number,high:js().number}),stats:js().arrayOf(js().shape({component:js().string.isRequired,high:js().number.isRequired,medium:js().number.isRequired,low:js().number.isRequired})),topDefects:js().arrayOf(Gl)}),device:Jl,onMemoryClick:js().func.isRequired,onCodeClick:js().func.isRequired,onSymbolsClick:js().func.isRequired});const Mc=(0,Ps.$j)((function(e,{history:t}){return{code:on(e),device:an(e),memory:nn(e),onMemoryClick:()=>at(t,"/inspect/result/files"),onCodeClick:()=>at(t,"/inspect/result/defects"),onSymbolsClick:()=>at(t,"/inspect/result/symbols")}}))($c);class Zc extends zt.PureComponent{render(){return zt.createElement("div",null,!this.props.symbols&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),this.props.symbols&&zt.createElement(kc,{symbols:this.props.symbols,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Zc,"propTypes",{symbols:js().arrayOf(Kl),openTextDocument:js().func.isRequired});const Bc={openTextDocument:Te},Yc={common:[{path:"/inspect/result",icon:"line-chart",label:"Statistics",component:Mc}],memory:[{path:"/inspect/result/files",icon:"cluster",label:"Explorer",component:xc},{path:"/inspect/result/symbols",icon:"tags",label:"Symbols",component:(0,Ps.$j)((function(e){return{symbols:rn(e)}}),Bc)(Zc)},{path:"/inspect/result/sections",icon:"database",label:"Sections",component:Ac}],code:[{path:"/inspect/result/defects",icon:"bug",label:"Defects",component:cc}]};function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach((function(t){Kc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Hc extends zt.Component{constructor(...e){super(...e),Kc(this,"handleRevealClick",(()=>{this.props.osRevealFile(this.props.configuration.projectDir)})),Kc(this,"handleRefreshClick",(()=>{this.setState({loading:!0}),this.props.reinspectProject((()=>{this._isMounted&&this.setState({loading:!1})}))})),this.state={}}componentDidMount(){this._isMounted=!0}componentDidUpdate(){this.props.project||this.props.showConfiguration()}componentWillUnmount(){this._isMounted=!1}renderDeviceInfo(){return zt.createElement("small",null,this.props.device.mcu.toUpperCase()," ",[Vr(this.props.device.frequency),`${Rr(this.props.device.ram)} RAM`,`${Rr(this.props.device.flash)} Flash`].join(", ")," ")}render(){if(!this.props.project)return null;const e=[...Yc.common];return this.props.configuration.memory&&e.push(...Yc.memory),this.props.configuration.code&&e.push(...Yc.code),zt.createElement("div",null,zt.createElement("h1",{style:{marginTop:10,marginBottom:0}},zt.createElement(Es.default,{title:this.props.project.path},this.props.project.name),zt.createElement("small",null," ",zt.createElement("b",null,"env:",this.props.configuration.env)),zt.createElement("div",{className:"pull-right"},zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{icon:"folder-open",onClick:this.handleRevealClick},"Reveal"),zt.createElement(yt.default,{icon:"reload",loading:this.state.loading,onClick:this.handleRefreshClick},"Refresh")))),this.props.device&&this.renderDeviceInfo(),zt.createElement(Ys,{routes:e}))}}Kc(Hc,"propTypes",{configuration:Wl,device:Jl,project:js().shape({name:js().string.isRequired,path:js().string.isRequired}),osRevealFile:js().func.isRequired,reinspectProject:js().func.isRequired,showConfiguration:js().func.isRequired});const Jc=[{path:"/inspect",component:Yl},{path:"/inspect/result",component:(0,Ps.$j)((function(e){const t=Gr(e);return{project:Nn(e,t.projectDir),configuration:t,device:an(e)}}),(function(e,t){return Gc(Gc({},(0,c.DE)({osRevealFile:be,reinspectProject:jr},e)),{},{showConfiguration:()=>at(t.history,"/inspect")})}))(Hc)},{path:"/inspect/processing",component:rc}];class Qc extends zt.Component{componentWillUnmount(){this.props.deleteEntity(new RegExp(`^${hr}:`))}render(){return zt.createElement("section",{className:"page-container inspect-module"},zt.createElement(Ys,{routes:Jc,disableMenu:!0}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Qc,"propTypes",{deleteEntity:js().func.isRequired});const Xc={deleteEntity:I},eu=(0,Ps.$j)(void 0,Xc)(Qc);r("eOfH");var tu=r("h0/l");class ru extends zt.Component{constructor(){super(...arguments),this.state={actionInProgress:!1,componentMounted:!1}}componentDidMount(){this.setState({componentMounted:!0})}componentWillUnmount(){this.setState({componentMounted:!1})}onDidShow(e,t){e.stopPropagation(),this.props.onShow(t)}onDidKeywordSearch(e,t){e.stopPropagation(),this.props.onSearch(`keyword:"${t}"`)}onDidUninstallOrUpdateItem(e,t){e.stopPropagation(),this.setState({actionInProgress:!0}),("uninstall"===t?this.props.onUninstall:this.props.onUpdate)((()=>this.state.componentMounted?this.setState({actionInProgress:!1}):{}))}render(){const e=zt.createElement("div",null,zt.createElement("a",{onClick:e=>this.onDidShow(e,this.props.item)},this.props.item.name)," ",zt.createElement("small",null,this.props.item.authors&&this.props.item.authors.length?` by ${this.props.item.authors[0].name}`:"")),t=zt.createElement("span",null,zt.createElement(Es.default,{title:"Version"}," ",zt.createElement(Ss.default,{type:this.props.item.__src_url?"fork":"environment-o"})," ",this.props.item.version," "));return zt.createElement(ql.Z,{title:e,hoverable:!0,extra:t,onClick:e=>this.onDidShow(e,this.props.item),className:"list-item-card"},zt.createElement("div",{className:"block"},this.props.item.description||this.props.item.url),zt.createElement(ta.default,null,zt.createElement(na.default,{sm:16},zt.createElement("div",{className:"inline-buttons"},(this.props.item.keywords||[]).map((e=>zt.createElement(yt.default,{key:e,icon:"tag",size:"small",onClick:t=>this.onDidKeywordSearch(t,e)},e))))),zt.createElement(na.default,{sm:8,className:"text-right text-nowrap"},zt.createElement(yt.default.Group,null,this.props.onReveal&&this.props.actions&ri.ACTION_REVEAL?zt.createElement(yt.default,{type:"primary",icon:"folder",onClick:e=>this.props.onReveal(e)},"Reveal"):"",this.props.onUninstall&&this.props.actions&ri.ACTION_UNINSTALL?zt.createElement(tu.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onCancel:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onConfirm:e=>this.onDidUninstallOrUpdateItem(e,"uninstall")},zt.createElement(yt.default,{type:"primary",icon:"delete",loading:this.state.actionInProgress,disabled:this.state.actionInProgress},"Uninstall")):"",this.props.onUpdate&&this.props.actions&ri.ACTION_UPDATE?zt.createElement(yt.default,{type:"primary",icon:"cloud-download-o",loading:this.state.actionInProgress,disabled:this.state.actionInProgress||this.props.item.versionWanted&&this.props.item.versionWanted!==this.props.item.versionLatest,onClick:e=>this.onDidUninstallOrUpdateItem(e,"update")},this.props.item.versionWanted?`Update to ${this.props.item.versionLatest}${this.props.item.versionWanted&&this.props.item.versionWanted!==this.props.item.versionLatest?" (incompatible)":""}`:"Update"):""))))}}function nu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ru,"propTypes",{item:js().shape({name:js().string.isRequired,version:js().string.isRequired,versionWanted:js().string,versionLatest:js().string,description:js().string,url:js().string,keywords:js().arrayOf(js().string).isRequired,authors:js().arrayOf(js().object),__src_url:js().string}),onShow:js().func.isRequired,onReveal:js().func.isRequired,onUninstall:js().func.isRequired,onUpdate:js().func.isRequired,onSearch:js().func.isRequired,actions:js().number.isRequired});class iu extends zt.Component{getStatus(){return void 0===this.props.item.items?iu.status.LOADING:this.props.item.items.length?iu.status.LOADED:iu.status.NORESULTS}getStorageItems(){return this.getStatus()!==iu.status.LOADED?[]:this.props.item.items}onDidUninstallOrUpdateItem(e,t,r){("uninstall"===t?this.props.uninstallLibrary:this.props.updateLibrary)(this.props.item,e,r)}onDidReveal(e,t){e.stopPropagation(),t&&this.props.osRevealFile(t)}onDidToggleStorageList(e){e.target.classList.toggle("anticon-up-circle-o"),e.target.classList.toggle("anticon-down-circle-o"),this.storageItemsPlacehodler.classList.toggle("hide")}renderBadge(e,t){return e.length&&t===iu.status.LOADED?zt.createElement(Us.Z,{count:e.length}):null}renderToggler(e){return e.length?zt.createElement(Ss.default,{type:"up-circle-o",className:"lib-storages-toggler",title:"Show/Hide list of libraries",onClick:e=>this.onDidToggleStorageList(e)}):null}render(){const e=this.getStatus(),t=this.getStorageItems();return e===iu.status.NORESULTS?null:zt.createElement("div",{className:"block lib-storage-items"},zt.createElement("h2",null,zt.createElement(Ss.default,{type:"folder"})," ",zt.createElement("a",{onClick:e=>this.onDidReveal(e,this.props.item.path)},this.props.item.name)," ",this.renderBadge(t,e)," ",this.renderToggler(t)),e===iu.status.LOADING&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),e===iu.status.NORESULTS&&zt.createElement("div",{className:"text-muted"},"No Results"),zt.createElement("div",{ref:e=>this.storageItemsPlacehodler=e},t.map((e=>zt.createElement(ru,{item:e,key:e.__pkg_dir,onShow:this.props.showLibrary,onReveal:t=>this.onDidReveal(t,e.__pkg_dir),onUninstall:t=>this.onDidUninstallOrUpdateItem(e,"uninstall",t),onUpdate:t=>this.onDidUninstallOrUpdateItem(e,"update",t),onSearch:this.props.searchLibrary,actions:this.props.item.actions})))))}}nu(iu,"propTypes",{item:js().instanceOf(ri).isRequired,osRevealFile:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,uninstallLibrary:js().func.isRequired,updateLibrary:js().func.isRequired}),nu(iu,"status",{LOADING:1,NORESULTS:2,LOADED:3});class ou extends zt.Component{componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidFilter(e){this.props.setFilter(e)}render(){return this.props.items?this.props.items.length?zt.createElement("div",{className:"lib-storages-list"},zt.createElement(Gs.default.Search,{allowClear:!0,className:"block",placeholder:"Filter libraries by name...",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>this._searchInputElement=e}),zt.createElement("div",null,this.props.items.map((e=>zt.createElement(iu,{item:e,key:e.name,osRevealFile:this.props.osRevealFile,searchLibrary:this.props.searchLibrary,showLibrary:this.props.showLibrary,uninstallLibrary:this.props.uninstallLibrary,updateLibrary:this.props.updateLibrary}))))):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ou,"propTypes",{items:js().arrayOf(js().instanceOf(ri).isRequired),filterValue:js().string,setFilter:js().func.isRequired,osRevealFile:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,uninstallLibrary:js().func.isRequired,updateLibrary:js().func.isRequired});class su extends zt.Component{constructor(){super(...arguments),this.props.loadBuiltinLibs()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(xa.Z,{className:"block",showIcon:!0,message:zt.createElement("span",null,"A list of built-in libraries in the installed"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"frameworks and development platforms"),".")}),zt.createElement(ou,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(su,"propTypes",{items:js().arrayOf(js().shape({items:js().array.isRequired,name:js().string.isRequired,path:js().string.isRequired}).isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadBuiltinLibs:js().func.isRequired,osRevealFile:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,showInstalledPlatforms:js().func.isRequired});const au=(0,Ps.$j)((function(e,t){return{items:Yi(e),filterValue:_i(e),searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>at(t.history,"/libraries/builtin/show",{idOrManifest:e}),showInstalledPlatforms:()=>at(t.history,"/platforms/installed")}}),(function(e){return(0,c.DE)(Object.assign({},s,{osRevealFile:be,setFilter:t=>e(_(xi,t))}),e)}))(su);r("Z8Mf");var lu=r("j7zX"),cu=r("3T4h");cu.Z.registerLanguage("plaintext",r("nUx5")),cu.Z.registerLanguage("cpp",r("mZwv")),cu.Z.registerLanguage("json",r("4bZF")),cu.Z.registerLanguage("ini",r("QgqY"));class uu extends zt.Component{constructor(){super(...arguments),this._codeElement=null,this._codeTogglePlaceholder=null,!this.props.content&&this.props.uri&&this.props.requestContent({uri:this.props.uri,cacheValid:"7d"})}componentDidMount(){this.highlightCode()}componentDidUpdate(){this.highlightCode()}highlightCode(){this._codeElement&&cu.Z.highlightElement(this._codeElement)}onDidToggle(e){e.target.classList.toggle("anticon-up-circle-o"),e.target.classList.toggle("anticon-down-circle-o"),this._codeTogglePlaceholder.classList.toggle("hide")}renderToggler(){return zt.createElement(Ss.default,{type:"up-circle-o",className:"source-code-toggler",title:"Show/Hide source code",onClick:e=>this.onDidToggle(e)})}renderFileContent(){return this.props.content?zt.createElement("pre",null,zt.createElement("code",{ref:e=>this._codeElement=e,className:this.props.language||"c"},this.props.content)):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading..."}))}render(){return this.props.toggle?zt.createElement("div",{className:this.props.className},zt.createElement("h3",null,zt.createElement(Ss.default,{type:"file"})," ",this.props.title||ur(this.props.uri)," ",this.renderToggler()),zt.createElement("div",{ref:e=>this._codeTogglePlaceholder=e},this.renderFileContent())):zt.createElement("div",{className:this.props.className},this.renderFileContent())}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(uu,"propTypes",{title:js().string,uri:js().string,content:js().string,language:js().string,className:js().string,toggle:js().bool,requestContent:js().func.isRequired});const pu=(0,Ps.$j)((function(e,t){return!t.uri||t.content?{}:{content:Rt(e,t.uri)}}),{requestContent:Ce})(uu);class du{constructor(e,t=void 0){this.name=e,this.projectPath=t,this._sources=[]}addSource(e,t=void 0){t||(t=ur(e)),this._sources.push({uri:e,title:t})}getSources(){return this._sources.sort(((e,t)=>ct(e.title.toUpperCase(),t.title.toUpperCase())))}}class mu extends zt.Component{constructor(){super(...arguments),this.state={selectedItem:null,importInProgress:!1},this.props.items.length&&(this.state.selectedItem=this.props.items[0])}onDidChange(e){this.setState({selectedItem:this.props.items.find((t=>t.name===e))})}onDidFilter(e,t){return!e||t.props.value.toLowerCase().includes(e)}onDidImport(){this.setState({importInProgress:!0}),this.props.importProject(this.state.selectedItem.projectPath,((e,t)=>{this.setState({importInProgress:!1}),e||this.props.addProject(t)}))}render(){return this.props.items.length?zt.createElement("div",null,this.renderExamplesBar(),this.renderProjectSources()):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No items"))}renderExamplesBar(){return this.state.selectedItem&&this.state.selectedItem.projectPath?zt.createElement(ta.default,{gutter:8,className:"block"},zt.createElement(na.default,{span:19},this.renderExamplesSelect()),zt.createElement(na.default,{span:5},zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"folder-add",style:{width:"100%"},loading:this.state.importInProgress,onClick:this.onDidImport.bind(this)},this.state.importInProgress?"Please wait...":"Import"))):zt.createElement("div",{className:"block"},this.renderExamplesSelect())}renderExamplesSelect(){return zt.createElement(ll.default,{showSearch:!0,defaultValue:this.props.items[0].name,filterOption:this.onDidFilter.bind(this),onChange:this.onDidChange.bind(this),style:{width:"100%"}},this.props.items.map((e=>zt.createElement(ll.default.Option,{key:e.name,value:e.name},e.name))))}renderProjectSources(){if(!this.state.selectedItem)return;const e=this.state.selectedItem.getSources();return zt.createElement("div",null,e.map(((t,r)=>zt.createElement(pu,{key:t.uri,className:"block",title:(e.length>1?`${r+1}. `:"")+t.title,uri:t.uri,language:t.uri.endsWith(".ini")?"ini":"c",toggle:!0}))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(mu,"propTypes",{items:js().arrayOf(js().instanceOf(du).isRequired),addProject:js().func.isRequired,openProject:js().func.isRequired,importProject:js().func.isRequired});const fu=(0,Ps.$j)(null,l)(mu);class hu extends zt.Component{static getGlobPatterns(e){const t=[];if(e){if("string"==typeof e)return[e];if("string"==typeof e[0])return e;if(e[0].base&&e[0].files)return e.forEach((e=>{e.files.forEach((r=>{t.push(lr(e.base,r))}))})),t}for(const e of["*.ino","*.pde","*.c","*.cpp","*.h","*.hpp"]){const r="[Ee]xamples";t.push(lr(r,e)),t.push(lr(r,"*",e)),t.push(lr(r,"*","*",e)),t.push(lr(r,"*","*","*",e))}return t}constructor(){super(...arguments),this.props.uris||this.props.osFsGlob(hu.getGlobPatterns(this.props.data.examples),this.props.data.__pkg_dir)}getRemoteItems(){return this.props.uris.sort().map((e=>{let t=e;t.endsWith("/")&&(t=e.substr(0,e.length-1)),t=t.substring(t.lastIndexOf("/")+1),t.includes(".")&&(t=t.substring(0,t.lastIndexOf(".")));const r=new du(t);return r.addSource(e,t),r}))}getLocalItems(){const e=new Map,t=pr(this.props.uris);for(const r of this.props.uris){const n=cr(r.substr(t.length+1)),i=e.has(n)?e.get(n):new du(n);i.addSource(r),e.set(n,i)}const r=[];for(const t of e.entries())r.push(t[1]);return r}getItems(){return this.props.uris.length?this.props.uris[0].startsWith("http")?this.getRemoteItems():this.getLocalItems():[]}render(){return this.props.uris?zt.createElement(fu,{items:this.getItems()}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(hu,"propTypes",{data:js().shape({examples:js().oneOfType([js().array,js().string]),__pkg_dir:js().string}).isRequired,uris:js().arrayOf(js().string),osFsGlob:js().func.isRequired});const gu=(0,Ps.$j)((function(e,t){return t.data.__pkg_dir?{uris:xt(e,hu.getGlobPatterns(t.data.examples),t.data.__pkg_dir)}:{uris:t.data.examples}}),{osFsGlob:ke})(hu);class yu extends zt.Component{render(){return this.props.items.length?zt.createElement("div",null,this.props.items.sort().map((e=>zt.createElement("h3",{key:e},zt.createElement(Ss.default,{type:"file-add"})," ",e)))):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No headers"))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(yu,"propTypes",{items:js().arrayOf(js().string).isRequired});class bu extends zt.Component{static getGlobPatterns(){const e=[];for(const t of["*.h","*.hpp"])e.push(t),e.push(lr("*",t)),e.push(lr("*","*",t)),e.push(lr("*","*","*",t));return e}constructor(){super(...arguments),this.props.data.__pkg_dir&&!this.props.uris&&this.props.osFsGlob(bu.getGlobPatterns(),this.props.data.__pkg_dir)}getUniqueFilenames(e){if(!e||!e.length)return[];const t=[],r=pr(e);for(const n of e){const e=n.substr(r.length+1);t.includes(e)||t.push(e)}return t}render(){return this.props.data.__pkg_dir?this.props.uris?zt.createElement(yu,{items:this.getUniqueFilenames(this.props.uris)}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})):zt.createElement(yu,{items:this.props.data.headers})}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(bu,"propTypes",{data:js().shape({headers:js().arrayOf(js().string),__pkg_dir:js().string}).isRequired,uris:js().arrayOf(js().string),osFsGlob:js().func.isRequired});const Eu=(0,Ps.$j)((function(e,t){return{uris:t.data.__pkg_dir?xt(e,bu.getGlobPatterns(),t.data.__pkg_dir):void 0}}),{osFsGlob:ke})(bu);class vu extends zt.Component{getVersionName(){return this.props.data&&this.props.data.version?this.props.data.version&&this.props.data.version.name?this.props.data.version.name:this.props.data.version:null}generatePIOProjectConf(){const e=this.getVersionName(),t=this.props.data.ownername?`${this.props.data.ownername}/${this.props.data.name}`:this.props.data.name;let r="# platformio.ini – project configuration file\n\n[env:my_build_env]";return this.props.data.platforms&&this.props.data.platforms.length&&(r+=`\nplatform = ${this.props.data.platforms[0].name}`),this.props.data.frameworks&&this.props.data.frameworks.length&&(r+=`\nframework = ${this.props.data.frameworks[0].name}`),r+="\nlib_deps =",e?e.match(/^[\d\.]+$/)?(r+=`\n  # RECOMMENDED\n  # Accept new functionality in a backwards compatible manner and patches\n  ${t} @ ^${e}\n\n  # Accept only backwards compatible bug fixes\n  # (any version with the same major and minor versions, and an equal or greater patch version)\n  ${t} @ ~${e}\n\n  # The exact version\n  ${t} @ ${e}\n    `,r):(r+=`\n  ${t} @ ${e}\n      `,r):(r+=`\n  ${t}\n      `,r)}render(){return zt.createElement("div",null,zt.createElement("h2",{style:{marginTop:0}},"Library Dependencies ",zt.createElement("small",null,"platformio.ini")),zt.createElement("div",{className:"block"},zt.createElement("p",null,"The PlatformIO Registry is fully compatible with"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://semver.org/")},"Semantic Versioning")," ",'and its "version" scheme'," ",zt.createElement("code",null,"<major>.<minor>.<patch>"),'. You can declare library dependencies in "platformio.ini" configuration file using'," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/projectconf/section_env_library.html#lib-deps")},"lib_deps")," ","option.")),zt.createElement(pu,{language:"ini",content:this.generatePIOProjectConf()}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(vu,"propTypes",{data:js().shape({id:js().number,ownername:js().string,name:js().string.isRequired,version:js().oneOfType([js().object,js().string]).isRequired,versions:js().array,platforms:js().arrayOf(js().shape({name:js().string,title:js().string})),frameworks:js().arrayOf(js().shape({name:js().string,title:js().string}))}).isRequired,osOpenUrl:js().func.isRequired});r("7LYo");var wu=r("5GXF");class Ou extends zt.Component{constructor(){super(...arguments),this.state={library:null,storageDir:null,installing:!1}}componentDidUpdate(){this.props.visible&&(this.props.projects||this.props.loadProjects(),setTimeout((()=>this.focus()),200))}focus(){this._inputElement&&this._inputElement.focus()}onDidLibraryChange(e){this.setState({library:e})}onDidStorage(e){this.setState({storageDir:e})}onDidInstall(){this.state.library?this.state.storageDir?(this.setState({installing:!0}),this.props.installLibrary(this.state.storageDir,this.state.library,(e=>{this.setState({installing:!1}),e||this.onDidCancel()}))):M.Z.error("Please select a project!"):this.focus()}onDidCancel(){this.setState({installing:!1,library:null}),this.props.onCancel()}render(){this.props.visible&&!this.state.library&&this.props.library&&this.setState({library:this.props.library});const e=this.props.projects||[];return zt.createElement(gt.Z,{visible:this.props.visible,confirmLoading:this.state.installing,title:"Add project dependency",width:700,okText:"Add",onOk:this.onDidInstall.bind(this),onCancel:this.onDidCancel.bind(this)},zt.createElement("div",{className:"block"},zt.createElement(Gs.default,{placeholder:"Library id, name, repository, requirements...",size:"large",style:{width:"100%"},value:this.state.library,onChange:e=>this.onDidLibraryChange(e.target.value),onPressEnter:this.onDidInstall.bind(this),ref:e=>this._inputElement=e})),zt.createElement("div",{className:"block"},zt.createElement(ll.default,{placeholder:"Select a project",style:{width:"100%"},size:"large",onChange:this.onDidStorage.bind(this)},zt.createElement(ll.default.OptGroup,{label:"Projects"},e.map((e=>zt.createElement(ll.default.Option,{key:e.path,value:e.path,title:e.path},e.name)))),zt.createElement(ll.default.OptGroup,{label:"Custom storage"},e.map((e=>e.extraLibStorages.map((e=>zt.createElement(ll.default.Option,{key:e.path,value:e.path,title:e.path},e.name))))))),zt.createElement("div",null,zt.createElement("small",null,'You can manage your projects in the "Projects" section: create a new or add existing.'))),zt.createElement(ra.Z,null,"Information"),zt.createElement(wu.Z,null,zt.createElement(wu.Z.Panel,{header:"Registry and Specification",key:"spec"},zt.createElement("p",null,"The PlatformIO Registry is fully compatible with"," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://semver.org/")},"Semantic Versioning")," ",'and its "version" scheme'," ",zt.createElement("code",null,"<major>.<minor>.<patch>"),'. You can declare library dependencies in "platformio.ini" configuration file using'," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/projectconf/section_env_library.html#lib-deps")},"lib_deps")," ","option. The following syntax is supported:"),zt.createElement("ul",null,zt.createElement("li",null,zt.createElement("code",null,"^1.2.3")," - any compatible version (new functionality in a backwards compatible manner and patches are allowed, 1.x.x)."," ",zt.createElement("b",null,"RECOMMENDED")),zt.createElement("li",null,zt.createElement("code",null,"~1.2.3")," - any version with the same major and minor versions, and an equal or greater patch version"),zt.createElement("li",null,zt.createElement("code",null,">1.2.3")," - any version greater than 1.2.3. >=, <, and <= are also possible"),zt.createElement("li",null,zt.createElement("code",null,">0.1.0,!=0.2.0,<0.3.0")," - any version greater than 0.1.0, not equal to 0.2.0 and less than 0.3.0"),zt.createElement("li",null,zt.createElement("code",null,"1.2.3")," - the exact version number. Use only this exact version"))),zt.createElement(wu.Z.Panel,{header:"External resources",key:"format"},zt.createElement("ul",{className:"list-styled"},zt.createElement("li",null,zt.createElement("code",null,"<zip or tarball url>")),zt.createElement("li",null,zt.createElement("code",null,"file://<zip or tarball file>")),zt.createElement("li",null,zt.createElement("code",null,"file://<folder>")),zt.createElement("li",null,zt.createElement("code",null,"<repository>")),zt.createElement("li",null,zt.createElement("code",null,"<name>=<repository>"),' (the "name" it should have locally)'),zt.createElement("li",null,zt.createElement("code",null,"<repository#tag>"),' ("tag" can be commit, branch or tag)'),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/userguide/lib/cmd_install.html")},"more in docs..."))))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ou,"propTypes",{visible:js().bool.isRequired,onCancel:js().func.isRequired,library:js().string,projects:js().array,installLibrary:js().func.isRequired,loadProjects:js().func.isRequired,osOpenUrl:js().func.isRequired});const ju=(0,Ps.$j)((function(e){return{projects:Dn(e)}}),{installLibrary:Qn,loadProjects:$o,osOpenUrl:ye})(Ou);var Pu=r("DlQD"),ku=r.n(Pu);function Cu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Su extends zt.Component{static prepareAPI(e){if(!e)return null;const t=new($t())(e);if("github.com"!==t.hostname)return null;var[,r,n]=t.pathname.split("/",3);return n.endsWith(".git")&&(n=n.substr(0,n.length-4)),{provider:t.hostname,requestEndpoint:`https://api.github.com/repos/${r}/${n}/releases`}}constructor(){super(...arguments);const e=Su.prepareAPI(this.props.uri);e&&this.props.requestContent({uri:e.requestEndpoint,cacheValid:"1h"})}render(){const e=Su.prepareAPI(this.props.uri);return!this.props.uri||!e||this.props.items&&0===this.props.items.length?zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Information")):zt.createElement("div",null,this.props.items?zt.createElement(Du,{items:this.props.items}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})))}}Cu(Su,"propTypes",{uri:js().string.isRequired,items:js().arrayOf(js().object),requestContent:js().func.isRequired});class Du extends zt.Component{render(){const e=new(ku().Renderer);return e.link=function(e,t,r){return ku().Renderer.prototype.link.call(this,e,t,r).replace("<a",'<a target="_blank" ')},ku().setOptions({renderer:e}),zt.createElement("div",{className:"release-notes"},zt.createElement("h2",null,"Release Notes"),this.props.items.map((e=>zt.createElement("div",{key:e.id},zt.createElement("h3",null,zt.createElement(Es.default,{title:e.tag_name},e.name||e.tag_name)," ",zt.createElement("small",null,"released"," ",zt.createElement(Es.default,{title:e.created_at},kr().relativeTime(new Date(e.created_at).getTime()/1e3)))),zt.createElement("div",{dangerouslySetInnerHTML:{__html:ku()(e.body||"")}})))))}}Cu(Du,"propTypes",{items:js().array.isRequired});const Ru=(0,Ps.$j)((function(e,t){const r=Su.prepareAPI(t.uri);if(!r)return{};const n=Rt(e,r.requestEndpoint);return{items:n?JSON.parse(n):null}}),{requestContent:Ce})(Su);class Tu extends zt.Component{constructor(){super(...arguments),this.state={installToVisible:!1,installing:!1,uninstalling:!1,selectedVersion:null,activeTab:"examples"}}onDidTabChange(e){this.setState({activeTab:e})}onDidVersionChange(e){this.setState({selectedVersion:e})}onDidInstallTo(){this.setState({installToVisible:!0})}onDidCancelInstallTo(){this.setState({installToVisible:!1})}onDidInstall(){this.setState({installing:!0}),this.props.installLibrary(null,this.getLibraryForInstall(),(()=>this.setState({installing:!1})))}onDidAuthorSearch(e){this.props.searchLibrary(`author:"${e}"`)}onDidFrameworkSearch(e){this.props.searchLibrary(`framework:${e}`)}onDidPlatformSearch(e){this.props.searchLibrary(`platform:${e}`)}onDidKeywordSearch(e){this.props.searchLibrary(`keyword:"${e}"`)}getLibraryForInstall(){const e=this.props.data.versions.length?this.props.data.versions[0].name:"";return!this.state.selectedVersion||e&&this.state.selectedVersion===e?e.match(/^[\d\.]+$/)?`${this.props.data.ownername}/${this.props.data.name}@^${e}`:`${this.props.data.ownername}/${this.props.data.name}`:`${this.props.data.ownername}/${this.props.data.name}@${this.state.selectedVersion}`}renderQuickInstallation(e){return zt.createElement("div",null,zt.createElement(ju,{library:this.getLibraryForInstall(),visible:this.state.installToVisible,onCancel:this.onDidCancelInstallTo.bind(this)}),zt.createElement("h3",null,"Installation"),zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(ll.default,{defaultValue:e[0].name,onChange:this.onDidVersionChange.bind(this)},e.map((e=>zt.createElement(ll.default.Option,{key:e.name,value:e.name,title:e.released},e.component))))),zt.createElement("li",null,zt.createElement(yt.default,{type:"primary",disabled:this.state.installing,onClick:this.onDidInstallTo.bind(this)},zt.createElement(Ss.default,{type:"download"})," Add to Project")),zt.createElement("li",null,"|"),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.setState({activeTab:"installation"})},"More info"))),zt.createElement("br",null))}renderExtra(){return this.props.data.__pkg_dir?zt.createElement("ul",{className:"list-inline",style:{marginTop:"9px"}},zt.createElement("li",null,zt.createElement(Es.default,{title:"Version"},zt.createElement(Ss.default,{type:this.props.data.__src_url?"fork":"environment-o",className:"inline-block-tight"}),this.props.data.version))):null}render(){let e=null;this.props.data.versions&&(e=this.props.data.versions.slice(0).map((e=>(e.component=zt.createElement("span",null,zt.createElement("strong",null,e.name)," ",zt.createElement("small",null,"released ",kr().relativeTime(new Date(e.released).getTime()/1e3))),e))));const t=this.props.data.authors;return zt.createElement("div",null,zt.createElement("h1",null,this.props.data.name," ",t&&t.length&&zt.createElement("small",null,"by ",t[0].name)," ",zt.createElement("small",{className:"pull-right"},this.renderExtra())),zt.createElement("div",{className:"lead"},this.props.data.description),e&&this.renderQuickInstallation(e),zt.createElement(ta.default,null,zt.createElement(na.default,{sm:18,className:"library-subpages"},zt.createElement(lu.default,{type:"card",activeKey:this.state.activeTab,onChange:this.onDidTabChange.bind(this)},zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"copy"}),"Examples"),key:"examples"},zt.createElement(gu,{data:this.props.data})),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"cloud-download-o"}),"Installation"),key:"installation"},zt.createElement(vu,this.props)),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"file-add"}),"Headers"),key:"headers"},zt.createElement(Eu,{data:this.props.data})),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"clock-circle-o"}),"Changelog"),key:"changelog"},zt.createElement(Ru,{uri:this.props.data.repository})))),zt.createElement(na.default,{sm:6},zt.createElement("h2",null,"Tags"),zt.createElement("div",{className:"inline-buttons"},this.props.data.keywords.map((e=>zt.createElement(yt.default,{key:e,icon:"tag",size:"small",onClick:()=>this.onDidKeywordSearch(e)},e)))),this.props.data.platforms.length>0&&zt.createElement("div",{className:"inline-buttons"},zt.createElement("h2",null,"Platforms"),this.props.data.platforms.map((e=>zt.createElement(yt.default,{key:e.name,icon:"appstore",size:"small",onClick:()=>this.onDidPlatformSearch(e.name)},e.title)))),this.props.data.frameworks.length>0&&zt.createElement("div",{className:"inline-buttons"},zt.createElement("h2",null,"Frameworks"),this.props.data.frameworks.map((e=>zt.createElement(yt.default,{key:e.name,icon:"setting",size:"small",onClick:()=>this.onDidFrameworkSearch(e.name)},e.title)))),zt.createElement("h2",null,"Authors"),this.props.data.authors.map((e=>zt.createElement("div",{key:e.name,className:"library-author"},zt.createElement(Ss.default,{type:"book"}),zt.createElement("a",{onClick:()=>this.onDidAuthorSearch(e.name)},zt.createElement("strong",null,e.name)," ",zt.createElement("span",null,e.maintainer?"(maintainer)":"")),e.email&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"mail"}),zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`mailto:${e.email}`)},e.email)),e.url&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"link"}),zt.createElement("a",{onClick:()=>this.props.osOpenUrl(e.url)},e.url))))),zt.createElement("h2",null,"Resources"),this.props.data.id>0&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"link"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://platformio.org/lib/show/${this.props.data.id}/${this.props.data.name}`)},"Registry")),this.props.data.homepage&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"home"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),this.props.data.repository&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.repository)},"Repository")),this.props.data.__src_url&&zt.createElement("div",null,zt.createElement(Ss.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.__src_url)},"Source")),this.props.data.dlstats&&zt.createElement("div",null,zt.createElement("h2",null,"Downloads"),zt.createElement("b",null,this.props.data.dlstats.day)," in the last day",zt.createElement("br",null),zt.createElement("b",null,this.props.data.dlstats.week)," in the last week",zt.createElement("br",null),zt.createElement("b",null,this.props.data.dlstats.month)," in the last month"),e&&zt.createElement("div",null,zt.createElement("h2",null,"Versions"),e.map((e=>zt.createElement("div",{key:e.name},zt.createElement(Es.default,{placement:"left",title:e.released},e.component))))))))}}function Nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(r),!0).forEach((function(t){Iu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Tu,"propTypes",{data:js().shape({id:js().number,ownername:js().string.isRequired,name:js().string.isRequired,description:js().string.isRequired,homepage:js().string,repository:js().string,keywords:js().array.isRequired,authors:js().array.isRequired,platforms:js().array,frameworks:js().array,dlstats:js().object,version:js().oneOfType([js().object,js().string]).isRequired,versions:js().arrayOf(js().object),__src_url:js().string,__pkg_dir:js().string}),osOpenUrl:js().func.isRequired,searchLibrary:js().func.isRequired,installLibrary:js().func.isRequired,showInstalledLibraries:js().func.isRequired});class qu extends zt.Component{constructor(){super(...arguments),this.props.loadLibraryData(this.props.idOrManifest)}render(){return zt.createElement("div",{className:"page-container libraries-detail"},this.props.data?zt.createElement(Tu,this.props):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})))}}Iu(qu,"contextTypes",{router:js().object.isRequired}),Iu(qu,"propTypes",{data:js().object,idOrManifest:js().oneOfType([js().number,js().object]),osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired,loadLibraryData:js().func.isRequired,installLibrary:js().func.isRequired,searchLibrary:js().func.isRequired,showInstalledLibraries:js().func.isRequired});const _u=(0,Ps.$j)((function(e,t){const r=t.location.state.idOrManifest;return{data:Zi(e,r),idOrManifest:r,searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showInstalledLibraries:()=>at(t.history,"/libraries/installed")}}),xu(xu({},s),{},{osOpenUrl:ye,osRevealFile:be}))(qu);class Lu extends zt.Component{constructor(){super(...arguments),this.props.loadInstalledLibs()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(ou,this.props),this.props.items&&0===this.props.items.length&&zt.createElement("div",{className:"text-center"},zt.createElement("br",null),zt.createElement(yt.default,{icon:"star",type:"primary",onClick:()=>this.props.searchLibrary("")},"Show TOP libraries")))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Lu,"propTypes",{items:js().arrayOf(js().instanceOf(ri).isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadInstalledLibs:js().func.isRequired,osRevealFile:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,uninstallLibrary:js().func.isRequired});const Fu=(0,Ps.$j)((function(e,t){return{items:Ki(e),filterValue:Li(e),searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>at(t.history,"/libraries/installed/show",{idOrManifest:e})}}),(function(e){return(0,c.DE)(Object.assign({},s,{osRevealFile:be,setFilter:t=>e(_(Ii,t))}),e)}))(Lu);class Au extends zt.Component{componentWillUnmount(){this.subscriptions&&this.subscriptions.dispose()}onDidShow(e,t){e.stopPropagation(),this.props.showLibrary(t)}onDidFilterSearch(e,t,r){e.stopPropagation(),this.props.searchLibrary(`${t}:"${r}"`)}render(){const e=zt.createElement("div",{className:"clearfix"},zt.createElement("div",{className:"pull-left"},zt.createElement("a",{onClick:e=>this.onDidShow(e,this.props.item.id)},this.props.item.name)," ",zt.createElement("small",null,"by"," ",this.props.item.authornames.length?this.props.item.authornames[0]:"")),zt.createElement("small",{className:"pull-right list-item-card-head-extra"},this.renderExtraHead()));return zt.createElement(ql.Z,{hoverable:!0,title:e,onClick:e=>this.onDidShow(e,this.props.item.id),className:"list-item-card"},zt.createElement("div",{className:"block"},this.props.item.description),zt.createElement("div",null,zt.createElement(Ss.default,{type:"tag",className:"inline-block-tight"}),this.renderKeywords(this.props.item.keywords)),zt.createElement("div",null,zt.createElement(Es.default,{title:"Compatible platforms"},zt.createElement(Ss.default,{type:"appstore",className:"inline-block-tight"}),this.renderFrameworksOrPlatforms(this.props.item.platforms,"platform"))))}renderExtraHead(){return zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(Es.default,{title:"Downloads"},zt.createElement(Ss.default,{type:"download",className:"inline-block-tight"}),this.props.item.dllifetime.toLocaleString())),zt.createElement("li",null,zt.createElement(Es.default,{title:"Total examples"},zt.createElement(Ss.default,{type:"copy",className:"inline-block-tight"}),this.props.item.examplenums)),zt.createElement("li",null,zt.createElement(Es.default,{title:"Compatible frameworks"},zt.createElement(Ss.default,{type:"setting",className:"inline-block-tight"}),this.renderFrameworksOrPlatforms(this.props.item.frameworks,"framework"))))}renderFrameworksOrPlatforms(e,t){return zt.createElement("span",null,e.map(((r,n)=>zt.createElement("a",{key:r.name,onClick:e=>this.onDidFilterSearch(e,t,r.name)},r.title,n<e.length-1?", ":""))))}renderKeywords(e){return zt.createElement("span",null,e.map(((t,r)=>zt.createElement("a",{key:t,onClick:e=>this.onDidFilterSearch(e,"keyword",t)},t,r<e.length-1?", ":""))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Au,"propTypes",{item:js().shape({id:js().number.isRequired,name:js().string.isRequired,description:js().string.isRequired,examplenums:js().number.isRequired,dllifetime:js().number.isRequired,frameworks:js().arrayOf(js().object).isRequired,platforms:js().arrayOf(js().object).isRequired,keywords:js().arrayOf(js().string).isRequired,authornames:js().arrayOf(js().string).isRequired}),searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired});class Uu extends zt.Component{constructor(){super(...arguments),this.state={searchQuery:""}}componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onQueryChange(e){this.setState({searchQuery:e})}onDidSearch(){this.props.searchLibrary(this.state.searchQuery)}render(){return zt.createElement("div",{className:"lib-search-from"},zt.createElement(Gs.default.Search,{key:this.props.defaultSearch,enterButton:!0,placeholder:"Search libraries...",defaultValue:this.props.defaultSearch,size:"large",onChange:e=>this.onQueryChange(e.target.value),onSearch:this.onDidSearch.bind(this),ref:e=>this._searchInputElement=e}),zt.createElement("div",{className:"block search-tips"},zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("tft display"),title:'Search in "library.json" fields'},"tft display"),zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("dht*"),title:"Search for libraries that support DHT ICs (DHT11, DHT22)"},"dht*"),zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("header:RH_ASK.h"),title:"Search by header files (#inculde)"},"header:RH_ASK.h"),zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("keyword:mqtt"),title:"Filter libraries by keyword"},"keyword:mqtt"),zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("framework:mbed"),title:"ARM mbed based libraries"},"framework:mbed"),zt.createElement(yt.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("platform:espressif8266"),className:"btn btn-default btn-xs icon icon-search",title:"Search for Espressif 8266 compatible libraries"},"platform:espressif8266"),zt.createElement("a",{href:"http://docs.platformio.org/page/userguide/lib/cmd_search.html"},"more...")))}}function zu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Uu,"propTypes",{searchLibrary:js().func.isRequired,defaultSearch:js().string});class Vu extends zt.Component{constructor(){super(...arguments),this._moreItems=[],this.props.loadSearchResult(this.props.searchQuery)}componentDidUpdate(e){const t=this.props.searchQuery!==e.searchQuery;(t||this.props.searchPage!==e.searchPage)&&(!t&&this.props.searchPage||(this._moreItems=[]),this.props.loadSearchResult(this.props.searchQuery,this.props.searchPage))}onDidMoreResults(){this._moreItems=this._moreItems.concat(this.props.result.items),this.props.searchLibrary(this.props.searchQuery,this.props.result.page+1)}hasMoreResults(){return this.getStatus()===Vu.STATUS.LOADING_MORE||!!this.props.result&&this.props.result.page*this.props.result.perpage<this.props.result.total}getStatus(){return!this.props.result&&this._moreItems.length?Vu.STATUS.LOADING_MORE:this.props.result?0===this.props.result.items.length?Vu.STATUS.NORESULTS:Vu.STATUS.LOADED:Vu.STATUS.LOADING}getTotalResults(){return this.props.result?this.props.result.total:-1}render(){const e=this.getStatus(),t=this.getTotalResults();let r=this.props.result?this.props.result.items:[];return this._moreItems.length&&(r=this._moreItems.concat(r)),zt.createElement("div",{className:"page-container"},zt.createElement(Uu,{searchLibrary:this.props.searchLibrary,defaultSearch:this.props.searchQuery}),t>0&&zt.createElement("h1",null,"Libraries ",zt.createElement(Us.Z,{overflowCount:1e5,count:t})),e===Vu.STATUS.LOADING&&zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})),e===Vu.STATUS.NORESULTS&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),zt.createElement("div",{className:"block"},r.map((e=>zt.createElement(Au,{key:e.id,item:e,searchLibrary:this.props.searchLibrary,showLibrary:this.props.showLibrary})))),this.hasMoreResults()&&zt.createElement("div",{className:"block text-center"},zt.createElement(yt.default,{onClick:this.onDidMoreResults.bind(this),loading:e===Vu.STATUS.LOADING_MORE},"More...")))}}zu(Vu,"propTypes",{result:js().shape({items:js().array.isRequired,total:js().number.isRequired,page:js().number.isRequired,perpage:js().number.isRequired}),searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,loadSearchResult:js().func.isRequired,searchQuery:js().string.isRequired,searchPage:js().number}),zu(Vu,"STATUS",{LOADING:0,LOADING_MORE:1,NORESULTS:2,LOADED:3});const $u=(0,Ps.$j)((function(e,t){return{result:zi(e,t.location.state.query,t.location.state.page),searchQuery:t.location.state.query,searchPage:t.location.state.page,searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>at(t.history,"/libraries/registry/show",{idOrManifest:e})}}),s)(Vu);class Mu extends zt.Component{getKeywordBtnSize(e){return e<10?"large":e<25?"default":"small"}onDidKeywordSearch(e){return this.props.searchLibrary(`keyword:"${e}"`)}onDidRegister(){this.props.osOpenUrl("http://docs.platformio.org/page/librarymanager/creating.html")}render(){return zt.createElement("div",null,zt.createElement("div",{className:"text-right"},zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"code-o",onClick:()=>this.props.searchLibrary("")},"All Libraries"),zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"file-add",onClick:this.onDidRegister.bind(this)},"Publish"))),zt.createElement(ra.Z,{style:{marginTop:0}},"Recently"),zt.createElement(ta.default,null,zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Updated"),zt.createElement("ul",null,this.props.data.updated.map((e=>zt.createElement("li",{key:e.id},zt.createElement("a",{className:"inline-block-tight",onClick:()=>this.props.showLibrary(e.id)},e.name),zt.createElement("small",{title:e.date},kr().relativeTime(new Date(e.date).getTime()/1e3))))))),zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Added"),zt.createElement("ul",null,this.props.data.added.map((e=>zt.createElement("li",{key:e.id},zt.createElement("a",{className:"inline-block-tight",onClick:()=>this.props.showLibrary(e.id)},e.name),zt.createElement("small",{title:e.date},kr().relativeTime(new Date(e.date).getTime()/1e3))))))),zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Keywords"),zt.createElement("ul",{className:"last-keywords"},this.props.data.lastkeywords.map((e=>zt.createElement("li",{key:e},zt.createElement(yt.default,{icon:"tag",size:"small",onClick:()=>this.onDidKeywordSearch(e)},e))))))),zt.createElement(ra.Z,null,"Popular Tags"),zt.createElement("div",{className:"inline-buttons"},this.props.data.topkeywords.map(((e,t)=>zt.createElement(yt.default,{key:e,icon:"tag",size:this.getKeywordBtnSize(t),onClick:()=>this.onDidKeywordSearch(e)},e)))),zt.createElement(ra.Z,null,"Trending"),zt.createElement(ta.default,{className:"trending"},zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Today"),zt.createElement("ul",null,this.props.data.dlday.map((e=>zt.createElement("li",{key:e.id},zt.createElement(Es.default,{title:`+${e.diff}, total: ${e.total}`},zt.createElement(Ss.default,{type:"caret-up",size:"small"})),zt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name)))))),zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Week"),zt.createElement("ul",null,this.props.data.dlweek.map((e=>zt.createElement("li",{key:e.id},zt.createElement(Es.default,{title:`+${e.diff}, total: ${e.total}`},zt.createElement(Ss.default,{type:"caret-up",size:"small"})),zt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name)))))),zt.createElement(na.default,{span:8},zt.createElement("h3",null,"Month"),zt.createElement("ul",null,this.props.data.dlmonth.map((e=>zt.createElement("li",{key:e.id},zt.createElement(Es.default,{title:`+${e.diff}, total: ${e.total}`},zt.createElement(Ss.default,{type:"caret-up",size:"small"})),zt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name))))))))}}function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(r),!0).forEach((function(t){Yu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Mu,"propTypes",{data:js().shape({added:js().array.isRequired,dlday:js().array.isRequired,dlmonth:js().array.isRequired,dlweek:js().array.isRequired,lastkeywords:js().array.isRequired,topkeywords:js().array.isRequired,updated:js().array.isRequired}),osOpenUrl:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired});class Wu extends zt.Component{constructor(){super(...arguments),this.props.loadStats()}componentDidUpdate(e){e.data&&!this.props.data&&this.props.loadStats()}render(){return zt.createElement("div",{className:"page-container libraries-stats"},zt.createElement(Uu,{searchLibrary:this.props.searchLibrary}),this.props.data?zt.createElement(Mu,this.props):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})))}}Yu(Wu,"propTypes",{data:js().object,loadStats:js().func.isRequired,osOpenUrl:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired});const Gu=(0,Ps.$j)((function(e,t){return{data:Vi(e),searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>at(t.history,"/libraries/registry/show",{idOrManifest:e})}}),Bu(Bu({},s),{},{osOpenUrl:ye}))(Wu);class Ku extends zt.Component{constructor(){super(...arguments),this.props.loadLibUpdates()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(ou,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ku,"propTypes",{items:js().arrayOf(js().instanceOf(ri).isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadLibUpdates:js().func.isRequired,osRevealFile:js().func.isRequired,searchLibrary:js().func.isRequired,showLibrary:js().func.isRequired,updateLibrary:js().func.isRequired});const Hu=[{path:"/libraries",icon:"book",label:"Registry",component:Gu},{path:"/libraries/registry/show",component:_u},{path:"/libraries/registry/search",component:$u},{path:"/libraries/installed",icon:"hdd",label:"Installed",component:Fu},{path:"/libraries/installed/show",component:_u},{path:"/libraries/builtin",icon:"eye-o",label:"Built-in",component:au},{path:"/libraries/builtin/show",component:_u},{path:"/libraries/updates",icon:"cloud-download-o",label:"Updates",component:(0,Ps.$j)((function(e,t){return{items:Hi(e),filterValue:Fi(e),searchLibrary:(e,r)=>at(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>at(t.history,"/libraries/installed/show",{idOrManifest:e})}}),(function(e){return(0,c.DE)(Object.assign({},s,{osRevealFile:be,setFilter:t=>e(_(qi,t))}),e)}))(Ku)}];class Ju extends zt.Component{render(){return zt.createElement("section",{className:"libraries-module"},zt.createElement(Ys,{routes:Hu}))}}class Qu extends zt.Component{render(){return this.props.data?zt.createElement("div",null,zt.createElement("h1",null,this.props.data.title),zt.createElement("div",{className:"lead"},this.props.data.description),zt.createElement(ta.default,null,zt.createElement(na.default,{sm:20,className:"tabs-block"},zt.createElement(lu.default,{type:"card"},zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"calculator"}),"Boards"),key:"boards"},zt.createElement(Za,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Frameworks"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})))),zt.createElement(na.default,{sm:4},zt.createElement("h2",null,"Platforms"),zt.createElement("ul",{className:"resources-list"},this.props.data.platforms.map((e=>zt.createElement("li",{key:e.name},zt.createElement(yt.default,{icon:"appstore",size:"small",onClick:()=>this.props.showPlatform(e.name)},e.title))))),zt.createElement("h2",null,"Resources"),zt.createElement("ul",{className:"resources-list"},zt.createElement("li",null,zt.createElement("kbd",null,"framework = ",this.props.data.name)),zt.createElement("li",null,zt.createElement(Ss.default,{type:"home"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),zt.createElement("li",null,zt.createElement(Ss.default,{type:"info-circle-o"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/frameworks/${this.props.data.name}.html`)},"Documentation")),zt.createElement("li",null,zt.createElement(Ss.default,{type:"link"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")))))):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(r),!0).forEach((function(t){tp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Qu,"propTypes",{data:js().shape({name:js().string.isRequired,title:js().string.isRequired,description:js().string.isRequired,homepage:js().string.isRequired,url:js().string,platforms:js().arrayOf(js().object),boards:js().arrayOf(js().object)}),showPlatform:js().func.isRequired,showFramework:js().func.isRequired,osOpenUrl:js().func.isRequired});class rp extends zt.Component{constructor(){super(...arguments),this.props.loadFrameworkData(this.props.name)}render(){return zt.createElement("div",{className:"page-container pf-detail"},zt.createElement(Qu,this.props))}}tp(rp,"propTypes",{name:js().string.isRequired,data:js().object,loadFrameworkData:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,osOpenUrl:js().func.isRequired});const np=(0,Ps.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:Di(e,r),showPlatform:e=>at(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),ep(ep({},a),{},{osOpenUrl:ye}))(rp);class ip extends zt.Component{componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidFilter(e){this.props.setFilter(e)}onDidShow(e,t){e.stopPropagation(),this.props.showFramework(t)}onDidPlatform(e,t){e.stopPropagation(),this.props.showPlatform(t)}render(){return this.props.items?zt.createElement("div",null,zt.createElement(Gs.default.Search,{allowClear:!0,className:"block",placeholder:"Filter frameworks by name",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>this._searchInputElement=e}),this.props.items&&0===this.props.items.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),this.props.items.map((e=>this.renderItem(e)))):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}renderItem(e){const t=zt.createElement("a",{onClick:t=>this.onDidShow(t,e.name)},e.title);return zt.createElement(ql.Z,{hoverable:!0,key:e.name,title:t,onClick:t=>this.onDidShow(t,e.name),className:"list-item-card"},zt.createElement("div",{className:"block"},e.description),zt.createElement("div",{className:"inline-buttons"},(e.platforms||[]).map((e=>zt.createElement(yt.default,{key:e.title,icon:"appstore",size:"small",onClick:t=>this.onDidPlatform(t,e.name)},e.title)))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ip,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired});class op extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryFrameworks()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(ip,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(op,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadRegistryFrameworks:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired});const sp=(0,Ps.$j)((function(e,t){return{items:Ni(e),filterValue:pi(e),showPlatform:e=>at(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{setFilter:t=>e(_(oi,t))}),e)}))(op);class ap extends zt.Component{constructor(){super(...arguments),this.state={actionInProgress:!1,componentMounted:!1}}componentDidMount(){this.setState({componentMounted:!0})}componentWillUnmount(){this.setState({componentMounted:!1})}onDidReveal(e){e.stopPropagation(),this.props.item.__pkg_dir&&this.props.osRevealFile(this.props.item.__pkg_dir)}onDidShow(e){e.stopPropagation(),this.props.showPlatform(this.props.item.version?`${this.props.item.name}@${this.props.item.version}`:this.props.item.name)}onDidInstall(e){e.stopPropagation();const t=e.target;t.classList.add("btn-inprogress","disabled"),this.props.installPlatform(this.props.item.name,(()=>t.classList.remove("btn-inprogress","disabled")))}onDidUninstallOrUpdate(e,t){e.stopPropagation(),this.setState({actionInProgress:!0}),("uninstall"===t?this.props.uninstallPlatform:this.props.updatePlatform)(this.props.item.__pkg_dir,(()=>this.state.componentMounted?this.setState({actionInProgress:!1}):{}))}onDidFramework(e,t){e.stopPropagation(),this.props.showFramework(t)}render(){const e=zt.createElement("a",{onClick:this.onDidShow.bind(this)},this.props.item.title);let t;return this.props.item.version&&(t=zt.createElement("span",null,zt.createElement(Es.default,{title:"Version"}," ",zt.createElement(Ss.default,{type:this.props.item.__src_url?"fork":"environment-o"})," ",this.props.item.version," "))),zt.createElement(ql.Z,{hoverable:!0,title:e,extra:t,onClick:this.onDidShow.bind(this),className:"list-item-card"},zt.createElement("div",{className:"block"},this.props.item.description),zt.createElement(ta.default,null,zt.createElement(na.default,{sm:16},zt.createElement("div",{className:"inline-buttons"},(this.props.item.frameworks||[]).map((e=>zt.createElement(yt.default,{key:e.title,icon:"setting",size:"small",onClick:t=>this.onDidFramework(t,e.name)},e.title))))),zt.createElement(na.default,{sm:8,className:"text-right text-nowrap"},zt.createElement(yt.default.Group,null,this.props.actions&&this.props.actions.includes("uninstall")&&zt.createElement(tu.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onCancel:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onConfirm:e=>this.onDidUninstallOrUpdate(e,"uninstall")},zt.createElement(yt.default,{type:"primary",icon:"delete",loading:this.state.actionInProgress,disabled:this.state.actionInProgress},"Uninstall")),this.props.actions&&this.props.actions.includes("update")&&zt.createElement(yt.default,{type:"primary",icon:"cloud-download-o",loading:this.state.actionInProgress,disabled:this.state.actionInProgress,onClick:e=>this.onDidUninstallOrUpdate(e,"update")},this.props.item.versionLatest?`Update to ${this.props.item.versionLatest}`:"Update")))))}}function lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(r),!0).forEach((function(t){up(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function up(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ap,"propTypes",{item:js().shape({name:js().string.isRequired,title:js().string.isRequired,description:js().string.isRequired,version:js().string,versionLatest:js().object,frameworks:js().array,__src_url:js().string,__pkg_dir:js().string}),actions:js().arrayOf(js().string),showPlatform:js().func.isRequired,showFramework:js().func.isRequired,installPlatform:js().func.isRequired,uninstallPlatform:js().func.isRequired,updatePlatform:js().func.isRequired,osRevealFile:js().func.isRequired});class pp extends zt.Component{constructor(){super(...arguments),this.state={value:null,installing:!1}}componentDidUpdate(){setTimeout((()=>this.focus()),200)}focus(){this._inputElement&&this._inputElement.focus()}onDidValue(e){this.setState({value:e})}onDidInstall(){this.state.value?(this.setState({installing:!0}),this.props.installPlatform(this.state.value,(e=>{this.setState({installing:!1}),e||(this.props.loadInstalledPlatforms(),this.onDidCancel())}))):this.focus()}onDidCancel(){this.setState({value:null,installing:!1}),this.props.onCancel()}render(){return zt.createElement(gt.Z,{visible:this.props.visible,confirmLoading:this.state.installing,title:"Advanced platform installation",okText:"Install",onOk:this.onDidInstall.bind(this),onCancel:this.onDidCancel.bind(this)},zt.createElement(Gs.default,{className:"block",placeholder:"Platform name, repository, requirements...",size:"large",value:this.state.value,onChange:e=>this.onDidValue(e.target.value),onPressEnter:this.onDidInstall.bind(this),ref:e=>this._inputElement=e}),zt.createElement("ul",{className:"block list-styled"},zt.createElement("li",null,zt.createElement("code",null,"<name>")," - Foo"),zt.createElement("li",null,zt.createElement("code",null,"<name>@<version>")," - Foo@1.2.3 or Foo@~1.2.3"),zt.createElement("li",null,zt.createElement("code",null,"<name>@<version range>")," - Foo@!=1.2.0"),zt.createElement("li",null,zt.createElement("code",null,"<zip or tarball url>")),zt.createElement("li",null,zt.createElement("code",null,"file://<zip or tarball file>")),zt.createElement("li",null,zt.createElement("code",null,"file://<folder>")),zt.createElement("li",null,zt.createElement("code",null,"<repository>")),zt.createElement("li",null,zt.createElement("code",null,"<name>=<repository>")," (name it should have locally)"),zt.createElement("li",null,zt.createElement("code",null,"<repository#tag>"),' ("tag" can be commit, branch or tag)'),zt.createElement("li",null,zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/userguide/platforms/cmd_install.html")},"more (docs)..."))),zt.createElement("div",{className:"block"},"Project can depend on a specific version of development platform, please use"," ",zt.createElement("code",null,"platform = name@x.y.z")," option in ",zt.createElement("b",null,"platformio.ini")," in this case."," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_general.html#platform")},"More details...")))}}up(pp,"propTypes",{visible:js().bool.isRequired,onCancel:js().func.isRequired,installPlatform:js().func.isRequired,loadInstalledPlatforms:js().func.isRequired,osOpenUrl:js().func.isRequired});const dp=(0,Ps.$j)(null,cp(cp({},a),{},{osOpenUrl:ye}))(pp);function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}class fp extends zt.Component{constructor(){super(...arguments),this.state={advancedVisible:!1}}onDidFilter(e){this.props.setFilter(e)}onDidAdvanced(){this.setState({advancedVisible:!0})}onDidCancelAdvanced(){this.setState({advancedVisible:!1})}render(){return this.props.items?zt.createElement("div",null,!Ns("singleDevPlatform")&&this.renderAdvanced(),this.props.items&&0===this.props.items.length&&zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results")),this.props.items.filter((e=>Ns("filterPlatformCard",(()=>!0))(e))).map((e=>zt.createElement(ap,mp({key:e.__pkg_dir||e.name,item:e},this.props))))):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}renderAdvanced(){return zt.createElement("div",null,zt.createElement(dp,{visible:this.state.advancedVisible,onCancel:this.onDidCancelAdvanced.bind(this)}),zt.createElement(Gs.default.Search,{allowClear:!0,className:"block",placeholder:"Filter platforms by name...",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>e?e.focus():null}),zt.createElement("div",{className:"block text-right"},zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"download",disabled:this.state.advancedVisible,onClick:e=>this.onDidAdvanced(e)},"Advanced Installation"),zt.createElement(yt.default,{ghost:!0,type:"primary",icon:"plus-circle-o",onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/platforms/creating_platform.html")},"Custom Platform"))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(fp,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,actions:js().arrayOf(js().string),showPlatform:js().func.isRequired,showFramework:js().func.isRequired,installPlatform:js().func.isRequired,uninstallPlatform:js().func.isRequired,updatePlatform:js().func.isRequired,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired});class hp extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(xa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"Native development platform depends on a system ",zt.createElement("kbd",null,"gcc"),". Please install it before and check ",zt.createElement("kbd",null,"gcc --version")," command.")}),zt.createElement(fp,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(hp,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadRegistryPlatforms:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired});const gp=(0,Ps.$j)((function(e,t){return{items:Ci(e),filterValue:mi(e),showPlatform:e=>at(t.history,"/platforms/desktop/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osOpenUrl:ye,osRevealFile:be,setFilter:t=>e(_(ai,t))}),e)}))(hp);class yp extends zt.Component{getTableColumns(e){let t=[{title:"Name",key:"name",render:(e,t)=>zt.createElement("span",null,t.url?zt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.url)},t.name):t.name)}];return e?(t=t.concat([{title:"Type",dataIndex:"type"},{title:"Optional",key:"optional",render:(e,t)=>zt.createElement(Ss.default,{type:t.optional?"check":""})},{title:"Requirements",dataIndex:"requirements"},{title:"Installed",key:"installed",render:(e,t)=>zt.createElement("span",null,t.version," ",t.originalVersion&&zt.createElement("span",null," (",t.originalVersion,")"))}]),t):(t=t.concat([{title:"Description",dataIndex:"description"}]),t)}render(){if(!this.props.items||0===this.props.items.length)return null;const e=!!this.props.items[0].requirements;return zt.createElement("div",null,zt.createElement(xa.Z,{className:"block",showIcon:!0,message:this.renderNotifications(e)}),this.renderTable(e))}renderNotifications(e){return zt.createElement("div",null,e?zt.createElement("div",null,"Optional packages will be installed automatically depending on a build environment."):zt.createElement("div",null,"More detailed information about package requirements and installed versions is available for the"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),"."))}renderTable(e){let t=this.props.items;return t=t.sort(((e,t)=>ct(e.name.toUpperCase(),t.name.toUpperCase()))),e?zt.createElement(pa.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e),expandedRowRender:this.renderExpandedRow.bind(this)}):zt.createElement(pa.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e)})}renderExpandedRow(e){return zt.createElement("div",null,e.description)}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(yp,"propTypes",{items:js().arrayOf(js().shape({name:js().string.isRequired,description:js().string,type:js().string,requirements:js().string,version:js().string,originalVersion:js().string,url:js().string,optional:js().bool})),osOpenUrl:js().func.isRequired,showInstalledPlatforms:js().func.isRequired});class bp extends zt.Component{static getGlobPatterns(){const e=[];return["*",lr("*","*"),lr("*","*","*")].forEach((t=>{e.push(lr("examples",t,"platformio.ini")),e.push(lr("examples",t,"src","*.c")),e.push(lr("examples",t,"src","*.cpp")),e.push(lr("examples",t,"src","*.h")),e.push(lr("examples",t,"src","*.hpp")),e.push(lr("examples",t,"src","*.ino"))})),e}constructor(){super(...arguments),this.props.uris||this.props.osFsGlob(bp.getGlobPatterns(),this.props.pkgDir)}getItems(){return this.props.uris.length?this.props.uris.filter((e=>e.endsWith("platformio.ini"))).sort().map((e=>{const t=cr(e),r=t.split(ar).filter((e=>e.length));let n=ur(t);const i=r.lastIndexOf("examples");-1!==i&&(n=r.slice(i+1).join("/"));const o=new du(n,t);return this.props.uris.forEach((e=>{e.startsWith(t)&&o.addSource(e,e.substr(t.length+1))})),o})):[]}render(){return this.props.uris?zt.createElement(fu,{items:this.getItems()}):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(bp,"propTypes",{pkgDir:js().string.isRequired,uris:js().arrayOf(js().string),osFsGlob:js().func.isRequired});const Ep=(0,Ps.$j)((function(e,t){return{uris:xt(e,bp.getGlobPatterns(),t.pkgDir)}}),{osFsGlob:ke})(bp);class vp extends zt.Component{constructor(){super(...arguments),this.state={installing:!1,uninstalling:!1,versionForInstall:null}}onDidReveal(e){this.props.osRevealFile(e)}onDidVersionChange(e){this.setState({versionForInstall:e})}onDidInstall(){this.setState({installing:!0}),this.props.installPlatform(this.state.versionForInstall?`${this.props.data.name}@${this.state.versionForInstall}`:this.props.data.name,(()=>this.setState({installing:!1})))}onDidUninstall(){this.setState({uninstalling:!0}),this.props.uninstallPlatform(this.props.data.__pkg_dir,(e=>{this.setState({uninstalling:!1}),e||this.props.showInstalledPlatforms()}))}renderQuickInstallation(e){return zt.createElement("div",null,zt.createElement("h3",null,"Installation"),zt.createElement("ul",{className:"block list-inline"},zt.createElement("li",null,zt.createElement(ll.default,{defaultValue:e[0],dropdownMatchSelectWidth:!1,onChange:this.onDidVersionChange.bind(this)},e.map((e=>zt.createElement(ll.default.Option,{key:e,value:e},e))))),zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",type:"primary",loading:this.state.installing,disabled:this.state.installing,onClick:this.onDidInstall.bind(this)},"Install"))))}renderExtra(){return this.props.data.__pkg_dir?zt.createElement("ul",{className:"list-inline",style:{marginTop:"9px"}},zt.createElement("li",null,zt.createElement(Es.default,{title:"Version"},zt.createElement(Ss.default,{type:this.props.data.__src_url?"fork":"environment-o",className:"inline-block-tight"}),this.props.data.version)),zt.createElement("li",null,zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{type:"primary",icon:"folder",onClick:()=>this.props.osRevealFile(this.props.data.__pkg_dir)},"Reveal"),zt.createElement(tu.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onConfirm:this.onDidUninstall.bind(this)},zt.createElement(yt.default,{type:"primary",icon:"delete",loading:this.state.uninstalling,disabled:this.state.uninstalling},"Uninstall"))))):null}render(){return zt.createElement("div",null,zt.createElement("h1",null,this.props.data.title," ",zt.createElement("small",{className:"pull-right"},this.renderExtra())),zt.createElement("div",{className:"lead"},this.props.data.description),this.props.data.versions&&this.renderQuickInstallation(this.props.data.versions.slice(0)),zt.createElement(ta.default,null,zt.createElement(na.default,{sm:20,className:"tabs-block"},zt.createElement(lu.default,{type:"card"},zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,(e="calculator",Ts.remapCustomIcons&&Ts.remapCustomIcons[e]?zt.createElement(Ds,{type:Ts.remapCustomIcons[e]}):zt.createElement(Ss.default,{type:e})),xs("Boards")),key:"boards"},zt.createElement(Za,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Platform"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"copy"}),"Examples"),key:"examples"},this.props.data.__pkg_dir?zt.createElement(Ep,{pkgDir:this.props.data.__pkg_dir}):zt.createElement(xa.Z,{type:"error",showIcon:!0,message:zt.createElement("span",null,"Examples avaiable only for"," ",zt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),".")})),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"appstore-o"}),"Packages"),key:"packages"},zt.createElement(yp,{items:this.props.data.packages,osOpenUrl:this.props.osOpenUrl,showInstalledPlatforms:this.props.showInstalledPlatforms})),zt.createElement(lu.default.TabPane,{tab:zt.createElement("span",null,zt.createElement(Ss.default,{type:"clock-circle-o"}),"Changelog"),key:"changelog"},zt.createElement(Ru,{uri:this.props.data.repository})))),zt.createElement(na.default,{sm:4},zt.createElement("h2",null,"Frameworks"),zt.createElement("ul",{className:"resources-list"},this.props.data.frameworks.map((e=>zt.createElement("li",{key:e.name},zt.createElement(yt.default,{icon:"setting",size:"small",onClick:()=>this.props.showFramework(e.name)},e.title))))),zt.createElement("h2",null,"Resources"),zt.createElement("ul",{className:"resources-list"},zt.createElement("li",null,zt.createElement("kbd",null,"platform = ",this.props.data.name)),zt.createElement("li",null,zt.createElement(Ss.default,{type:"home"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),this.props.data.repository&&zt.createElement("li",null,zt.createElement(Ss.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.repository)},"Repository")),zt.createElement("li",null,zt.createElement(Ss.default,{type:"info-circle-o"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.docs||`http://docs.platformio.org/page/platforms/${this.props.data.name}.html`)},"Documentation")),zt.createElement("li",null,zt.createElement(Ss.default,{type:"link"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")),this.props.data.license&&zt.createElement("li",null,zt.createElement(Ss.default,{type:"copyright",className:"inline-block-tight"}),zt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://opensource.org/licenses/${this.props.data.license}`)},this.props.data.license)),this.props.data.__src_url&&zt.createElement("li",null,zt.createElement(Ss.default,{type:"github"})," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.__src_url)},"Source")),this.props.data.versions&&zt.createElement("li",null,zt.createElement("h2",null,"Versions"),zt.createElement("ul",null,this.props.data.versions.slice(0).map((e=>zt.createElement("li",{key:e},zt.createElement(Ss.default,{type:"environment-o",className:"inline-block-tight"}),e)))))))));var e}}function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(r),!0).forEach((function(t){jp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(vp,"propTypes",{data:js().shape({name:js().string.isRequired,title:js().string.isRequired,description:js().string.isRequired,url:js().string,docs:js().string,homepage:js().string.isRequired,repository:js().string,license:js().string,version:js().string,versions:js().arrayOf(js().string),frameworks:js().arrayOf(js().object),packages:js().arrayOf(js().object),boards:js().arrayOf(js().object),__src_url:js().string,__pkg_dir:js().string}),osRevealFile:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,showInstalledPlatforms:js().func.isRequired,installPlatform:js().func.isRequired,uninstallPlatform:js().func.isRequired,osOpenUrl:js().func.isRequired});class Pp extends zt.Component{constructor(){super(...arguments),this.props.loadPlatformData(this.props.name)}render(){return zt.createElement("div",{className:"page-container pf-detail"},this.props.data?zt.createElement(vp,this.props):zt.createElement("div",{className:"text-center"},zt.createElement(ua.default,{tip:"Loading...",size:"large"})))}}jp(Pp,"propTypes",{name:js().string.isRequired,data:js().object,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired,loadPlatformData:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,installPlatform:js().func.isRequired});const kp=(0,Ps.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:Si(e,r),showPlatform:e=>at(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e}),showInstalledPlatforms:()=>at(t.history,"/platforms/installed")}}),Op(Op({},a),{},{osOpenUrl:ye,osRevealFile:be}))(Pp);class Cp extends zt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(fp,this.props))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Cp,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadRegistryPlatforms:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,installPlatform:js().func.isRequired,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired});const Sp=(0,Ps.$j)((function(e,t){return{items:ki(e),filterValue:di(e),showPlatform:e=>at(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osOpenUrl:ye,osRevealFile:be,setFilter:t=>e(_(si,t))}),e)}))(Cp);function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(null,arguments)}class Rp extends zt.Component{constructor(){super(...arguments),this.props.loadInstalledPlatforms()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(xa.Z,{className:"block",showIcon:!0,message:zt.createElement("div",null,"Project can depend on a specific version of development platform or VCS (Git, Mercurial and Subversion)."," ",zt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_general.html#platform")},"More details..."))}),zt.createElement(fp,Dp({},this.props,{actions:["reveal","uninstall"]})),this.props.items&&0===this.props.items.length&&zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(yt.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform")))))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Rp,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadInstalledPlatforms:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,uninstallPlatform:js().func.isRequired,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired,showEmbeddedPlatforms:js().func.isRequired,showDesktopPlatforms:js().func.isRequired});const Tp=(0,Ps.$j)((function(e,t){return{items:Ri(e),filterValue:fi(e),showPlatform:e=>at(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e}),showEmbeddedPlatforms:()=>at(t.history,"/platforms/embedded"),showDesktopPlatforms:()=>at(t.history,"/platforms/desktop")}}),(function(e){return(0,c.DE)(Object.assign({},a,{osOpenUrl:ye,osRevealFile:be,setFilter:t=>e(_(li,t))}),e)}))(Rp);function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}class xp extends zt.Component{constructor(){super(...arguments),this.props.loadPlatformUpdates()}render(){return zt.createElement("div",{className:"page-container"},zt.createElement(fp,Np({},this.props,{actions:["reveal","update"]})))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xp,"propTypes",{items:js().arrayOf(js().object.isRequired),filterValue:js().string,setFilter:js().func.isRequired,loadPlatformUpdates:js().func.isRequired,showPlatform:js().func.isRequired,showFramework:js().func.isRequired,updatePlatform:js().func.isRequired,osOpenUrl:js().func.isRequired,osRevealFile:js().func.isRequired});const Ip=[{path:"/platforms",icon:"hdd",label:"Installed",component:Tp},{path:"/platforms/installed",component:Tp},{path:"/platforms/embedded",icon:"build",label:"Embedded",component:Sp},{path:"/platforms/desktop",icon:"desktop",label:"Desktop",component:gp},{path:"/platforms/frameworks",icon:"setting",label:"Frameworks",component:sp},{path:"/platforms/frameworks/show",component:np},{path:"/platforms/updates",icon:"cloud-download-o",label:"Updates",component:(0,Ps.$j)((function(e,t){return{items:Ti(e),filterValue:hi(e),showPlatform:e=>at(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>at(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osOpenUrl:ye,osRevealFile:be,setFilter:t=>e(_(ci,t))}),e)}))(xp)},{path:"/platforms/embedded/show",component:kp},{path:"/platforms/desktop/show",component:kp},{path:"/platforms/installed/show",component:kp}];class qp extends zt.Component{render(){return zt.createElement("section",{className:"platform-module"},zt.createElement(Ys,{routes:Ip}))}}r("G851");var _p=r("ZvzK");const Lp=js().shape({name:js().string.isRequired,path:js().string.isRequired,modified:js().number.isRequired,boards:js().arrayOf(js().shape({id:js().string.isRequired,name:js().string.isRequired}))}),Fp=js().shape({name:js().string.isRequired,icon:js().string,text:js().string.isRequired}),Ap=js().arrayOf(js().shape({default:js().any,description:js().string,group:js().string,max:js().number,min:js().number,name:js().string.isRequired,multiple:js().bool,scope:js().oneOf(En).isRequired,sysenvvar:js().string,type:js().oneOf(gn)})),Up=js().shape({name:js().string.isRequired,value:js().any});r("tnQy");var zp=r("9Hym");function Vp(e){if(null!=e)return e.split(e.includes("\n")?/\n/:/, /).map((e=>e.replace(/^\s+|\s+$/g,""))).filter(((e,t)=>e.length||t))}function $p(e,t){return(e.find((e=>e.name===t))||{}).value}const Mp=new class{constructor(){this.factories=[]}register(e,t){this.factories.find((t=>t.matcher===e))||this.factories.push({matcher:e,factoryCallback:t})}isCustomized(e){return-1!==this.factories.findIndex((t=>t.matcher(e)))}factory(e,t,r,n,i){const o=this.factories.find((t=>t.matcher(e)));return o?o.factoryCallback(e,t,r,n,i):this.defaultFactory(e,t,r,n,i)}defaultFactory(e,t,r,n){const i=e?e.type:un,o=!e||e.multiple,s=e?e.description:void 0;let a;switch(i){case fn:a=zt.createElement(Na.default,{autoFocus:t.autoFocus},s),n.valuePropName="defaultChecked",n.trigger="onChange",r.help=void 0,void 0===n.initialValue&&(n.initialValue=t.defaultValue);break;case pn:a=zt.createElement(ll.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,mode:o?"multiple":"default",tokenSeparators:[",","\n"]},e.choices.map((e=>zt.createElement(ll.default.Option,{key:e,value:e},e))));break;default:a=o?zt.createElement(Gs.default.TextArea,{autoFocus:t.autoFocus,placeholder:t.defaultValue,autoSize:kn,rows:1}):zt.createElement(Gs.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,readOnly:e&&e.readonly}),i||console.warn(`Unsupported item type: "${i}" for name: "${name}"`)}return a}};function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(null,arguments)}function Bp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yp="autocomplete",Wp="select",Gp="tags";class Kp extends zt.PureComponent{constructor(...e){super(...e),Bp(this,"handleInputFocus",(()=>{this.props.onLoad&&this.load()})),Bp(this,"handleBlur",(e=>{this.props.onBlur&&this.props.onBlur(this.transformValueOut(e))})),Bp(this,"handleChange",(e=>{this.updateStateValues(e),this.props.onChange&&this.props.onChange(this.transformValueOut(e))})),Bp(this,"handleSearch",(e=>{this.props.mode===Gp?(this.props.onSearch&&this.props.onSearch(e),this.debouncedOnLoad({query:e})):this.updateStateValues(e)})),Bp(this,"handleFilter",((e,t)=>this.props.remoteFilter||this.props.multiple||t.props.value.toLowerCase().includes(e.toLowerCase())||t.props.children.toLowerCase().includes(e.toLowerCase()))),Bp(this,"handleTagClose",(e=>{this.setState({values:this.state.values.filter((t=>t!==e))})})),Bp(this,"handleAddValueBtnClick",(()=>{this.setState({autocompleterVisible:!0},(()=>this.autocomplete.focus()))})),Bp(this,"handleAutocompleteRef",(e=>{this.autocomplete=e})),Bp(this,"handleKeyUp",(e=>{13===e.keyCode&&(this.state.autocompleterValue&&this.state.autocompleterValue.length&&this.handleChange([...this.state.values||[],this.state.autocompleterValue]),this.setState({autocompleterValue:"",autocompleterVisible:!1}))})),Bp(this,"handleAddValueChange",(e=>{this.setState({autocompleterValue:e})})),this.state={loading:!1,values:[],autocompleterValue:""},this.debouncedOnLoad=function(e,t){let r;const n=function(...i){n.cancel(),r=setTimeout((()=>e.apply(this,i)),t)};return n.cancel=()=>clearTimeout(r),n}(((...e)=>this.load(...e)),500)}componentDidMount(){this.updateStateValues(this.props.defaultValue)}componentWillUnmount(){this.debouncedOnLoad.cancel()}load(...e){this.setState({loading:!0}),this.props.onLoad(...e,(()=>{this.setState({loading:!1})}))}isForceSingle(){return this.props.forceSingle&&(!this.props.defaultValue||this.props.defaultValue.length<2)}getData(){const e=this.state.values;return this.props.items&&this.props.items.filter((t=>!this.props.multiple||!e.includes(t.value))).map((t=>{let r=t.name,n=t.value;const i=void 0!==t.key?t.key:t.value;return this.props.multiple&&e.length&&this.props.mode===Yp&&!this.isForceSingle()&&(r=n,n=[...e,n].join("\n")),{name:r,value:n,key:i}}))||[]}transformValueIn(e){return this.isForceSingle()&&this.props.multiple&&e&&e.length&&(e=[e[0]]),this.props.mode===Yp&&this.props.multiple?e&&e.length?e.join("\n"):[]:e}transformValueOut(e){return this.props.mode===Yp&&this.props.multiple?e&&e.length?Vp(e):[]:e}updateStateValues(e){this.setState({values:"string"==typeof e?e.split("\n"):Array.isArray(e)?e:[]})}render(){const e=this.getData();if(this.props.mode===Gp)return zt.createElement("div",{className:"option-autocomplete mode-tags"},zt.createElement("div",{className:"block"},(this.state.values||[]).map((e=>zt.createElement(da.Z,{closable:!0,key:e,onClose:()=>this.handleTagClose(e)},e)))),!this.state.autocompleterVisible&&zt.createElement(yt.default,{autoFocus:this.props.autoFocus,onClick:this.handleAddValueBtnClick},this.props.addIcon&&zt.createElement(Ss.default,{type:this.props.addIcon})," ",this.props.addText),this.state.autocompleterVisible&&zt.createElement(zp.Z,Zp({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>zt.createElement(zp.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,onChange:this.handleAddValueChange,onSearch:this.handleSearch,optionLabelProp:"value",ref:this.handleAutocompleteRef,value:this.state.autocompleterValue}),zt.createElement(Gs.default,{allowClear:!0,suffix:zt.createElement(zt.Fragment,null,zt.createElement(Ss.default,{type:"search"}),this.state.loading&&zt.createElement(ua.default,{size:"small"})),onKeyUp:this.handleKeyUp})));const t={autoFocus:this.props.autoFocus,defaultValue:this.transformValueIn(this.props.defaultValue),loading:this.state.loading,onBlur:this.handleBlur,onFocus:this.handleInputFocus,onChange:this.handleChange,onSearch:this.handleSearch};return this.props.mode===Yp?zt.createElement(zp.Z,Zp({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>zt.createElement(zp.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,optionLabelProp:"value"},t),this.props.multiple&&!this.isForceSingle()?zt.createElement(Gs.default.TextArea,{allowClear:!0,autoSize:kn}):zt.createElement(Gs.default,{allowClear:!0,suffix:zt.createElement(Ss.default,{type:"search"})})):this.props.mode===Wp?zt.createElement(ll.default,Zp({},this.props.inputProps,{allowClear:!0,mode:this.props.multiple?"multiple":"default"},t),e.map((({key:e,name:t,value:r})=>zt.createElement(ll.default.Option,{key:e,value:r,title:r},t)))):void 0}}Bp(Kp,"defaultProps",{addIcon:"plus",addText:"Add",mode:Yp}),Bp(Kp,"propTypes",{addIcon:js().string,addPlaceholder:js().string,addText:js().string,autoFocus:js().bool,defaultValue:js().any,forceSingle:js().bool,inputProps:js().object,items:js().arrayOf(js().shape({name:js().string.isRequired,value:js().string.isRequired})),mode:js().oneOf([Yp,Wp,Gp]),multiple:js().bool,remoteFilter:js().bool,onBlur:js().func,onChange:js().func,onLoad:js().func,onSearch:js().func}),Mp.register((e=>e&&"default_envs"===e.name),((e,t,r,n,i)=>zt.createElement(Kp,{inputProps:t,mode:Wp,multiple:!e||e.multiple,items:i.envs.map((e=>({name:e,value:e})))})));const Hp={onLoad:()=>ao(!0)},Jp=(0,Ps.$j)((function(e,t){const r=gi(e);let n;if(r){const e=t.configSectionData||[],i=$p(e,"platform"),o=$p(e,"framework")||[];n=r.filter((e=>(!i||!e.platform||e.platform===i)&&(!o.length||o.some((t=>e.frameworks.includes(t)))))).map((e=>({name:`${e.name} (${e.id})`,value:e.id})))}return{items:n}}),Hp)(Kp);function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}Jp.displayName="BoardAutocomplete",Mp.register((e=>e&&e.name.endsWith("board")),((e,t)=>zt.createElement(Jp,t)));const Xp={onLoad:()=>co(!0)},ed=(0,Ps.$j)((function(e,t){const r=Ei(e);let n;if(r){const e=$p(t.configSectionData||[],"platform");e&&!e.toLowerCase().includes("github")&&(n=r.filter((t=>!t.platforms||!t.platforms.length||t.platforms.includes(e))),n=n.map((e=>({name:`${e.title} (${e.name})`,value:e.name}))))}return{items:n}}),Xp)(Kp);function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(null,arguments)}function rd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nd(e,t){return[e,...($p(t.configSectionData||[],"framework")||[]).map((e=>`framework:"${e.replace(/"/g,"&quot;")}"`))].join(" ")}ed.displayName="FrameworkAutocomplete",Mp.register((e=>e&&e.name.endsWith("framework")),((e,t)=>zt.createElement(ed,Qp({},t,{forceSingle:!0,multiple:e&&e.multiple}))));const id=(0,Ps.$j)((function(e,t){let r;const n=zi(e,nd(t.query,t));return n&&(r=n.items.map((e=>({data:e,key:e.id,name:`${e.ownername}/${e.name}`,value:`${e.ownername}/${e.name} @ ^${e.versionname}`})))),{items:r}}),(function(e,t){return{onLoad:(r,n)=>{e(Wn(nd(r.query,t),1,n))}}}))(Kp);id.displayName="LibDepsAutocompleteInner";class od extends zt.Component{constructor(...e){super(...e),rd(this,"handleSearch",(e=>{this.setState({query:e})})),this.state={}}render(){return zt.createElement(id,td({},this.props,{query:this.state.query,onSearch:this.handleSearch}))}}Mp.register((e=>e&&"lib_deps"===e.name),((e,t,r,n)=>(n.trigger="onChange",zt.createElement(od,td({},t,{mode:Gp,remoteFilter:!0,addText:"Add Library",addPlaceholder:"Search library"})))));const sd={onLoad:()=>lo(!0)},ad=(0,Ps.$j)((function(e){const t=bi(e);let r;return t&&(r=t.map((e=>({name:`${e.title} (${e.name})`,value:e.name})))),{items:r}}),sd)(Kp);ad.displayName="PlatformAutocomplete",Mp.register((e=>e&&e.name.endsWith("platform")),((e,t)=>zt.createElement(ad,t)));const ld={onLoad:()=>Qt(!0)},cd=(0,Ps.$j)((function(e){return{items:tr(e)}}),ld)(Kp);cd.displayName="PortAutocomplete",Mp.register((e=>e&&e.name.endsWith("_port")),((e,t)=>zt.createElement(cd,t)));class ud extends Ws.Z.Item{renderChildren(e){const{children:t}=this.props;return[this.renderLabel(e),this.renderHelp(e),this.renderWrapper(e,this.renderValidateWrapper(e,t,void 0,this.renderExtra(e)))]}}r("lMnb");var pd=r("eoY8");class dd extends zt.Component{shouldComponentUpdate(e){return e.schema!==this.props.schema||e.onCreateId!==this.props.onCreateId||!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let r=e.length;for(;r--;)if(e[r]!==t[r])return!1;return!0}(e.fields,this.props.fields)}render(){const e={},t=new Set,r=[];for(const t of this.props.schema)e[t.name]=t;return this.props.fields.forEach((n=>{const i=e[n]?e[n].group:"Custom";t.has(i)||(t.add(i),r[i]=[]),r[i].push(n)})),zt.createElement(pd.Z,{className:"toc"},[...t].map((t=>zt.createElement(pd.Z.Link,{className:"config-section-group",href:`#${this.props.onCreateId("group",t)}`,key:t,title:`${t} Options`},r[t].map((t=>zt.createElement(pd.Z.Link,{href:`#${this.props.onCreateId("field",t)}`,key:t,title:e[t]&&e[t].displayName||t})))))))}}function md(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(dd,"propTypes",{fields:js().arrayOf(js().string.isRequired).isRequired,schema:Ap.isRequired,onCreateId:js().func.isRequired});class fd extends zt.PureComponent{constructor(...e){super(...e),md(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(this.getDocumentationUrl(this.props.scope,this.props.group,this.props.name))}))}getDocumentationUrl(e,t,r){const n=[e];e!==yn&&n.push(t);const i=`section_${n.join("_")}.html`,o=void 0!==r?r.replace(/[^a-z]/g,"-"):`${t.toLowerCase()}-options`;return`https://docs.platformio.org/en/latest/projectconf/${encodeURIComponent(i)}#${encodeURIComponent(o)}`}render(){return zt.createElement("span",{className:"documentation-link"},zt.createElement(Es.default,{title:`Open documentation for "${this.props.name}"`},zt.createElement("a",{onClick:this.handleClick},zt.createElement(Ss.default,{type:"question-circle"}),this.props.children?" ":void 0,this.props.children?this.props.children:void 0)))}}function hd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(r),!0).forEach((function(t){bd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(null,arguments)}function bd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ed(e){return e.replace(/\./g,"@")}function vd(e){return F?`%${e}%`:`$${e}`}function wd(e){return[...e].reduce(((e,[t,r])=>(e[t]=r,e)),{})}md(fd,"propTypes",{children:js().any,name:js().string,group:js().string.isRequired,scope:js().string.isRequired,onClick:js().func.isRequired});class Od extends zt.PureComponent{constructor(...e){super(...e),bd(this,"handleCreateTocId",((e,t)=>"group"===e?this.generateGroupAnchorId(t):this.generateFieldLabelId(t))),bd(this,"handleDocumentationClick",(e=>{this.props.onDocumentationClick(e)})),bd(this,"handleRename",(e=>{let t=e.target.value;this.props.type===On&&(t=On+t);const r=this.props.onRename(t,this.props.id);this.setState({nameValid:r})})),bd(this,"handleRemoveOptionClick",(e=>{this.props.onOptionRemove(this.props.name,e.target.closest("a").dataset.name)})),bd(this,"handleNewOptionSelect",(e=>{this.props.onOptionAdd(this.props.name,e)})),bd(this,"handleRemoveClick",(()=>{this.props.onRemove(this.props.name,this.props.id)})),bd(this,"handleToggleMakeDefaultClick",(()=>{this.props.onDefaultToggle(this.props.name,!this.props.defaultEnv)})),bd(this,"blockSubmit",(e=>{e.preventDefault()})),this.state={nameValid:!0}}generateIndexedSchema(){const e={};for(const t of this.props.schema)e[t.name]=t;return e}generateFieldId(e){return`${Ed(this.props.id)}.${Ed(e)}`}generateFieldLabelId(e){return`${this.props.id}-f-${e}`}generateGroupAnchorId(e){return`${this.props.id}-g-${e}`}transformIntoFormValues(e,t){const r=this.generateIndexedSchema(),n={};for(const{name:i,value:o}of e){n[t?this.generateFieldId(i):i]=this.transformIntoFormValue(o,r[i])}return n}transformIntoFormValue(e,t){if(null==e||Mp.isCustomized(t))return e;let r;return t?(r=t.multiple&&"string"==typeof e?Vp(e):e,t.type===un&&t.multiple&&(r=r.join("\n"))):"string"==typeof e?r=Vp(e).join("\n"):Array.isArray(e)?r=e.join("\n"):(r=e,console.error("Unsupported custom field type",{schema:t,rawValue:e})),r}setFormValuesFromData(e){this.props.form.setFieldsValue(this.transformIntoFormValues(e,!0))}renderEmptyMessage(e){if(0===e.length)return zt.createElement("div",{className:"text-center"},zt.createElement("br",null),zt.createElement("h1",null,"No options ",zt.createElement("br",null),zt.createElement("small",null,'Use "New Option" above to add a new one')))}renderLabel(e,t,{multiple:r}){let n=t&&t.label?t.label:e;return n=zt.createElement(zt.Fragment,null,n),r&&(n=zt.createElement(zt.Fragment,null,n," ",zt.createElement(Es.default,{title:"Option accepts multiple arguments separated by new line"},zt.createElement(da.Z,{className:"multiline",size:"small"},"ML")))),t&&t.sysenvvar&&(n=zt.createElement(zt.Fragment,null,n," ",zt.createElement(Es.default,{title:zt.createElement(zt.Fragment,null,"Option can be configured by a global"," ",zt.createElement("code",null,vd(t.sysenvvar))," environment variable")},zt.createElement(da.Z,{className:"sysenvvar"},"ENV")))),n=zt.createElement(zt.Fragment,null,n,zt.createElement("span",{className:"option-actions"},t&&zt.createElement(fd,{group:t.group,name:e,scope:t.scope,onClick:this.handleDocumentationClick},"Docs"),zt.createElement(Es.default,{title:"Remove Option"},zt.createElement("a",{className:"remove-option-btn","data-name":e,onClick:this.handleRemoveOptionClick},zt.createElement(Ss.default,{type:"delete"})," Delete")))),n}renderFormItem(e,t,r){const n=t[e],i=!n||n.multiple,o=n?n.description:void 0,s=n?this.transformIntoFormValue(n.default,n):void 0,a=this.generateFieldId(e),l=this.props.autoFocus===e,c={trigger:"onBlur",validateTrigger:!1,valuePropName:"defaultValue",initialValue:r},u={className:"",help:o,key:e,label:this.renderLabel(e,n,{multiple:i}),labelCol:{id:this.generateFieldLabelId(e)}},p={autoFocus:l,defaultValue:s,configSectionData:this.props.initialValues},d=Mp.factory(n,p,u,c,this.props.project),m=this.props.form.getFieldDecorator(a,c)(d);return zt.createElement(ud,u,m)}getNewOptionsData(e){const t=new Set(this.props.initialValues.map((e=>e.name))),r=new Map;return this.props.schema.forEach((n=>{e&&n.group!==e||t.has(n.name)||(r.has(n.group)||r.set(n.group,[]),r.get(n.group).push(n))})),r}renderNewOption(){const e=this.getNewOptionsData();return zt.createElement(ll.default,{className:"select-add-new-option",disabled:!this.state.nameValid,dropdownClassName:"dropdown-add-new-option",showSearch:!0,style:{width:"100%"},placeholder:"Click to start searching available options",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onSelect:this.handleNewOptionSelect,value:void 0},[...e].map((([e,t])=>zt.createElement(ll.default.OptGroup,{key:e,label:`${e.substr(0,1).toUpperCase()}${e.substr(1)} Options`},t.map((e=>{const t=[];return e.description&&t.push(e.description),null!=e.default&&t.push(`Default is "${this.transformIntoFormValue(e.default,e)}"`),zt.createElement(ll.default.Option,{key:e.name,value:e.name},e.name,0!==t.length&&zt.createElement("div",{className:"option-description"},t.join(". ")))}))))))}renderSectionActions(){return zt.createElement("span",{className:"pull-right inline-buttons"},this.props.type===On&&zt.createElement(Es.default,{title:"Default configuration for building, uploading, debugging, etc"},zt.createElement(yt.default,{disabled:!this.state.nameValid,icon:"environment",size:"small",onClick:this.handleToggleMakeDefaultClick},this.props.defaultEnv?"Remove From Default":"Make Default")),zt.createElement(tu.Z,{title:"Are you sure?",okText:"Yes",okType:"danger",cancelText:"No",onConfirm:this.handleRemoveClick},zt.createElement(yt.default,{icon:"delete",size:"small"},"Delete")))}renderSectionName(){const e={labelCol:{xs:24,sm:5,md:4,lg:3},wrapperCol:{xs:24,sm:19,md:20,lg:21}};return zt.createElement(zt.Fragment,null,zt.createElement("h2",null,this.props.title,this.renderSectionActions()),zt.createElement(Ws.Z,{className:"config-section-configuration",layout:"horizontal",labelAlign:"left",onSubmit:this.blockSubmit},this.props.type!==vn&&this.props.type!==wn&&zt.createElement(Ws.Z.Item,yd({key:"__section",label:"Name"},e,{validateStatus:this.state.nameValid?"success":"error"}),zt.createElement(Gs.default,{addonBefore:this.props.type===On?On:void 0,defaultValue:this.props.name.replace(On,""),onChange:this.handleRename})),this.props.type!==jn&&zt.createElement(Ws.Z.Item,yd({key:"add_option",label:"New Option"},e),this.renderNewOption())))}renderGroup(e,t,r,n){return zt.createElement("div",{key:e,className:"config-section-group"},0!==e.length&&zt.createElement("h2",{id:this.generateGroupAnchorId(e)},e," Options"),t.map((({name:e})=>this.renderFormItem(e,r,n[e]))))}render(){const e=this.generateIndexedSchema(),t=this.props.initialValues.map((({name:e})=>e)),r=new Set,n=[];t.forEach((t=>{const i=e[t]?e[t].group:"Custom";r.has(i)||(r.add(i),n[i]=[]),n[i].push({name:t})}));const i=this.transformIntoFormValues(this.props.initialValues),o=this.props.showToc?{xs:24,xm:15,md:18}:{span:24};return zt.createElement(ta.default,{gutter:0},this.props.showToc&&zt.createElement(na.default,{key:"toc",xs:24,sm:9,md:6},zt.createElement(dd,{fields:t,schema:this.props.schema,onCreateId:this.handleCreateTocId})),zt.createElement(na.default,yd({key:"main"},o),this.renderSectionName(),zt.createElement(Ws.Z,{layout:"vertical",className:"config-form"},this.renderEmptyMessage(t),0!==t.length&&[...r].map((t=>this.renderGroup(t,n[t],e,i))))))}}bd(Od,"propTypes",{autoFocus:js().string,defaultEnv:js().bool,form:js().object.isRequired,id:js().string.isRequired,initialValues:js().arrayOf(Up),name:js().string.isRequired,project:Lp.isRequired,schema:Ap.isRequired,showToc:js().bool,title:js().string.isRequired,type:js().oneOf(Pn).isRequired,onChange:js().func.isRequired,onDefaultToggle:js().func.isRequired,onDocumentationClick:js().func.isRequired,onRemove:js().func.isRequired,onRename:js().func.isRequired,onOptionAdd:js().func.isRequired,onOptionRemove:js().func.isRequired});const jd=Ws.Z.create({onFieldsChange(e,t){e.onChange(e.name,wd(Object.entries(t[e.id]).map((([t,r])=>{const n=t.replace(/@/g,".");let i=r.value;const o=e.schema.find((e=>e.name===n));return o&&o.multiple&&o.type===un&&!Mp.isCustomized(o)&&(i=Vp(r.value)),[n,gd(gd({},r),{},{value:i})]}))))},mapPropsToFields:e=>wd(e.initialValues.map((e=>[Ed(e.name),Ws.Z.createFormField({value:e.value})])))})(Od);var Pd=r("IYwU"),kd=r("kvAW"),Cd=r("oWrm");function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(null,arguments)}function Dd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Rd extends zt.Component{render(){return this.props.connectDragSource(this.props.connectDropTarget(this.props.children))}}Dd(Rd,"propTypes",{children:js().oneOfType([js().arrayOf(js().node),js().node]).isRequired,connectDragSource:js().func.isRequired,connectDropTarget:js().func.isRequired});const Td={drop(e,t){const r=t.getItem().index,n=e.index;r!==n&&(e.moveTabNode(r,n),t.getItem().index=n)}},Nd={beginDrag:e=>({id:e.id,index:e.index})},xd=(0,Pd.DropTarget)("DND_NODE",Td,(e=>({connectDropTarget:e.dropTarget()})))((0,Pd.DragSource)("DND_NODE",Nd,((e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()})))(Rd));class Id extends zt.Component{constructor(...e){super(...e),Dd(this,"moveTabNode",((e,t)=>{const r=[];zt.Children.forEach(this.props.children,(e=>{-1===r.indexOf(e.key)&&r.push(e.key)}));const n=r.slice(),i=n.indexOf(e),o=n.indexOf(t);n.splice(i,1),n.splice(o,0,e),this.props.onOrderChange&&this.props.onOrderChange(n,r)})),Dd(this,"renderTabBar",((e,t)=>zt.createElement(t,e,(e=>zt.createElement(xd,{key:e.key,index:e.key,moveTabNode:this.moveTabNode},e)))))}render(){return zt.createElement(kd.W,{backend:Cd.PD},zt.createElement(lu.default,Sd({renderTabBar:this.renderTabBar},this.props),this.props.children))}}function qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(r),!0).forEach((function(t){Ld(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ld(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Dd(Id,"propTypes",{children:js().oneOfType([js().arrayOf(js().node),js().node]).isRequired,onOrderChange:js().func});class Fd extends zt.PureComponent{constructor(...e){super(...e),Ld(this,"sectionIdCounter",0),Ld(this,"handleNewSectionMenuClick",(({key:e})=>{this.addSectionOfType(e)})),Ld(this,"handleNewSectionBtnClick",(()=>{this.addSectionOfType(On)})),Ld(this,"handleSaveClick",(()=>{this.save()})),Ld(this,"handleRevertClick",(()=>{this.load()})),Ld(this,"handleOpen",(()=>{this.props.openTextDocument(lr(this.props.project.path,"platformio.ini"))})),Ld(this,"handleTabChange",(e=>{this.setState({activeTabKey:e})})),Ld(this,"handleTabOrderChange",(e=>{this.setState((t=>{const r=t.config;return{config:r.slice().sort(((t,n)=>{const i=e.indexOf(t.id),o=e.indexOf(n.id);if(-1!==i&&-1!==o)return i-o;if(-1!==i)return-1;if(-1!==o)return 1;return r.indexOf(t)-r.indexOf(n)}))}}))})),Ld(this,"handleDocumentationClick",(e=>{this.props.osOpenUrl(e,{target:"_blank"})})),Ld(this,"handleSectionRename",((e,t)=>!this.state.config.find((t=>t.section===e))&&(this.renameSection(t,e),!0))),Ld(this,"handleSectionRemove",((e,t)=>{this.removeSection(t)})),Ld(this,"handleReportIssueClick",(()=>{const e="https://github.com/platformio/platformio-home/issues/new?"+nt.stringify({title:"Edit Project Config"});this.props.osOpenUrl(e)})),Ld(this,"handleToggleTocClick",(()=>{this.setState((e=>({showToc:!e.showToc})))})),Ld(this,"handleOptionAdd",((e,t)=>{this.addSectionField(e,t),this.setState({autoFocus:{section:e,option:t}})})),Ld(this,"handleOptionRemove",((e,t)=>{this.removeSectionField(e,t)})),Ld(this,"handleSectionChange",((e,t)=>{Object.entries(t).forEach((([t,r])=>{this.updateSectionValue(e,t,r.value)}))})),Ld(this,"handleNewOptionSelect",(e=>{const t=this.getActiveSection().section;this.addSectionField(t,e),this.setState({autoFocus:{section:t,option:e}})})),Ld(this,"handleDefaultToggle",((e,t)=>{const r=e.replace(On,""),n=t?e=>{const t=new Set(e);return t.add(r),[...t]}:e=>{const t=new Set(e);return t.delete(r),[...t]};this._updateSectionValue(vn,"default_envs",n),this.forceRerenderSection(vn)})),this.state={showToc:!1}}componentDidMount(){this.props.schema||this.props.loadConfigSchema(),this.load()}load(){this.props.loadProjectConfig(this.props.location.state.projectDir)}save(e){const t=this.state.config.map((e=>_d(_d({},e),{},{items:e.items.filter((t=>{const r=this.getSectionScope(this.getSectionType(e.section)),n=(r&&this.props.schema[r]||[]).find((e=>e.name===t.name));return!n||n.type!==fn||t.value!==n.default}))})));this.setState({config:t,saving:!0});const r=t.map((({section:e,items:t})=>[e,t.map((({name:e,value:t})=>[e,t]))]));this.props.saveProjectConfig(this.props.location.state.projectDir,r,{force:e,mtime:this.props.mtime},(t=>{this.setState({saving:!1}),!e&&t instanceof Jo&&gt.Z.confirm({autoFocusButton:"cancel",content:zt.createElement("p",null,"Press “Override” to override and loose external changes;",zt.createElement("br",null),"Press “Cancel” to continue editing without saving"),okText:"Override",okType:"danger",title:"Do you want to override externally modified config?",onOk:()=>{this.save(!0)}})}))}componentDidUpdate(e){if(this.props.initialConfig&&this.props.schema&&(e.initialConfig!==this.props.initialConfig||e.schema!==this.props.schema)){const e=this.props.initialConfig.map((e=>_d(_d({},e),{},{id:this.generateSectionId(e)})));this.setState({config:e}),this.setState((e=>{if(void 0===e.activeTabKey||!this.getActiveSection(e))return{activeTabKey:e.config.length?e.config[0].id:void 0}}))}}getSectionType(e){return e===vn||e===wn?e:e.startsWith(On)?On:jn}getSectionScope(e){return e===vn?yn:e===On||e===wn?bn:void 0}getScopeIcon(e){return Fd.iconBySectionType[this.getSectionType(e)]}getActiveSection(e){if(e||(e=this.state),e.config)return e.config.find((t=>t.id===e.activeTabKey))}sectionExists(e,t){return t||(t=this.state),t.config&&-1!==t.config.findIndex((t=>t.section===e))}generateSectionId(e){return`${++this.sectionIdCounter}-${e.section}`}addSectionOfType(e,t){let r;if([vn,wn].includes(e)){if(this.sectionExists(e))return;r=e}else if(e===On){let e=1;for(;this.sectionExists(r=`${On}env${e}`);)e++}else if(e===jn){let e=1;for(;this.sectionExists(r=`custom${e}`);)e++}this.addSection(r,t),this.setActiveSection(r)}setActiveSection(e){this.setState((t=>{const r=t.config.find((t=>t.section===e));if(r)return{activeTabKey:r.id}}))}addSection(e,t){t||(t=[]);const r=this.getSectionType(e),n={section:e,items:t};n.id=this.generateSectionId(n),this.setState((e=>{let t;if(r===vn)t=[n,...e.config];else if(r===wn){let r=0;const i=e.config.findIndex((e=>e.section===vn));if(-1!==i)r=i+1;else{const t=e.config.findIndex((e=>this.getSectionType(e.section)===On));-1!==t&&(r=t)}t=e.config.slice(),t.splice(r,0,n)}else t=[...e.config,n];return{config:t}}))}removeSection(e){this.setState((t=>{const r=t.config.findIndex((t=>t.id===e));if(-1===r)return;const n=t.config.filter((t=>t.id!==e)),i={config:n};return e===t.activeTabKey&&(r>=n.length?0!==n.length?i.activeTabKey=n[n.length-1].id:i.activeTabKey=void 0:i.activeTabKey=n[r].id),i}))}addSectionField(e,t,r){this.setState((n=>{const i=this.getSectionScope(this.getSectionType(e)),o=(i&&this.props.schema[i]||[]).find((e=>e.name===t));void 0===r&&(r=o&&o.multiple?[]:"");const s={name:t,value:r},a=n.config.find((t=>t.section===e)),l=_d(_d({},a),{},{items:[...a.items,s]});return{config:n.config.map((e=>e!==a?e:l))}}))}removeSectionField(e,t){this.setState((r=>{const n=r.config.find((t=>t.section===e)),i=_d(_d({},n),{},{items:n.items.filter((e=>e.name!==t))});return{config:r.config.map((e=>e!==n?e:i))}}))}getSectionValue(e,t,r){const n=this.state.config.find((t=>t.section===e));if(!n)return r;const i=n.items.find((e=>e.name===t));return i&&null!=i.value?i.value:r}_updateSectionValue(e,t,r){this.state.config.find((t=>t.section===e))?this.setState((n=>{const i=n.config.find((t=>t.section===e));if(!i)return;const o=i.items.slice(),s=i.items.findIndex((e=>e.name===t));if(-1===s)o.push({name:t,value:r()});else{const e=o[s];o[s]=_d(_d({},e),{},{value:r(e.value)})}const a=_d(_d({},i),{},{items:o});return{config:n.config.map((e=>e!==i?e:a))}})):this.addSection(e,[{name:t,value:r()}])}updateSectionValue(e,t,r){this._updateSectionValue(e,t,(()=>r))}renameSection(e,t){this.setState((r=>({config:r.config.map((r=>r.id!==e?r:_d(_d({},r),{},{section:t})))})))}forceRerenderSection(e){this.setState((t=>{const r={};return r.config=t.config.map((n=>{if(n.section!==e)return n;const i=this.generateSectionId(n);return n.id===t.activeTabKey&&(r.activeTabKey=i),_d(_d({},n),{},{id:i})})),r}))}isLoaded(){return Boolean(this.props.schema&&this.props.initialConfig&&this.state.config)}renderLoader(){return zt.createElement("center",null,zt.createElement(ua.default,{size:"large",tip:"Loading…"}))}renderFormActions(){return zt.createElement("div",{className:"form-actions-block"},zt.createElement(yt.default.Group,null,zt.createElement(Es.default,{placement:"bottom",title:(this.state.showToc?"Hide":"Show")+" Table of Contents"},zt.createElement(yt.default,{icon:this.state.showToc?"menu-fold":"menu-unfold",onClick:this.handleToggleTocClick})),zt.createElement(Es.default,{placement:"bottom",title:"Cancel current changes and revert configuration to the initial state"},zt.createElement(yt.default,{icon:"undo",onClick:this.handleRevertClick})),zt.createElement(Es.default,{placement:"bottom",title:"Open configuration file in a text editor"},zt.createElement(yt.default,{icon:"edit",onClick:this.handleOpen}))),this.renderNewSectionBtn(),zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{disabled:!this.isLoaded(),icon:"save",loading:this.state.saving,type:"primary",onClick:this.handleSaveClick},"Save")))}renderNewSectionBtn(){const e=zt.createElement(zs.default,{onClick:this.handleNewSectionMenuClick},!this.sectionExists(wn)&&zt.createElement(zs.default.Item,{key:wn,title:"Common configuration for all environments. Saved as [env] section in the `platformio.ini` file"},"Common Configuration"),!this.sectionExists(vn)&&zt.createElement(zs.default.Item,{key:vn,title:"Saved as [platformio] section in the platformio.ini file"},"PlatformIO Settings"));return e.props.children.filter((e=>!!e)).length?zt.createElement(_p.default.Button,{className:"add-section-btn",disabled:!this.isLoaded(),overlay:e,onClick:this.handleNewSectionBtnClick},zt.createElement(Ss.default,{type:"plus"})," Configuration"):zt.createElement(yt.default,{className:"add-section-btn",disabled:!this.isLoaded(),onClick:this.handleNewSectionBtnClick},zt.createElement(Ss.default,{type:"plus"})," Configuration")}renderConfigSection(e,t){const r=t.section,n=this.getSectionType(r);let i=r.replace(On,""),o="Configuration";n===wn?o=i="Common Configuration":n===vn?o=i="PIO Configuration":n===On&&(o="Working Configuration");const s={autoFocus:this.state.autoFocus&&this.state.autoFocus.section===r?this.state.autoFocus.option:void 0,id:e,name:r,initialValues:t.items,project:this.props.project,defaultEnv:n===On&&this.getSectionValue(vn,"default_envs",[]).includes(r.replace(On,"")),onRemove:this.handleSectionRemove,onRename:this.handleSectionRename,schema:this.props.schema[this.getSectionScope(n)]||[],showToc:this.state.showToc,title:o,type:n,onChange:this.handleSectionChange,onDefaultToggle:this.handleDefaultToggle,onDocumentationClick:this.handleDocumentationClick,onOptionAdd:this.handleOptionAdd,onOptionRemove:this.handleOptionRemove,onTocToggle:this.handleTocToggle},a=[`section-${n}-icon`];return s.defaultEnv&&a.push("default-env-icon"),zt.createElement(lu.default.TabPane,{key:e,size:"small",tab:zt.createElement(Es.default,{title:`Configuration [${r}]`},zt.createElement(Ss.default,{className:a.join(" "),type:this.getScopeIcon(r)}),i)},zt.createElement(jd,s))}renderConfig(){return this.isLoaded()?this.state.config.length?zt.createElement(Id,{activeKey:this.state.activeTabKey,defaultActiveKey:this.state.config.length?this.state.config[0].id:void 0,hideAdd:!0,onOrderChange:this.handleTabOrderChange,onChange:this.handleTabChange,type:"card"},this.state.config.map((e=>this.renderConfigSection(e.id,e)))):zt.createElement("ul",{className:"background-message option-like"},zt.createElement("li",null,"Please, use “+ Configuration” dropdown above to add new one")):this.renderLoader()}render(){return zt.createElement("div",{className:"project-config-page"},zt.createElement("h1",{className:"block clearfix"},zt.createElement("span",null,this.props.project.name),this.renderFormActions()),this.renderConfig())}}Ld(Fd,"propTypes",{location:js().object.isRequired,mtime:js().number,project:Lp.isRequired,initialConfig:js().arrayOf(js().shape({section:js().string.isRequired,items:js().arrayOf(Up)})),schema:js().shape({[yn]:Ap,[bn]:Ap}),loadConfigSchema:js().func.isRequired,loadProjectConfig:js().func.isRequired,saveProjectConfig:js().func.isRequired,openTextDocument:js().func.isRequired,osOpenUrl:js().func.isRequired}),Ld(Fd,"iconBySectionType",{[vn]:"appstore",[wn]:"environment",[On]:"environment",[jn]:"user"});const Ad={loadConfigSchema:Wo,loadProjectConfig:Go,openTextDocument:Te,osOpenUrl:ye,saveProjectConfig:Ko},Ud=(0,Ps.$j)((function(e,t){const{projectDir:r}=t.location.state,n=function(e){return Ot(e,ln)}(e)||{};return{project:Nn(e,r),schema:xn(e),initialConfig:n.config,mtime:n.mtime}}),Ad)(Fd);var zd=r("jeMM");function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(null,arguments)}function $d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Md extends zt.PureComponent{constructor(...e){super(...e),$d(this,"handleChange",(e=>{this.setState({value:e.target.value})})),$d(this,"handleSaveClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit(!0)})),$d(this,"handleCancelClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit()})),$d(this,"handleBeginEditClick",(e=>{e.preventDefault(),e.stopPropagation(),this.beginEdit()})),$d(this,"handleKeyDown",(e=>{27===e.keyCode?this.stopEdit():13===e.keyCode&&this.stopEdit(!0)})),$d(this,"handleUpdateRef",(e=>{this.$input=e})),this.state={editing:!1}}beginEdit(){this.setState({value:this.props.value,editing:!0},(()=>{this.$input&&this.$input.focus()}))}stopEdit(e){e&&this.state.value!==this.props.value&&(this.setState({saving:!0}),this.props.onSave(this.state.value,(()=>{this.setState({saving:!1})}))),this.setState({editing:!1})}renderEditor(){return zt.createElement("div",{className:"quick-edit",key:"1"},zt.createElement("div",{className:"input-col"},zt.createElement(Gs.default,Vd({},this.props.inputProps,{onBlur:this.handleSaveClick,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,ref:this.handleUpdateRef,value:this.state.value}))),zt.createElement("span",{className:"buttons"},zt.createElement(yt.default,{type:"primary",onClick:this.handleSaveClick},zt.createElement("span",{className:"return-icon"},"⏎"),"Save"),zt.createElement("span",{className:"delimiter"}," or "),zt.createElement("a",{onClick:this.handleCancelClick},"Cancel")))}render(){return zt.createElement("div",{className:"quick-edit-target-container"},zt.createElement("span",{onClick:this.handleBeginEditClick,style:{cursor:"text"}},this.props.value||this.props.placeholder),zt.createElement(Es.default,{title:"Inline edit description"},zt.createElement(yt.default,{className:"quick-edit-btn",icon:"edit",loading:this.state.saving,size:"small",type:"link",onClick:this.handleBeginEditClick})),zt.createElement(zd.Z,{transitionName:"fade",transitionAppear:!0},this.state.editing?this.renderEditor():null))}}function Zd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$d(Md,"propTypes",{inputProps:js().object,placeholder:js().string,value:js().string,onSave:js().func.isRequired});class Bd extends zt.PureComponent{constructor(...e){super(...e),Zd(this,"handleClick",(e=>{e.preventDefault(),this.props.onClick(e)}))}handleActionClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onAction&&this.props.onAction(t,this.props.data.path)}handleBoardClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onBoardClick&&this.props.onBoardClick(t)}handleSaveDescription(e,t){this.props.updateConfigDescription(this.props.data.path,e,t)}renderBoards(){const e=new Set;return zt.createElement("div",null,zt.createElement(Es.default,{title:"Boards"},zt.createElement(Ss.default,{type:"calculator"}))," ",this.props.data.boards.filter((({id:t})=>!e.has(t)&&e.add(t))).map((({name:e,id:t},r)=>zt.createElement(zt.Fragment,{key:t},r?", ":"",zt.createElement("a",{onClick:t=>this.handleBoardClick(t,e)},e)))))}renderExtraActions(){if(!this.props.extraActions)return;const e=zt.createElement(zs.default,{onClick:({key:e,domEvent:t})=>this.handleActionClick(t,e)},this.props.extraActions.map((e=>zt.createElement(zs.default.Item,{key:e.name},e.icon&&zt.createElement(zt.Fragment,null,zt.createElement(Ss.default,{type:e.icon})," "),e.text))));return zt.createElement(_p.default,{overlay:e},zt.createElement(yt.default,{size:"small",type:"link",onClick:e=>e.stopPropagation()},zt.createElement(Ss.default,{type:"ellipsis",rotate:90,style:{color:"grey",fontSize:16,verticalAlign:"middle"}})))}render(){return zt.createElement(ql.Z,{className:"list-item-card",extra:zt.createElement(zt.Fragment,null,zt.createElement("small",null,zt.createElement(Es.default,{title:`Last Modified: ${new Date(1e3*this.props.data.modified).toString()}`},zt.createElement(Ss.default,{type:"clock-circle"})," ",kr().relativeTime(this.props.data.modified)))," ",this.renderExtraActions()),title:zt.createElement("a",{onClick:this.handleClick},this.props.data.name)},zt.createElement("div",{className:"block"},zt.createElement(Md,{placeholder:"No description",value:this.props.data.description,onSave:this.handleSaveDescription.bind(this)})),zt.createElement("div",{className:"pull-right"},this.props.actions&&this.props.actions.map(((e,t)=>zt.createElement(yt.default.Group,{key:t},e.map((e=>zt.createElement(yt.default,{key:e.name,icon:e.icon,type:e.type,onClick:t=>this.handleActionClick(t,e.name)},e.text))))))),zt.createElement("div",{className:"environments-list"},zt.createElement(Es.default,{title:"Environments"},zt.createElement(Ss.default,{type:"environment"}))," ",this.props.data.envs.map((e=>zt.createElement(da.Z,{key:e},e)))),this.props.data.boards.length>0&&this.renderBoards())}}function Yd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(r),!0).forEach((function(t){Gd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Zd(Bd,"propTypes",{data:Lp,actions:js().arrayOf(js().arrayOf(Fp)),extraActions:js().arrayOf(Fp),onAction:js().func,onClick:js().func,onBoardClick:js().func,updateConfigDescription:js().func.isRequired});const Kd="hide",Hd="reveal",Jd="configure",Qd="open";class Xd extends zt.PureComponent{constructor(...e){super(...e),Gd(this,"handleAction",((e,t)=>{switch(e){case Jd:at(this.props.history,"/projects/config",{projectDir:t});break;case Kd:this.props.hideProject(t);break;case Hd:this.props.osRevealFile(t);break;case Qd:this.props.openProject(t)}})),Gd(this,"handleFilterChange",(e=>{this.setState({filterValue:e.target.value})})),Gd(this,"handleSearch",(()=>{this.props.setFilter(this.state.filterValue)})),Gd(this,"handleBoardClick",(e=>{this.props.updateInputValue(ii,e),this.props.showBoards()})),Gd(this,"handleUpdateConfigDescription",((e,t,r)=>{this.props.updateConfigDescription(e,t,r)})),Gd(this,"handleOpenProjectClick",(()=>{this.setState({openProjectVisible:!0})})),Gd(this,"handleOpenProjectCancel",(()=>{this.setState({openProjectVisible:!1})})),Gd(this,"handleNewProjectCancel",(()=>{this.setState({newProjectVisible:!1})})),Gd(this,"handleCreateNewProjectClick",(()=>{this.setState({newProjectVisible:!0})})),this.state={newProjectVisible:!1,openProjectVisible:!1}}componentDidMount(){this.props.items||this.props.loadProjects()}getActionsConfiguration(){return[[{name:Qd,icon:"folder-open",text:"Open",type:"primary"},{name:Jd,icon:"setting",text:"Configure",type:"primary"}]]}getExtraActions(){return[{name:Kd,icon:"eye-invisible",text:"Hide"},{name:Hd,icon:"folder",text:"Reveal"}]}renderData(){const e=this.props.items.slice().sort(((e,t)=>t.modified-e.modified));return e.length?zt.createElement("div",null,e.map((e=>zt.createElement(Bd,{key:e.path,data:e,actions:this.getActionsConfiguration(),extraActions:this.getExtraActions(),onAction:this.handleAction,onClick:()=>this.handleAction(Jd,e.path),onBoardClick:this.handleBoardClick,updateConfigDescription:this.handleUpdateConfigDescription})))):zt.createElement("ul",{className:"background-message text-center"},zt.createElement("li",null,"No Results"))}renderModals(){return zt.createElement(zt.Fragment,null,zt.createElement(Il,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel}),zt.createElement(Nl,{visible:this.state.newProjectVisible,onCancel:this.handleNewProjectCancel}))}renderFormActions(){return zt.createElement("div",{className:"pull-right"},zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{icon:"folder-open",type:this.props.items.length?"default":"primary",onClick:this.handleOpenProjectClick},"Add Existing"),zt.createElement(yt.default,{icon:"plus",type:this.props.items.length?"default":"primary",onClick:this.handleCreateNewProjectClick},"Create New Project")))}render(){return zt.createElement("div",{className:"project-list-page"},this.renderModals(),!this.props.items&&zt.createElement("center",null,zt.createElement(ua.default,{size:"large",tip:"Loading…"})),this.props.items&&zt.createElement("div",null,zt.createElement("h1",{className:"block clearfix"},zt.createElement("span",null,"Projects ",zt.createElement(Us.Z,{count:this.props.items.length})),this.renderFormActions()),zt.createElement("div",{className:"block"},zt.createElement(Gs.default.Search,{allowClear:!0,autoFocus:!0,defaultValue:this.props.filterValue,enterButton:!0,placeholder:"Search projects",onChange:this.handleFilterChange,onSearch:this.handleSearch,size:"large",style:{width:"100%"}})),this.renderData(),0===this.props.items.length&&zt.createElement("div",{className:"text-center"},zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default,{icon:"folder-open",type:"primary",onClick:this.handleOpenProjectClick},"Add Existing")),zt.createElement("li",null,"or"),zt.createElement("li",null,zt.createElement(yt.default,{icon:"plus",type:"primary",onClick:this.handleCreateNewProjectClick},"Create New Project"))))))}}Gd(Xd,"propTypes",{filterValue:js().string,history:js().object.isRequired,items:js().arrayOf(Lp),loadProjects:js().func.isRequired,hideProject:js().func.isRequired,openProject:js().func.isRequired,osRevealFile:js().func.isRequired,updateInputValue:js().func.isRequired,showBoards:js().func.isRequired,updateConfigDescription:js().func.isRequired,setFilter:js().func.isRequired});const em=[{path:"/projects",component:(0,Ps.$j)((function(e){return{filterValue:Sn(e),items:Tn(e)}}),(function(e,t){return Wd(Wd({},(0,c.DE)({loadProjects:$o,hideProject:Uo,openProject:zo,osRevealFile:be,setFilter:t=>e(_(Cn,t)),updateInputValue:q,updateConfigDescription:Ho},e)),{},{showBoards:()=>at(t.history,"/boards")})}))(Xd)},{path:"/projects/config",component:Ud}];class tm extends zt.PureComponent{render(){return zt.createElement("section",{className:"page-container project-module"},zt.createElement(Ys,{routes:em,disableMenu:!0}))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(tm,"propTypes",{});const rm=[{path:"/",icon:"home",label:"Home",component:Vl},{path:"/account",component:$a},{path:"/projects",icon:"file-ppt",label:"Projects",component:tm},{path:"/inspect",icon:"monitor",label:"Inspect",component:eu},{path:"/libraries",icon:"book",label:"Libraries",component:Ju},{path:"/boards",icon:"calculator",label:"Boards",component:Ya},{path:"/platforms",icon:"appstore",label:"Platforms",component:qp},{path:"/device",icon:"usb",label:"Devices",component:ol}];class nm extends zt.Component{renderHeader(){const e=this.context.router;return zt.createElement("div",{className:"header-container"},zt.createElement("table",{cellPadding:"0",cellSpacing:"0",width:"100%"},zt.createElement("tbody",null,zt.createElement("tr",null,zt.createElement("td",null,zt.createElement("ul",{className:"list-inline"},zt.createElement("li",null,zt.createElement(yt.default.Group,null,zt.createElement(yt.default,{icon:"left",title:"Go Back",disabled:e.history.length<1||0===e.history.index,onClick:()=>e.history.goBack()}),zt.createElement(yt.default,{icon:"right",title:"Go Forward",disabled:e.history.length<1||e.history.index>=e.history.length-1,onClick:()=>e.history.goForward()}))),zt.createElement("li",null,zt.createElement(As,null)),zt.createElement("li",null,zt.createElement(Zs,null)))),zt.createElement("td",{className:"account-bar text-right"},zt.createElement(Cs,{router:e}))))))}render(){return zt.createElement(bs.Z,{hasSider:!0,className:"app-container"},zt.createElement(bs.Z.Sider,{width:64},zt.createElement("div",{className:"logo"},zt.createElement(Es.default,{placement:"right",title:"Reload Home"},zt.createElement("a",{href:window.location.href},zt.createElement(Ls,{width:"32px",height:"32px"})))),zt.createElement($s,{router:this.context.router,routes:rm,theme:"dark"})),zt.createElement(bs.Z,{className:"main-container"},zt.createElement(bs.Z.Header,null,this.renderHeader()),zt.createElement(bs.Z.Content,null,zt.createElement(vs.Z,null,rm.slice(0).reverse().map((e=>zt.createElement(ws.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}))))),zt.createElement(_s,null)))}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(nm,"contextTypes",{router:js().object.isRequired});var im=r("7B0+"),om=r("TRVC"),sm=r("i8i4");e=r.hmd(e),window.addEventListener("error",(e=>ot(e,!0))),(0,sm.render)(zt.createElement(im.zj,null,zt.createElement(Ps.zt,{store:fs()},zt.createElement(om.Z,{initialEntries:[st()]},zt.createElement(nm,null)))),document.getElementById("app")),e&&e.hot},OYSl:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={home:"https://www.aceinna.com/",welcome:"https://github.com/Aceinna/platform-aceinna_imu#description",linkedin:"https://www.linkedin.com/company/aceinna",twitter:"https://twitter.com/MEMSsensortech",github:"https://github.com/aceinna",weibo:"https://weibo.com/"},i={name:"aceinna",title:"Aceinna's OpenIMU Platform",menuIgnorePatterns:[/^\/boards/,/^\/libraries\/builtin/,/^\/platforms\/(embedded|desktop|frameworks)/,/^\/device\//],ignoreQuickAccessButtons:["new-project","import-arduino-project"],filterProjectExample:e=>"Aceinna IMU"===e.platform.title,filterPlatformCard:e=>"Aceinna IMU"===e.title,companyLogoSrc:r("KKwB").Z,companyLogoHomeHeight:"150px",footerQuickLinks:[{title:"Web",url:n.home},{title:"Open Source",url:n.github},{title:"Documentation",url:"https://www.aceinna.com/support/technical-documentation.cfm"},{title:"News",url:n.twitter},{title:"Contact",url:"https://www.aceinna.com/about-aceinna/contact.cfm"}],remapCustomIcons:{calculator:"axis"},singleDevPlatform:!0,urls:n,messages:{homeQuickButtonProjectExamples:"Custom IMU Examples",Boards:"IMUs","Search board...":"Search IMU..."}}},umR1:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={home:"https://platformio.org",twitter:"https://twitter.com/PlatformIO_Org",facebook:"https://www.facebook.com/platformio",linkedin:"https://www.linkedin.com/company/platformio",github:"https://github.com/platformio",community:"https://community.platformio.org"},i={name:"platformio",title:"PlatformIO",companyLogoSrc:r("Ggwo").Z,showPIOVersions:!0,footerQuickLinks:[{title:"Web",url:n.home},{title:"Open Source",url:n.github},{title:"Get Started",url:"http://docs.platformio.org/page/ide/pioide.html"},{title:"Docs",url:"http://docs.platformio.org"},{title:"News",url:n.twitter},{title:"Community",url:n.community},{title:"Contact Us",url:"https://platformio.org/contact"}],urls:n,messages:{homeQuickButtonProjectExamples:"Project Examples"}}},"BN/O":()=>{},Mqsz:(e,t,r)=>{"use strict";r.r(t)},I6LC:(e,t,r)=>{"use strict";r.r(t)},"1h1p":(e,t,r)=>{"use strict";r.r(t)},SbL1:(e,t,r)=>{"use strict";r.r(t)},tDDE:(e,t,r)=>{"use strict";r.r(t)},Vm0n:(e,t,r)=>{"use strict";r.r(t)},BUwq:(e,t,r)=>{"use strict";r.r(t)},t3b5:(e,t,r)=>{"use strict";r.r(t)},"+Yii":(e,t,r)=>{"use strict";r.r(t)},f9Tb:(e,t,r)=>{"use strict";r.r(t)},v5Ti:(e,t,r)=>{"use strict";r.r(t)},U29f:(e,t,r)=>{"use strict";r.r(t)},"0oXa":(e,t,r)=>{"use strict";r.r(t)},Zu6W:(e,t,r)=>{"use strict";r.r(t)},OuoA:(e,t,r)=>{"use strict";r.r(t)},zzsB:(e,t,r)=>{"use strict";r.r(t)},"0UlX":(e,t,r)=>{"use strict";r.r(t)},rp8K:(e,t,r)=>{"use strict";r.r(t)},fAD1:(e,t,r)=>{"use strict";r.r(t)},z6co:(e,t,r)=>{"use strict";r.r(t)},cWcZ:(e,t,r)=>{"use strict";r.r(t)},n8z6:(e,t,r)=>{"use strict";r.r(t)},TTTe:(e,t,r)=>{"use strict";r.r(t)},ruVM:(e,t,r)=>{"use strict";r.r(t)},bnhw:(e,t,r)=>{"use strict";r.r(t)},"/Qfb":(e,t,r)=>{"use strict";r.r(t)},"jq3/":(e,t,r)=>{"use strict";r.r(t)},wMbK:(e,t,r)=>{"use strict";r.r(t)},n5kg:(e,t,r)=>{"use strict";r.r(t)},"8Rp+":(e,t,r)=>{"use strict";r.r(t)},Ps1J:(e,t,r)=>{"use strict";r.r(t)},fRLH:(e,t,r)=>{"use strict";r.r(t)},pufV:(e,t,r)=>{"use strict";r.r(t)},i3PN:(e,t,r)=>{"use strict";r.r(t)},IPTm:(e,t,r)=>{"use strict";r.r(t)},"/awd":(e,t,r)=>{var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-ps":"TJgH","./ar-ps.js":"TJgH","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku-kmr":"dVgr","./ku-kmr.js":"dVgr","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="/awd"},KKwB:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"c8c344bf412e39d6870b854aff4ff697.png"},Ggwo:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"aa26f4c586d693de89e43d53ff83eac3.png"},T374:()=>{},XaOI:(e,t,r)=>{"use strict";r.d(t,{eM:()=>u});const n="undefined"!=typeof global?global:self,i=n.MutationObserver||n.WebKitMutationObserver;function o(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const s="function"==typeof i?function(e){let t=1;const r=new i(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:o;class a{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const l=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=s(this.flush),this.requestErrorThrow=o((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},c=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new a(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(l.registerPendingError);function u(e){l.enqueueTask(c.create(e))}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,i,o)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,i,o]=e[u],a=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[s[c]]=0;return n.O(u)},r=self.webpackChunkplatformio_home=self.webpackChunkplatformio_home||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[736],(()=>n("aIWJ")));var i=n.O(void 0,[736],(()=>n("BN/O")));i=n.O(i)})();